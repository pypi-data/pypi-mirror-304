import{s as ta,A as ea,e as l,k as v,t as n,c as r,a as c,H as Se,o as h,b as i,d,f as s,i as Xe,g as t,B as Rt,u as Wt,C as aa,h as y,D as sa,E as la,p as ra,j as oa,q as na,G as Ge}from"../chunks/scheduler.UhqRSRjm.js";import{S as ia,i as da,f as ua,b as ca,d as pa,m as ma,t as fa,a as va,e as ha}from"../chunks/index.nGViVUxX.js";import{t as Ke}from"../chunks/Toaster.svelte_svelte_type_style_lang.BewAq8ge.js";import{g as ga}from"../chunks/entry.lU4YEH-X.js";import{p as _a}from"../chunks/index.Cil07SkK.js";import{c as ba,g as ya}from"../chunks/index.BPuXyONP.js";import{T as wa}from"../chunks/Textarea.wVitPG3r.js";function Qe(a){let m,u=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){m=l("div"),m.innerHTML=u,this.h()},l(_){m=r(_,"DIV",{class:!0,"data-svelte-h":!0}),Se(m)!=="svelte-qf5fty"&&(m.innerHTML=u),this.h()},h(){s(m,"class","ml-1.5 self-center")},m(_,F){Xe(_,m,F)},d(_){_&&d(m)}}}function ka(a){let m,u,_,F='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',J,b,E=a[4].t("Back")+"",V,K,w,P,B,R=a[4].t("Title")+"",Q,nt,f,x,C,Et,Yt,N,W,it=a[4].t("Command")+"",It,Gt,Kt,L,Y,Pe="/",Qt,S,Dt,Xt,I,dt=a[4].t("Only")+"",xt,$t,X,ut=a[4].t("alphanumeric characters and hyphens")+"",At,te,ct=a[4].t("are allowed - Activate this command by typing")+"",Vt,ee,z,ae,Ct,se,le,pt=a[4].t("to chat input.")+"",St,re,q,$,G,mt=a[4].t("Prompt Content")+"",Pt,oe,ne,T,ft,O,ie,de,g,ue,vt=a[4].t("Format your variables using brackets like this:")+"",Nt,ce,U,Ne="{{",pe,ht=a[4].t("variable")+"",Tt,Te="}}",me,fe,gt=a[4].t("Make sure to enclose them with")+"",Mt,ve,tt,Me="{{",he,ge,_t=a[4].t("and")+"",Bt,_e,et,Be="}}",be,ye,we,H,bt=a[4].t("Utilize")+"",Ot,at,Oe=" {{CLIPBOARD}}",ke,Ee,yt=a[4].t("variable to have them replaced with clipboard content.")+"",Ht,Ie,st,A,lt,wt=a[4].t("Save & Create")+"",Lt,De,zt,p,xe,He;function $e(e){a[10](e)}let Le={className:"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none overflow-y-hidden rounded-lg resize-none",placeholder:a[4].t("Write a summary in 50 words that summarizes [topic or keyword]."),rows:6,required:!0};a[3]!==void 0&&(Le.value=a[3]),O=new wa({props:Le}),ea.push(()=>ua(O,"value",$e));let k=a[1]&&Qe();return{c(){m=l("div"),u=l("button"),_=l("div"),_.innerHTML=F,J=v(),b=l("div"),V=n(E),K=v(),w=l("form"),P=l("div"),B=l("div"),Q=n(R),nt=n("*"),f=v(),x=l("div"),C=l("input"),Yt=v(),N=l("div"),W=l("div"),It=n(it),Gt=n("*"),Kt=v(),L=l("div"),Y=l("div"),Y.textContent=Pe,Qt=v(),S=l("input"),Xt=v(),I=l("div"),xt=n(dt),$t=v(),X=l("span"),At=n(ut),te=v(),Vt=n(ct),ee=n(' "'),z=l("span"),ae=n("/"),Ct=n(a[2]),se=v(),le=n(`"  
				`),St=n(pt),re=v(),q=l("div"),$=l("div"),G=l("div"),Pt=n(mt),oe=n("*"),ne=v(),T=l("div"),ft=l("div"),ca(O.$$.fragment),de=v(),g=l("div"),ue=n("ⓘ "),Nt=n(vt),ce=n(" "),U=l("span"),pe=n(Ne),Tt=n(ht),me=n(Te),fe=n(`.
					`),Mt=n(gt),ve=v(),tt=l("span"),he=n(Me),ge=v(),Bt=n(_t),_e=v(),et=l("span"),be=n(Be),ye=n("."),we=v(),H=l("div"),Ot=n(bt),at=l("span"),ke=n(Oe),Ee=v(),Ht=n(yt),Ie=v(),st=l("div"),A=l("button"),lt=l("div"),Lt=n(wt),De=v(),k&&k.c(),this.h()},l(e){m=r(e,"DIV",{class:!0});var o=c(m);u=r(o,"BUTTON",{class:!0});var j=c(u);_=r(j,"DIV",{class:!0,"data-svelte-h":!0}),Se(_)!=="svelte-1klo87r"&&(_.innerHTML=F),J=h(j),b=r(j,"DIV",{class:!0});var ze=c(b);V=i(ze,E),ze.forEach(d),j.forEach(d),K=h(o),w=r(o,"FORM",{class:!0});var Z=c(w);P=r(Z,"DIV",{class:!0});var qt=c(P);B=r(qt,"DIV",{class:!0});var Ae=c(B);Q=i(Ae,R),nt=i(Ae,"*"),Ae.forEach(d),f=h(qt),x=r(qt,"DIV",{});var qe=c(x);C=r(qe,"INPUT",{class:!0,placeholder:!0}),qe.forEach(d),qt.forEach(d),Yt=h(Z),N=r(Z,"DIV",{class:!0});var rt=c(N);W=r(rt,"DIV",{class:!0});var Ve=c(W);It=i(Ve,it),Gt=i(Ve,"*"),Ve.forEach(d),Kt=h(rt),L=r(rt,"DIV",{class:!0});var Ut=c(L);Y=r(Ut,"DIV",{class:!0,"data-svelte-h":!0}),Se(Y)!=="svelte-hteuxn"&&(Y.textContent=Pe),Qt=h(Ut),S=r(Ut,"INPUT",{class:!0,placeholder:!0}),Ut.forEach(d),Xt=h(rt),I=r(rt,"DIV",{class:!0});var M=c(I);xt=i(M,dt),$t=h(M),X=r(M,"SPAN",{class:!0});var Ue=c(X);At=i(Ue,ut),Ue.forEach(d),te=h(M),Vt=i(M,ct),ee=i(M,' "'),z=r(M,"SPAN",{class:!0});var jt=c(z);ae=i(jt,"/"),Ct=i(jt,a[2]),se=h(jt),jt.forEach(d),le=i(M,`"  
				`),St=i(M,pt),M.forEach(d),rt.forEach(d),re=h(Z),q=r(Z,"DIV",{class:!0});var Zt=c(q);$=r(Zt,"DIV",{class:!0});var je=c($);G=r(je,"DIV",{class:!0});var Ce=c(G);Pt=i(Ce,mt),oe=i(Ce,"*"),Ce.forEach(d),je.forEach(d),ne=h(Zt),T=r(Zt,"DIV",{class:!0});var ot=c(T);ft=r(ot,"DIV",{});var Ze=c(ft);pa(O.$$.fragment,Ze),Ze.forEach(d),de=h(ot),g=r(ot,"DIV",{class:!0});var D=c(g);ue=i(D,"ⓘ "),Nt=i(D,vt),ce=i(D," "),U=r(D,"SPAN",{class:!0});var Ft=c(U);pe=i(Ft,Ne),Tt=i(Ft,ht),me=i(Ft,Te),Ft.forEach(d),fe=i(D,`.
					`),Mt=i(D,gt),ve=h(D),tt=r(D,"SPAN",{class:!0});var Fe=c(tt);he=i(Fe,Me),Fe.forEach(d),ge=h(D),Bt=i(D,_t),_e=h(D),et=r(D,"SPAN",{class:!0});var Je=c(et);be=i(Je,Be),Je.forEach(d),ye=i(D,"."),D.forEach(d),we=h(ot),H=r(ot,"DIV",{class:!0});var kt=c(H);Ot=i(kt,bt),at=r(kt,"SPAN",{class:!0});var Re=c(at);ke=i(Re,Oe),Re.forEach(d),Ee=h(kt),Ht=i(kt,yt),kt.forEach(d),ot.forEach(d),Zt.forEach(d),Ie=h(Z),st=r(Z,"DIV",{class:!0});var We=c(st);A=r(We,"BUTTON",{class:!0,type:!0});var Jt=c(A);lt=r(Jt,"DIV",{class:!0});var Ye=c(lt);Lt=i(Ye,wt),Ye.forEach(d),De=h(Jt),k&&k.l(Jt),Jt.forEach(d),We.forEach(d),Z.forEach(d),o.forEach(d),this.h()},h(){s(_,"class","self-center"),s(b,"class","self-center font-medium text-sm"),s(u,"class","flex space-x-1"),s(B,"class","text-sm font-semibold mb-2"),s(C,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),s(C,"placeholder",Et=a[4].t("Add a short title for this prompt")),C.required=!0,s(P,"class","my-2"),s(W,"class","text-sm font-semibold mb-2"),s(Y,"class","bg-gray-200 dark:bg-gray-600 font-semibold px-3 py-1 border border-r-0 dark:border-gray-600 rounded-l-lg"),s(S,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-r-lg"),s(S,"placeholder",Dt=a[4].t("short-summary")),S.required=!0,s(L,"class","flex items-center mb-1"),s(X,"class","text-gray-600 dark:text-gray-300 font-medium"),s(z,"class","text-gray-600 dark:text-gray-300 font-medium"),s(I,"class","text-xs text-gray-400 dark:text-gray-500"),s(N,"class","my-2"),s(G,"class","self-center text-sm font-semibold"),s($,"class","flex w-full justify-between"),s(U,"class","text-gray-600 dark:text-gray-300 font-medium"),s(tt,"class","text-gray-600 dark:text-gray-300 font-medium"),s(et,"class","text-gray-600 dark:text-gray-300 font-medium"),s(g,"class","text-xs text-gray-400 dark:text-gray-500"),s(at,"class","text-gray-600 dark:text-gray-300 font-medium"),s(H,"class","text-xs text-gray-400 dark:text-gray-500"),s(T,"class","mt-2"),s(q,"class","my-2"),s(lt,"class","self-center font-medium"),s(A,"class",zt="text-sm px-3 py-2 transition rounded-xl "+(a[1]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),s(A,"type","submit"),A.disabled=a[1],s(st,"class","my-2 flex justify-end"),s(w,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10 pb-10"),s(m,"class","w-full max-h-full")},m(e,o){Xe(e,m,o),t(m,u),t(u,_),t(u,J),t(u,b),t(b,V),t(m,K),t(m,w),t(w,P),t(P,B),t(B,Q),t(B,nt),t(P,f),t(P,x),t(x,C),Rt(C,a[0]),t(w,Yt),t(w,N),t(N,W),t(W,It),t(W,Gt),t(N,Kt),t(N,L),t(L,Y),t(L,Qt),t(L,S),Rt(S,a[2]),t(N,Xt),t(N,I),t(I,xt),t(I,$t),t(I,X),t(X,At),t(I,te),t(I,Vt),t(I,ee),t(I,z),t(z,ae),t(z,Ct),t(z,se),t(I,le),t(I,St),t(w,re),t(w,q),t(q,$),t($,G),t(G,Pt),t(G,oe),t(q,ne),t(q,T),t(T,ft),ma(O,ft,null),t(T,de),t(T,g),t(g,ue),t(g,Nt),t(g,ce),t(g,U),t(U,pe),t(U,Tt),t(U,me),t(g,fe),t(g,Mt),t(g,ve),t(g,tt),t(tt,he),t(g,ge),t(g,Bt),t(g,_e),t(g,et),t(et,be),t(g,ye),t(T,we),t(T,H),t(H,Ot),t(H,at),t(at,ke),t(H,Ee),t(H,Ht),t(w,Ie),t(w,st),t(st,A),t(A,lt),t(lt,Lt),t(A,De),k&&k.m(A,null),p=!0,xe||(He=[Wt(u,"click",a[7]),Wt(C,"input",a[8]),Wt(S,"input",a[9]),Wt(w,"submit",aa(a[11]))],xe=!0)},p(e,[o]){(!p||o&16)&&E!==(E=e[4].t("Back")+"")&&y(V,E),(!p||o&16)&&R!==(R=e[4].t("Title")+"")&&y(Q,R),(!p||o&16&&Et!==(Et=e[4].t("Add a short title for this prompt")))&&s(C,"placeholder",Et),o&1&&C.value!==e[0]&&Rt(C,e[0]),(!p||o&16)&&it!==(it=e[4].t("Command")+"")&&y(It,it),(!p||o&16&&Dt!==(Dt=e[4].t("short-summary")))&&s(S,"placeholder",Dt),o&4&&S.value!==e[2]&&Rt(S,e[2]),(!p||o&16)&&dt!==(dt=e[4].t("Only")+"")&&y(xt,dt),(!p||o&16)&&ut!==(ut=e[4].t("alphanumeric characters and hyphens")+"")&&y(At,ut),(!p||o&16)&&ct!==(ct=e[4].t("are allowed - Activate this command by typing")+"")&&y(Vt,ct),(!p||o&4)&&y(Ct,e[2]),(!p||o&16)&&pt!==(pt=e[4].t("to chat input.")+"")&&y(St,pt),(!p||o&16)&&mt!==(mt=e[4].t("Prompt Content")+"")&&y(Pt,mt);const j={};o&16&&(j.placeholder=e[4].t("Write a summary in 50 words that summarizes [topic or keyword].")),!ie&&o&8&&(ie=!0,j.value=e[3],sa(()=>ie=!1)),O.$set(j),(!p||o&16)&&vt!==(vt=e[4].t("Format your variables using brackets like this:")+"")&&y(Nt,vt),(!p||o&16)&&ht!==(ht=e[4].t("variable")+"")&&y(Tt,ht),(!p||o&16)&&gt!==(gt=e[4].t("Make sure to enclose them with")+"")&&y(Mt,gt),(!p||o&16)&&_t!==(_t=e[4].t("and")+"")&&y(Bt,_t),(!p||o&16)&&bt!==(bt=e[4].t("Utilize")+"")&&y(Ot,bt),(!p||o&16)&&yt!==(yt=e[4].t("variable to have them replaced with clipboard content.")+"")&&y(Ht,yt),(!p||o&16)&&wt!==(wt=e[4].t("Save & Create")+"")&&y(Lt,wt),e[1]?k||(k=Qe(),k.c(),k.m(A,null)):k&&(k.d(1),k=null),(!p||o&2&&zt!==(zt="text-sm px-3 py-2 transition rounded-xl "+(e[1]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&s(A,"class",zt),(!p||o&2)&&(A.disabled=e[1])},i(e){p||(fa(O.$$.fragment,e),p=!0)},o(e){va(O.$$.fragment,e),p=!1},d(e){e&&d(m),ha(O),k&&k.d(),xe=!1,la(He)}}}function Ea(a,m,u){let _;const F=ra("i18n");oa(a,F,f=>u(4,_=f));let J=!1,b="",E="",V="";const K=async()=>{u(1,J=!0),w(E)?await ba(localStorage.token,E,b,V).catch(x=>(Ke.error(x),null))&&(await _a.set(await ya(localStorage.token)),await ga("/workspace/prompts")):Ke.error(_.t("Only alphanumeric characters and hyphens are allowed in the command string.")),u(1,J=!1)},w=f=>/^[a-zA-Z0-9-]+$/.test(f);na(async()=>{if(window.addEventListener("message",async f=>{if(!["https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(f.origin))return;const x=JSON.parse(f.data);console.log(x),u(0,b=x.title),await Ge(),u(3,V=x.content),u(2,E=x.command)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.prompt){const f=JSON.parse(sessionStorage.prompt);console.log(f),u(0,b=f.title),await Ge(),u(3,V=f.content),u(2,E=f.command.at(0)==="/"?f.command.slice(1):f.command),sessionStorage.removeItem("prompt")}});const P=()=>{history.back()};function B(){b=this.value,u(0,b)}function R(){E=this.value,u(2,E),u(0,b)}function Q(f){V=f,u(3,V)}const nt=()=>{K()};return a.$$.update=()=>{a.$$.dirty&1&&u(2,E=b!==""?`${b.replace(/\s+/g,"-").toLowerCase()}`:"")},[b,J,E,V,_,F,K,P,B,R,Q,nt]}class Pa extends ia{constructor(m){super(),da(this,m,Ea,ka,ta,{})}}export{Pa as component};
//# sourceMappingURL=24.D2BWrg6b.js.map
