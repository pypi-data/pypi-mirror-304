import{s as be,k as D,l as te,m as ke,d as p,o as V,i as C,j as G,p as we,q as Ee,e as y,c as I,H as ye,a as w,f as n,g as m,u as F,C as Ie,n as le,t as T,b as H,h as P,B as Z,E as Se,y as j,z as O}from"../chunks/scheduler.BwES1eAZ.js";import{S as Be,i as Ne,t as J,a as Q,c as ve,g as ge,b as Ue,d as Ae,m as Me,e as De}from"../chunks/index.JIjGThd1.js";import{g as re}from"../chunks/entry.Dtt6bcfU.js";import{u as Ve,g as Ce,a as We}from"../chunks/index.Bs7QTODG.js";import{S as Te}from"../chunks/Spinner.CXnOjLIu.js";import{e as ie,u as ae,g as He,W as Pe,d as $}from"../chunks/index.C9ZMts_b.js";import{t as x}from"../chunks/Toaster.svelte_svelte_type_style_lang.B-_b2mbR.js";import{g as ze}from"../chunks/index.NeePGI5c.js";import{p as je}from"../chunks/stores.DwA8Ctdq.js";import{a as Oe}from"../chunks/index.BkKzHNgE.js";function se(o){let e,t=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${$}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,l,a,r,i,f,s;const d=[qe,Ye],u=[];function h(c,v){var _,b;return(((_=c[5])==null?void 0:_.features.auth_trusted_header)??!1)||((b=c[5])==null?void 0:b.features.auth)===!1?0:1}return i=h(o),f=u[i]=d[i](o),{c(){e=y("div"),e.innerHTML=t,l=D(),a=y("div"),r=y("div"),f.c(),this.h()},l(c){e=I(c,"DIV",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-18zumjz"&&(e.innerHTML=t),l=V(c),a=I(c,"DIV",{class:!0});var v=w(a);r=I(v,"DIV",{class:!0});var _=w(r);f.l(_),_.forEach(p),v.forEach(p),this.h()},h(){n(e,"class","fixed m-10 z-50"),n(r,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),n(a,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-primary")},m(c,v){C(c,e,v),C(c,l,v),C(c,a,v),m(a,r),u[i].m(r,null),s=!0},p(c,v){let _=i;i=h(c),i===_?u[i].p(c,v):(ge(),Q(u[_],1,1,()=>{u[_]=null}),ve(),f=u[i],f?f.p(c,v):(f=u[i]=d[i](c),f.c()),J(f,1),f.m(r,null))},i(c){s||(J(f),s=!0)},o(c){Q(f),s=!1},d(c){c&&(p(e),p(l),p(a)),u[i].d()}}}function Ye(o){var Y,M,A,k;let e,t,l,a,r,i,f,s,d=Object.keys(((M=(Y=o[5])==null?void 0:Y.oauth)==null?void 0:M.providers)??{}).length>0,u,h;function c(E,N){return E[1]==="signin"?Le:Fe}let v=c(o),_=v(o),b=o[1]==="signup"&&oe(o),g=((A=o[5])==null?void 0:A.features.enable_login_form)&&ne(o),S=((k=o[5])==null?void 0:k.features.enable_login_form)&&fe(o),U=d&&ce(o);return{c(){e=y("div"),t=y("form"),l=y("div"),a=y("div"),_.c(),r=D(),b&&b.c(),i=D(),g&&g.c(),f=D(),S&&S.c(),s=D(),U&&U.c(),this.h()},l(E){e=I(E,"DIV",{class:!0});var N=w(e);t=I(N,"FORM",{class:!0});var W=w(t);l=I(W,"DIV",{class:!0});var z=w(l);a=I(z,"DIV",{class:!0});var q=w(a);_.l(q),q.forEach(p),r=V(z),b&&b.l(z),z.forEach(p),i=V(W),g&&g.l(W),f=V(W),S&&S.l(W),W.forEach(p),s=V(N),U&&U.l(N),N.forEach(p),this.h()},h(){n(a,"class","text-2xl font-medium"),n(l,"class","mb-1"),n(t,"class","flex flex-col justify-center"),n(e,"class","my-auto pb-10 w-full dark:text-gray-100")},m(E,N){C(E,e,N),m(e,t),m(t,l),m(l,a),_.m(a,null),m(l,r),b&&b.m(l,null),m(t,i),g&&g.m(t,null),m(t,f),S&&S.m(t,null),m(e,s),U&&U.m(e,null),u||(h=F(t,"submit",Ie(o[14])),u=!0)},p(E,N){var W,z,q,B;v===(v=c(E))&&_?_.p(E,N):(_.d(1),_=v(E),_&&(_.c(),_.m(a,null))),E[1]==="signup"?b?b.p(E,N):(b=oe(E),b.c(),b.m(l,null)):b&&(b.d(1),b=null),(W=E[5])!=null&&W.features.enable_login_form?g?g.p(E,N):(g=ne(E),g.c(),g.m(t,f)):g&&(g.d(1),g=null),(z=E[5])!=null&&z.features.enable_login_form?S?S.p(E,N):(S=fe(E),S.c(),S.m(t,null)):S&&(S.d(1),S=null),N&32&&(d=Object.keys(((B=(q=E[5])==null?void 0:q.oauth)==null?void 0:B.providers)??{}).length>0),d?U?U.p(E,N):(U=ce(E),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},i:le,o:le,d(E){E&&p(e),_.d(),b&&b.d(),g&&g.d(),S&&S.d(),U&&U.d(),u=!1,h()}}}function qe(o){let e,t,l,a=o[6].t("Signing in to {{WEBUI_NAME}}",{WEBUI_NAME:o[7]})+"",r,i,f,s,d;return s=new Te({}),{c(){e=y("div"),t=y("div"),l=y("div"),r=T(a),i=D(),f=y("div"),Ue(s.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var h=w(e);t=I(h,"DIV",{class:!0});var c=w(t);l=I(c,"DIV",{});var v=w(l);r=H(v,a),v.forEach(p),i=V(c),f=I(c,"DIV",{});var _=w(f);Ae(s.$$.fragment,_),_.forEach(p),c.forEach(p),h.forEach(p),this.h()},h(){n(t,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-semibold dark:text-gray-200"),n(e,"class","my-auto pb-10 w-full")},m(u,h){C(u,e,h),m(e,t),m(t,l),m(l,r),m(t,i),m(t,f),Me(s,f,null),d=!0},p(u,h){(!d||h&192)&&a!==(a=u[6].t("Signing in to {{WEBUI_NAME}}",{WEBUI_NAME:u[7]})+"")&&P(r,a)},i(u){d||(J(s.$$.fragment,u),d=!0)},o(u){Q(s.$$.fragment,u),d=!1},d(u){u&&p(e),De(s)}}}function Fe(o){let e=o[6].t("Sign up to {{WEBUI_NAME}}",{WEBUI_NAME:o[7]})+"",t;return{c(){t=T(e)},l(l){t=H(l,e)},m(l,a){C(l,t,a)},p(l,a){a&192&&e!==(e=l[6].t("Sign up to {{WEBUI_NAME}}",{WEBUI_NAME:l[7]})+"")&&P(t,e)},d(l){l&&p(t)}}}function Le(o){let e=o[6].t("Sign in to {{WEBUI_NAME}}",{WEBUI_NAME:o[7]})+"",t;return{c(){t=T(e)},l(l){t=H(l,e)},m(l,a){C(l,t,a)},p(l,a){a&192&&e!==(e=l[6].t("Sign in to {{WEBUI_NAME}}",{WEBUI_NAME:l[7]})+"")&&P(t,e)},d(l){l&&p(t)}}}function oe(o){let e,t,l,a,r=o[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",i;return{c(){e=y("div"),t=T("ⓘ "),l=T(o[7]),a=D(),i=T(r),this.h()},l(f){e=I(f,"DIV",{class:!0});var s=w(e);t=H(s,"ⓘ "),l=H(s,o[7]),a=V(s),i=H(s,r),s.forEach(p),this.h()},h(){n(e,"class","mt-1 text-xs font-medium text-gray-500")},m(f,s){C(f,e,s),m(e,t),m(e,l),m(e,a),m(e,i)},p(f,s){s&128&&P(l,f[7]),s&64&&r!==(r=f[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&P(i,r)},d(f){f&&p(e)}}}function ne(o){let e,t,l,a,r=o[6].t("Email")+"",i,f,s,d,u,h,c,v=o[6].t("Password")+"",_,b,g,S,U,Y,M=o[1]==="signup"&&ue(o);return{c(){e=y("div"),M&&M.c(),t=D(),l=y("div"),a=y("div"),i=T(r),f=D(),s=y("input"),u=D(),h=y("div"),c=y("div"),_=T(v),b=D(),g=y("input"),this.h()},l(A){e=I(A,"DIV",{class:!0});var k=w(e);M&&M.l(k),t=V(k),l=I(k,"DIV",{class:!0});var E=w(l);a=I(E,"DIV",{class:!0});var N=w(a);i=H(N,r),N.forEach(p),f=V(E),s=I(E,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),E.forEach(p),u=V(k),h=I(k,"DIV",{});var W=w(h);c=I(W,"DIV",{class:!0});var z=w(c);_=H(z,v),z.forEach(p),b=V(W),g=I(W,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),W.forEach(p),k.forEach(p),this.h()},h(){n(a,"class","text-sm font-medium text-left mb-1"),n(s,"type","email"),n(s,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),n(s,"autocomplete","email"),n(s,"placeholder",d=o[6].t("Enter Your Email")),s.required=!0,n(l,"class","mb-2"),n(c,"class","text-sm font-medium text-left mb-1"),n(g,"type","password"),n(g,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),n(g,"placeholder",S=o[6].t("Enter Your Password")),n(g,"autocomplete","current-password"),g.required=!0,n(e,"class","flex flex-col mt-4")},m(A,k){C(A,e,k),M&&M.m(e,null),m(e,t),m(e,l),m(l,a),m(a,i),m(l,f),m(l,s),Z(s,o[3]),m(e,u),m(e,h),m(h,c),m(c,_),m(h,b),m(h,g),Z(g,o[4]),U||(Y=[F(s,"input",o[11]),F(g,"input",o[12])],U=!0)},p(A,k){A[1]==="signup"?M?M.p(A,k):(M=ue(A),M.c(),M.m(e,t)):M&&(M.d(1),M=null),k&64&&r!==(r=A[6].t("Email")+"")&&P(i,r),k&64&&d!==(d=A[6].t("Enter Your Email"))&&n(s,"placeholder",d),k&8&&s.value!==A[3]&&Z(s,A[3]),k&64&&v!==(v=A[6].t("Password")+"")&&P(_,v),k&64&&S!==(S=A[6].t("Enter Your Password"))&&n(g,"placeholder",S),k&16&&g.value!==A[4]&&Z(g,A[4])},d(A){A&&p(e),M&&M.d(),U=!1,Se(Y)}}}function ue(o){let e,t,l=o[6].t("Name")+"",a,r,i,f,s,d,u,h;return{c(){e=y("div"),t=y("div"),a=T(l),r=D(),i=y("input"),s=D(),d=y("hr"),this.h()},l(c){e=I(c,"DIV",{});var v=w(e);t=I(v,"DIV",{class:!0});var _=w(t);a=H(_,l),_.forEach(p),r=V(v),i=I(v,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),v.forEach(p),s=V(c),d=I(c,"HR",{class:!0}),this.h()},h(){n(t,"class","text-sm font-medium text-left mb-1"),n(i,"type","text"),n(i,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),n(i,"autocomplete","name"),n(i,"placeholder",f=o[6].t("Enter Your Full Name")),i.required=!0,n(d,"class","my-3 dark:border-gray-900")},m(c,v){C(c,e,v),m(e,t),m(t,a),m(e,r),m(e,i),Z(i,o[2]),C(c,s,v),C(c,d,v),u||(h=F(i,"input",o[10]),u=!0)},p(c,v){v&64&&l!==(l=c[6].t("Name")+"")&&P(a,l),v&64&&f!==(f=c[6].t("Enter Your Full Name"))&&n(i,"placeholder",f),v&4&&i.value!==c[2]&&Z(i,c[2])},d(c){c&&(p(e),p(s),p(d)),u=!1,h()}}}function fe(o){var f;let e,t,l=(o[1]==="signin"?o[6].t("Sign in"):o[6].t("Create Account"))+"",a,r,i=((f=o[5])==null?void 0:f.features.enable_signup)&&de(o);return{c(){e=y("div"),t=y("button"),a=T(l),r=D(),i&&i.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var d=w(e);t=I(d,"BUTTON",{class:!0,type:!0});var u=w(t);a=H(u,l),u.forEach(p),r=V(d),i&&i.l(d),d.forEach(p),this.h()},h(){n(t,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition"),n(t,"type","submit"),n(e,"class","mt-5")},m(s,d){C(s,e,d),m(e,t),m(t,a),m(e,r),i&&i.m(e,null)},p(s,d){var u;d&66&&l!==(l=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Create Account"))+"")&&P(a,l),(u=s[5])!=null&&u.features.enable_signup?i?i.p(s,d):(i=de(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&p(e),i&&i.d()}}}function de(o){let e,t=(o[1]==="signin"?o[6].t("Don't have an account?"):o[6].t("Already have an account?"))+"",l,a,r,i=(o[1]==="signin"?o[6].t("Sign up"):o[6].t("Sign in"))+"",f,s,d;return{c(){e=y("div"),l=T(t),a=D(),r=y("button"),f=T(i),this.h()},l(u){e=I(u,"DIV",{class:!0});var h=w(e);l=H(h,t),a=V(h),r=I(h,"BUTTON",{class:!0,type:!0});var c=w(r);f=H(c,i),c.forEach(p),h.forEach(p),this.h()},h(){n(r,"class","font-medium underline"),n(r,"type","button"),n(e,"class","mt-4 text-sm text-center")},m(u,h){C(u,e,h),m(e,l),m(e,a),m(e,r),m(r,f),s||(d=F(r,"click",o[13]),s=!0)},p(u,h){h&66&&t!==(t=(u[1]==="signin"?u[6].t("Don't have an account?"):u[6].t("Already have an account?"))+"")&&P(l,t),h&66&&i!==(i=(u[1]==="signin"?u[6].t("Sign up"):u[6].t("Sign in"))+"")&&P(f,i)},d(u){u&&p(e),s=!1,d()}}}function ce(o){var c,v,_,b,g,S,U,Y,M,A;let e,t,l,a,r,i,f,s=((c=o[5])==null?void 0:c.features.enable_login_form)&&he(o),d=((b=(_=(v=o[5])==null?void 0:v.oauth)==null?void 0:_.providers)==null?void 0:b.google)&&pe(o),u=((U=(S=(g=o[5])==null?void 0:g.oauth)==null?void 0:S.providers)==null?void 0:U.microsoft)&&_e(o),h=((A=(M=(Y=o[5])==null?void 0:Y.oauth)==null?void 0:M.providers)==null?void 0:A.oidc)&&me(o);return{c(){e=y("div"),t=y("hr"),l=D(),s&&s.c(),a=D(),r=y("div"),d&&d.c(),i=D(),u&&u.c(),f=D(),h&&h.c(),this.h()},l(k){e=I(k,"DIV",{class:!0});var E=w(e);t=I(E,"HR",{class:!0}),l=V(E),s&&s.l(E),E.forEach(p),a=V(k),r=I(k,"DIV",{class:!0});var N=w(r);d&&d.l(N),i=V(N),u&&u.l(N),f=V(N),h&&h.l(N),N.forEach(p),this.h()},h(){n(t,"class","w-64 h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"),n(e,"class","inline-flex items-center justify-center w-full"),n(r,"class","flex flex-col space-y-2")},m(k,E){C(k,e,E),m(e,t),m(e,l),s&&s.m(e,null),C(k,a,E),C(k,r,E),d&&d.m(r,null),m(r,i),u&&u.m(r,null),m(r,f),h&&h.m(r,null)},p(k,E){var N,W,z,q,B,L,R,K,X,ee;(N=k[5])!=null&&N.features.enable_login_form?s?s.p(k,E):(s=he(k),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(q=(z=(W=k[5])==null?void 0:W.oauth)==null?void 0:z.providers)!=null&&q.google?d?d.p(k,E):(d=pe(k),d.c(),d.m(r,i)):d&&(d.d(1),d=null),(R=(L=(B=k[5])==null?void 0:B.oauth)==null?void 0:L.providers)!=null&&R.microsoft?u?u.p(k,E):(u=_e(k),u.c(),u.m(r,f)):u&&(u.d(1),u=null),(ee=(X=(K=k[5])==null?void 0:K.oauth)==null?void 0:X.providers)!=null&&ee.oidc?h?h.p(k,E):(h=me(k),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},d(k){k&&(p(e),p(a),p(r)),s&&s.d(),d&&d.d(),u&&u.d(),h&&h.d()}}}function he(o){let e,t=o[6].t("or")+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(a){e=I(a,"SPAN",{class:!0});var r=w(e);l=H(r,t),r.forEach(p),this.h()},h(){n(e,"class","absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-white left-1/2 dark:text-white dark:bg-gray-950")},m(a,r){C(a,e,r),m(e,l)},p(a,r){r&64&&t!==(t=a[6].t("or")+"")&&P(l,t)},d(a){a&&p(e)}}}function pe(o){let e,t,l,a,r,i,f,s,d,u=o[6].t("Continue with {{provider}}",{provider:"Google"})+"",h,c,v;return{c(){e=y("button"),t=j("svg"),l=j("path"),a=j("path"),r=j("path"),i=j("path"),f=j("path"),s=D(),d=y("span"),h=T(u),this.h()},l(_){e=I(_,"BUTTON",{class:!0});var b=w(e);t=O(b,"svg",{xmlns:!0,viewBox:!0,class:!0});var g=w(t);l=O(g,"path",{fill:!0,d:!0}),w(l).forEach(p),a=O(g,"path",{fill:!0,d:!0}),w(a).forEach(p),r=O(g,"path",{fill:!0,d:!0}),w(r).forEach(p),i=O(g,"path",{fill:!0,d:!0}),w(i).forEach(p),f=O(g,"path",{fill:!0,d:!0}),w(f).forEach(p),g.forEach(p),s=V(b),d=I(b,"SPAN",{});var S=w(d);h=H(S,u),S.forEach(p),b.forEach(p),this.h()},h(){n(l,"fill","#EA4335"),n(l,"d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"),n(a,"fill","#4285F4"),n(a,"d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"),n(r,"fill","#FBBC05"),n(r,"d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"),n(i,"fill","#34A853"),n(i,"d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"),n(f,"fill","none"),n(f,"d","M0 0h48v48H0z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"viewBox","0 0 48 48"),n(t,"class","size-6 mr-3"),n(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(_,b){C(_,e,b),m(e,t),m(t,l),m(t,a),m(t,r),m(t,i),m(t,f),m(e,s),m(e,d),m(d,h),c||(v=F(e,"click",o[15]),c=!0)},p(_,b){b&64&&u!==(u=_[6].t("Continue with {{provider}}",{provider:"Google"})+"")&&P(h,u)},d(_){_&&p(e),c=!1,v()}}}function _e(o){let e,t,l,a,r,i,f,s,d=o[6].t("Continue with {{provider}}",{provider:"Microsoft"})+"",u,h,c;return{c(){e=y("button"),t=j("svg"),l=j("rect"),a=j("rect"),r=j("rect"),i=j("rect"),f=D(),s=y("span"),u=T(d),this.h()},l(v){e=I(v,"BUTTON",{class:!0});var _=w(e);t=O(_,"svg",{xmlns:!0,viewBox:!0,class:!0});var b=w(t);l=O(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),w(l).forEach(p),a=O(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),w(a).forEach(p),r=O(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),w(r).forEach(p),i=O(b,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),w(i).forEach(p),b.forEach(p),f=V(_),s=I(_,"SPAN",{});var g=w(s);u=H(g,d),g.forEach(p),_.forEach(p),this.h()},h(){n(l,"x","1"),n(l,"y","1"),n(l,"width","9"),n(l,"height","9"),n(l,"fill","#f25022"),n(a,"x","1"),n(a,"y","11"),n(a,"width","9"),n(a,"height","9"),n(a,"fill","#00a4ef"),n(r,"x","11"),n(r,"y","1"),n(r,"width","9"),n(r,"height","9"),n(r,"fill","#7fba00"),n(i,"x","11"),n(i,"y","11"),n(i,"width","9"),n(i,"height","9"),n(i,"fill","#ffb900"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"viewBox","0 0 21 21"),n(t,"class","size-6 mr-3"),n(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(v,_){C(v,e,_),m(e,t),m(t,l),m(t,a),m(t,r),m(t,i),m(e,f),m(e,s),m(s,u),h||(c=F(e,"click",o[16]),h=!0)},p(v,_){_&64&&d!==(d=v[6].t("Continue with {{provider}}",{provider:"Microsoft"})+"")&&P(u,d)},d(v){v&&p(e),h=!1,c()}}}function me(o){var u,h,c;let e,t,l,a,r,i=o[6].t("Continue with {{provider}}",{provider:((c=(h=(u=o[5])==null?void 0:u.oauth)==null?void 0:h.providers)==null?void 0:c.oidc)??"SSO"})+"",f,s,d;return{c(){e=y("button"),t=j("svg"),l=j("path"),a=D(),r=y("span"),f=T(i),this.h()},l(v){e=I(v,"BUTTON",{class:!0});var _=w(e);t=O(_,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var b=w(t);l=O(b,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(l).forEach(p),b.forEach(p),a=V(_),r=I(_,"SPAN",{});var g=w(r);f=H(g,i),g.forEach(p),_.forEach(p),this.h()},h(){n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"d","M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke-width","1.5"),n(t,"stroke","currentColor"),n(t,"class","size-6 mr-3"),n(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(v,_){C(v,e,_),m(e,t),m(t,l),m(e,a),m(e,r),m(r,f),s||(d=F(e,"click",o[17]),s=!0)},p(v,_){var b,g,S;_&96&&i!==(i=v[6].t("Continue with {{provider}}",{provider:((S=(g=(b=v[5])==null?void 0:b.oauth)==null?void 0:g.providers)==null?void 0:S.oidc)??"SSO"})+"")&&P(f,i)},d(v){v&&p(e),s=!1,d()}}}function Re(o){let e,t,l,a;document.title=e=`
		${o[7]}
	`;let r=o[0]&&se(o);return{c(){t=D(),r&&r.c(),l=te()},l(i){ke("svelte-sdpf07",document.head).forEach(p),t=V(i),r&&r.l(i),l=te()},m(i,f){C(i,t,f),r&&r.m(i,f),C(i,l,f),a=!0},p(i,[f]){(!a||f&128)&&e!==(e=`
		${i[7]}
	`)&&(document.title=e),i[0]?r?(r.p(i,f),f&1&&J(r,1)):(r=se(i),r.c(),J(r,1),r.m(l.parentNode,l)):r&&(ge(),Q(r,1,1,()=>{r=null}),ve())},i(i){a||(J(r),a=!0)},o(i){Q(r),a=!1},d(i){i&&(p(t),p(l)),r&&r.d(i)}}}function Ge(o,e,t){let l,a,r,i,f,s;G(o,ie,B=>t(5,l=B)),G(o,ae,B=>t(18,a=B)),G(o,je,B=>t(19,r=B)),G(o,He,B=>t(20,i=B)),G(o,Pe,B=>t(7,s=B));const d=we("i18n");G(o,d,B=>t(6,f=B));let u=!1,h="signin",c="",v="",_="";const b=async B=>{B&&(console.log(B),x.success(f.t("You're now logged in.")),B.token&&(localStorage.token=B.token),i.emit("user-join",{auth:{token:B.token}}),await ae.set(B),await ie.set(await Oe()),re("/"))},g=async()=>{const B=await Ve(v,_).catch(L=>(x.error(L),null));await b(B)},S=async()=>{const B=await We(c,v,_,ze(c)).catch(L=>(x.error(L),null));await b(B)},U=async()=>{h==="signin"?await g():await S()},Y=async()=>{if(!r.url.hash)return;const B=r.url.hash.substring(1);if(!B)return;const R=new URLSearchParams(B).get("token");if(!R)return;const K=await Ce(R).catch(X=>(x.error(X),null));K&&(localStorage.token=R,await b(K))};Ee(async()=>{a!==void 0&&await re("/"),await Y(),t(0,u=!0),(((l==null?void 0:l.features.auth_trusted_header)??!1)||(l==null?void 0:l.features.auth)===!1)&&await g()});function M(){c=this.value,t(2,c)}function A(){v=this.value,t(3,v)}function k(){_=this.value,t(4,_)}return[u,h,c,v,_,l,f,s,d,U,M,A,k,()=>{h==="signin"?t(1,h="signup"):t(1,h="signin")},()=>{U()},()=>{window.location.href=`${$}/oauth/google/login`},()=>{window.location.href=`${$}/oauth/microsoft/login`},()=>{window.location.href=`${$}/oauth/oidc/login`}]}class rt extends Be{constructor(e){super(),Ne(this,e,Ge,Re,be,{})}}export{rt as component};
//# sourceMappingURL=30.BriwvAb_.js.map
