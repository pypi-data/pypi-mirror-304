import{s as et,y as Qe,z as Xe,a as b,d as c,f as h,i as M,g as m,n as Ye,A as Se,D as Fe,p as Lt,j as Pe,e as g,c as v,r as jt,v as Ot,w as Gt,x as zt,k as H,o as V,P as Wt,t as Z,b as q,h as Q,m as Pt,H as Be,B as kt,u as Me,K as Rt,E as Zt,q as qt,G as Jt}from"../chunks/scheduler.BwES1eAZ.js";import{S as tt,i as nt,f as Ne,b as O,d as G,m as z,t as B,a as N,e as W,g as lt,c as st}from"../chunks/index.JIjGThd1.js";import{e as yt}from"../chunks/each.AnZnuqp8.js";import{t as me}from"../chunks/Toaster.svelte_svelte_type_style_lang.B-_b2mbR.js";import{f as Kt}from"../chunks/FileSaver.min.CimDdHIv.js";import{f as Ke,W as Qt,e as Xt,m as Ge}from"../chunks/index.C9ZMts_b.js";import{g as Et}from"../chunks/entry.Dtt6bcfU.js";import{a as ft,f as Yt,g as ct,t as en,h as tn,i as nn,c as ln}from"../chunks/index.yDhJIz64.js";import{T as Re}from"../chunks/Tooltip.Dj8C3DN2.js";import{C as It}from"../chunks/ConfirmDialog.56zgi8Co.js";import{g as ze}from"../chunks/index.BkKzHNgE.js";import"../chunks/updater.DmDqAuYd.js";import{D as sn,M as We}from"../chunks/Dropdown.XSRoJBhq.js";import{b as rn}from"../chunks/menu-trigger.BnymnTnP.js";import{f as on}from"../chunks/index.DyIcjikr.js";import{G as Tt}from"../chunks/GarbageBin.CRRdlJ9r.js";import{S as an,D as fn}from"../chunks/DocumentDuplicate.fNcItTFU.js";import{A as cn}from"../chunks/ArrowDownTray.6-RkpV0X.js";import{S as Ft}from"../chunks/Switch.Dl2ke0O5.js";import{E as un}from"../chunks/EllipsisHorizontal.G1VcZX1a.js";import{M as dn,V as mn}from"../chunks/ManifestModal.jO-kZVgn.js";import{H as hn}from"../chunks/Heart.DA35UFxL.js";function pn(l){let e,n;return{c(){e=Qe("svg"),n=Qe("path"),this.h()},l(t){e=Xe(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=b(e);n=Xe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(n).forEach(c),r.forEach(c),this.h()},h(){h(n,"stroke-linecap","round"),h(n,"stroke-linejoin","round"),h(n,"d","M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width",l[1]),h(e,"stroke","currentColor"),h(e,"class",l[0])},m(t,r){M(t,e,r),m(e,n)},p(t,[r]){r&2&&h(e,"stroke-width",t[1]),r&1&&h(e,"class",t[0])},i:Ye,o:Ye,d(t){t&&c(e)}}}function _n(l,e,n){let{className:t="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return l.$$set=o=>{"className"in o&&n(0,t=o.className),"strokeWidth"in o&&n(1,r=o.strokeWidth)},[t,r]}class gn extends tt{constructor(e){super(),nt(this,e,_n,pn,et,{className:0,strokeWidth:1})}}function vn(l){let e;const n=l[11].default,t=jt(n,l,l[20],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&1048576)&&Ot(t,n,r,r[20],e?zt(n,r[20],o,null):Gt(r[20]),null)},i(r){e||(B(t,r),e=!0)},o(r){N(t,r),e=!1},d(r){t&&t.d(r)}}}function wn(l){let e,n;return e=new Re({props:{content:l[9].t("More"),$$slots:{default:[vn]},$$scope:{ctx:l}}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,r){z(e,t,r),n=!0},p(t,r){const o={};r&512&&(o.content=t[9].t("More")),r&1048576&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Dt(l){let e,n,t,r,o,a=l[9].t("Global")+"",s,f,_,$,k,S,D,L;t=new gn({});function w(d){l[12](d)}let i={};return l[0].is_global!==void 0&&(i.state=l[0].is_global),$=new Ft({props:i}),Se.push(()=>Ne($,"state",w)),$.$on("change",function(){Wt(l[6])&&l[6].apply(this,arguments)}),{c(){e=g("div"),n=g("div"),O(t.$$.fragment),r=H(),o=g("div"),s=Z(a),f=H(),_=g("div"),O($.$$.fragment),S=H(),D=g("hr"),this.h()},l(d){e=v(d,"DIV",{class:!0});var E=b(e);n=v(E,"DIV",{class:!0});var y=b(n);G(t.$$.fragment,y),r=V(y),o=v(y,"DIV",{class:!0});var x=b(o);s=q(x,a),x.forEach(c),y.forEach(c),f=V(E),_=v(E,"DIV",{});var A=b(_);G($.$$.fragment,A),A.forEach(c),E.forEach(c),S=V(d),D=v(d,"HR",{class:!0}),this.h()},h(){h(o,"class","flex items-center"),h(n,"class","flex gap-2 items-center"),h(e,"class","flex gap-2 justify-between items-center px-3 py-2 text-sm font-medium cursor-pointerrounded-md"),h(D,"class","border-gray-100 dark:border-gray-800 my-1")},m(d,E){M(d,e,E),m(e,n),z(t,n,null),m(n,r),m(n,o),m(o,s),m(e,f),m(e,_),z($,_,null),M(d,S,E),M(d,D,E),L=!0},p(d,E){l=d,(!L||E&512)&&a!==(a=l[9].t("Global")+"")&&Q(s,a);const y={};!k&&E&1&&(k=!0,y.state=l[0].is_global,Fe(()=>k=!1)),$.$set(y)},i(d){L||(B(t.$$.fragment,d),B($.$$.fragment,d),L=!0)},o(d){N(t.$$.fragment,d),N($.$$.fragment,d),L=!1},d(d){d&&(c(e),c(S),c(D)),W(t),W($)}}}function $n(l){let e,n,t,r,o=l[9].t("Edit")+"",a;return{c(){e=Qe("svg"),n=Qe("path"),t=H(),r=g("div"),a=Z(o),this.h()},l(s){e=Xe(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var f=b(e);n=Xe(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(n).forEach(c),f.forEach(c),t=V(s),r=v(s,"DIV",{class:!0});var _=b(r);a=q(_,o),_.forEach(c),this.h()},h(){h(n,"stroke-linecap","round"),h(n,"stroke-linejoin","round"),h(n,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width","1.5"),h(e,"stroke","currentColor"),h(e,"class","w-4 h-4"),h(r,"class","flex items-center")},m(s,f){M(s,e,f),m(e,n),M(s,t,f),M(s,r,f),m(r,a)},p(s,f){f&512&&o!==(o=s[9].t("Edit")+"")&&Q(a,o)},d(s){s&&(c(e),c(t),c(r))}}}function bn(l){let e,n,t,r=l[9].t("Share")+"",o,a;return e=new an({}),{c(){O(e.$$.fragment),n=H(),t=g("div"),o=Z(r),this.h()},l(s){G(e.$$.fragment,s),n=V(s),t=v(s,"DIV",{class:!0});var f=b(t);o=q(f,r),f.forEach(c),this.h()},h(){h(t,"class","flex items-center")},m(s,f){z(e,s,f),M(s,n,f),M(s,t,f),m(t,o),a=!0},p(s,f){(!a||f&512)&&r!==(r=s[9].t("Share")+"")&&Q(o,r)},i(s){a||(B(e.$$.fragment,s),a=!0)},o(s){N(e.$$.fragment,s),a=!1},d(s){s&&(c(n),c(t)),W(e,s)}}}function kn(l){let e,n,t,r=l[9].t("Clone")+"",o,a;return e=new fn({}),{c(){O(e.$$.fragment),n=H(),t=g("div"),o=Z(r),this.h()},l(s){G(e.$$.fragment,s),n=V(s),t=v(s,"DIV",{class:!0});var f=b(t);o=q(f,r),f.forEach(c),this.h()},h(){h(t,"class","flex items-center")},m(s,f){z(e,s,f),M(s,n,f),M(s,t,f),m(t,o),a=!0},p(s,f){(!a||f&512)&&r!==(r=s[9].t("Clone")+"")&&Q(o,r)},i(s){a||(B(e.$$.fragment,s),a=!0)},o(s){N(e.$$.fragment,s),a=!1},d(s){s&&(c(n),c(t)),W(e,s)}}}function yn(l){let e,n,t,r=l[9].t("Export")+"",o,a;return e=new cn({}),{c(){O(e.$$.fragment),n=H(),t=g("div"),o=Z(r),this.h()},l(s){G(e.$$.fragment,s),n=V(s),t=v(s,"DIV",{class:!0});var f=b(t);o=q(f,r),f.forEach(c),this.h()},h(){h(t,"class","flex items-center")},m(s,f){z(e,s,f),M(s,n,f),M(s,t,f),m(t,o),a=!0},p(s,f){(!a||f&512)&&r!==(r=s[9].t("Export")+"")&&Q(o,r)},i(s){a||(B(e.$$.fragment,s),a=!0)},o(s){N(e.$$.fragment,s),a=!1},d(s){s&&(c(n),c(t)),W(e,s)}}}function En(l){let e,n,t,r=l[9].t("Delete")+"",o,a;return e=new Tt({props:{strokeWidth:"2"}}),{c(){O(e.$$.fragment),n=H(),t=g("div"),o=Z(r),this.h()},l(s){G(e.$$.fragment,s),n=V(s),t=v(s,"DIV",{class:!0});var f=b(t);o=q(f,r),f.forEach(c),this.h()},h(){h(t,"class","flex items-center")},m(s,f){z(e,s,f),M(s,n,f),M(s,t,f),m(t,o),a=!0},p(s,f){(!a||f&512)&&r!==(r=s[9].t("Delete")+"")&&Q(o,r)},i(s){a||(B(e.$$.fragment,s),a=!0)},o(s){N(e.$$.fragment,s),a=!1},d(s){s&&(c(n),c(t)),W(e,s)}}}function In(l){let e=["filter","action"].includes(l[0].type),n,t,r,o,a,s,f,_,$,k,S,D,L,w=e&&Dt(l);return t=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[$n]},$$scope:{ctx:l}}}),t.$on("click",l[13]),o=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[bn]},$$scope:{ctx:l}}}),o.$on("click",l[14]),s=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[kn]},$$scope:{ctx:l}}}),s.$on("click",l[15]),_=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[yn]},$$scope:{ctx:l}}}),_.$on("click",l[16]),D=new We({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[En]},$$scope:{ctx:l}}}),D.$on("click",l[17]),{c(){w&&w.c(),n=H(),O(t.$$.fragment),r=H(),O(o.$$.fragment),a=H(),O(s.$$.fragment),f=H(),O(_.$$.fragment),$=H(),k=g("hr"),S=H(),O(D.$$.fragment),this.h()},l(i){w&&w.l(i),n=V(i),G(t.$$.fragment,i),r=V(i),G(o.$$.fragment,i),a=V(i),G(s.$$.fragment,i),f=V(i),G(_.$$.fragment,i),$=V(i),k=v(i,"HR",{class:!0}),S=V(i),G(D.$$.fragment,i),this.h()},h(){h(k,"class","border-gray-100 dark:border-gray-800 my-1")},m(i,d){w&&w.m(i,d),M(i,n,d),z(t,i,d),M(i,r,d),z(o,i,d),M(i,a,d),z(s,i,d),M(i,f,d),z(_,i,d),M(i,$,d),M(i,k,d),M(i,S,d),z(D,i,d),L=!0},p(i,d){d&1&&(e=["filter","action"].includes(i[0].type)),e?w?(w.p(i,d),d&1&&B(w,1)):(w=Dt(i),w.c(),B(w,1),w.m(n.parentNode,n)):w&&(lt(),N(w,1,1,()=>{w=null}),st());const E={};d&1049088&&(E.$$scope={dirty:d,ctx:i}),t.$set(E);const y={};d&1049088&&(y.$$scope={dirty:d,ctx:i}),o.$set(y);const x={};d&1049088&&(x.$$scope={dirty:d,ctx:i}),s.$set(x);const A={};d&1049088&&(A.$$scope={dirty:d,ctx:i}),_.$set(A);const U={};d&1049088&&(U.$$scope={dirty:d,ctx:i}),D.$set(U)},i(i){L||(B(w),B(t.$$.fragment,i),B(o.$$.fragment,i),B(s.$$.fragment,i),B(_.$$.fragment,i),B(D.$$.fragment,i),L=!0)},o(i){N(w),N(t.$$.fragment,i),N(o.$$.fragment,i),N(s.$$.fragment,i),N(_.$$.fragment,i),N(D.$$.fragment,i),L=!1},d(i){i&&(c(n),c(r),c(a),c(f),c($),c(k),c(S)),w&&w.d(i),W(t,i),W(o,i),W(s,i),W(_,i),W(D,i)}}}function Dn(l){let e,n,t;return n=new rn({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:on,$$slots:{default:[In]},$$scope:{ctx:l}}}),{c(){e=g("div"),O(n.$$.fragment),this.h()},l(r){e=v(r,"DIV",{slot:!0});var o=b(e);G(n.$$.fragment,o),o.forEach(c),this.h()},h(){h(e,"slot","content")},m(r,o){M(r,e,o),z(n,e,null),t=!0},p(r,o){const a={};o&1049215&&(a.$$scope={dirty:o,ctx:r}),n.$set(a)},i(r){t||(B(n.$$.fragment,r),t=!0)},o(r){N(n.$$.fragment,r),t=!1},d(r){r&&c(e),W(n)}}}function Hn(l){let e,n,t;function r(a){l[18](a)}let o={$$slots:{content:[Dn],default:[wn]},$$scope:{ctx:l}};return l[8]!==void 0&&(o.show=l[8]),e=new sn({props:o}),Se.push(()=>Ne(e,"show",r)),e.$on("change",l[19]),{c(){O(e.$$.fragment)},l(a){G(e.$$.fragment,a)},m(a,s){z(e,a,s),t=!0},p(a,[s]){const f={};s&1049215&&(f.$$scope={dirty:s,ctx:a}),!n&&s&256&&(n=!0,f.show=a[8],Fe(()=>n=!1)),e.$set(f)},i(a){t||(B(e.$$.fragment,a),t=!0)},o(a){N(e.$$.fragment,a),t=!1},d(a){W(e,a)}}}function Vn(l,e,n){let t,{$$slots:r={},$$scope:o}=e;const a=Lt("i18n");Pe(l,a,C=>n(9,t=C));let{func:s}=e,{editHandler:f}=e,{shareHandler:_}=e,{cloneHandler:$}=e,{exportHandler:k}=e,{deleteHandler:S}=e,{toggleGlobalHandler:D}=e,{onClose:L}=e,w=!1;function i(C){l.$$.not_equal(s.is_global,C)&&(s.is_global=C,n(0,s))}const d=()=>{f()},E=()=>{_()},y=()=>{$()},x=()=>{k()},A=()=>{S()};function U(C){w=C,n(8,w)}const Y=C=>{C.detail===!1&&L()};return l.$$set=C=>{"func"in C&&n(0,s=C.func),"editHandler"in C&&n(1,f=C.editHandler),"shareHandler"in C&&n(2,_=C.shareHandler),"cloneHandler"in C&&n(3,$=C.cloneHandler),"exportHandler"in C&&n(4,k=C.exportHandler),"deleteHandler"in C&&n(5,S=C.deleteHandler),"toggleGlobalHandler"in C&&n(6,D=C.toggleGlobalHandler),"onClose"in C&&n(7,L=C.onClose),"$$scope"in C&&n(20,o=C.$$scope)},[s,f,_,$,k,S,D,L,w,t,a,r,i,d,E,y,x,A,U,Y,o]}class Mn extends tt{constructor(e){super(),nt(this,e,Vn,Hn,et,{func:0,editHandler:1,shareHandler:2,cloneHandler:3,exportHandler:4,deleteHandler:5,toggleGlobalHandler:6,onClose:7})}}function Ht(l,e,n){const t=l.slice();return t[45]=e[n],t[46]=e,t[47]=n,t}function Vt(l){var o,a,s;let e,n,t=(((s=(a=(o=l[45])==null?void 0:o.meta)==null?void 0:a.manifest)==null?void 0:s.version)??"")+"",r;return{c(){e=g("div"),n=Z("v"),r=Z(t),this.h()},l(f){e=v(f,"DIV",{class:!0});var _=b(e);n=q(_,"v"),r=q(_,t),_.forEach(c),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(f,_){M(f,e,_),m(e,n),m(e,r)},p(f,_){var $,k,S;_[0]&512&&t!==(t=(((S=(k=($=f[45])==null?void 0:$.meta)==null?void 0:k.manifest)==null?void 0:S.version)??"")+"")&&Q(r,t)},d(f){f&&c(e)}}}function Sn(l){var D,L,w;let e,n,t,r,o,a=(((w=(L=(D=l[45])==null?void 0:D.meta)==null?void 0:L.manifest)==null?void 0:w.funding_url)??!1)&&Mt(l);n=new Re({props:{content:l[10].t("Valves"),$$slots:{default:[Tn]},$$scope:{ctx:l}}});function s(){return l[25](l[45])}function f(){return l[26](l[45])}function _(){return l[27](l[45])}function $(){return l[28](l[45])}function k(){return l[29](l[45])}function S(){return l[30](l[45])}return r=new Mn({props:{func:l[45],editHandler:s,shareHandler:f,cloneHandler:_,exportHandler:$,deleteHandler:k,toggleGlobalHandler:S,onClose:jn,$$slots:{default:[Fn]},$$scope:{ctx:l}}}),{c(){a&&a.c(),e=H(),O(n.$$.fragment),t=H(),O(r.$$.fragment)},l(i){a&&a.l(i),e=V(i),G(n.$$.fragment,i),t=V(i),G(r.$$.fragment,i)},m(i,d){a&&a.m(i,d),M(i,e,d),z(n,i,d),M(i,t,d),z(r,i,d),o=!0},p(i,d){var x,A,U;l=i,((U=(A=(x=l[45])==null?void 0:x.meta)==null?void 0:A.manifest)==null?void 0:U.funding_url)??!1?a?(a.p(l,d),d[0]&512&&B(a,1)):(a=Mt(l),a.c(),B(a,1),a.m(e.parentNode,e)):a&&(lt(),N(a,1,1,()=>{a=null}),st());const E={};d[0]&1024&&(E.content=l[10].t("Valves")),d[0]&704|d[1]&131072&&(E.$$scope={dirty:d,ctx:l}),n.$set(E);const y={};d[0]&512&&(y.func=l[45]),d[0]&512&&(y.editHandler=s),d[0]&512&&(y.shareHandler=f),d[0]&512&&(y.cloneHandler=_),d[0]&512&&(y.exportHandler=$),d[0]&896&&(y.deleteHandler=k),d[0]&512&&(y.toggleGlobalHandler=S),d[1]&131072&&(y.$$scope={dirty:d,ctx:l}),r.$set(y)},i(i){o||(B(a),B(n.$$.fragment,i),B(r.$$.fragment,i),o=!0)},o(i){N(a),N(n.$$.fragment,i),N(r.$$.fragment,i),o=!1},d(i){i&&(c(e),c(t)),a&&a.d(i),W(n,i),W(r,i)}}}function Cn(l){let e,n;return e=new Re({props:{content:l[10].t("Delete"),$$slots:{default:[Bn]},$$scope:{ctx:l}}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,r){z(e,t,r),n=!0},p(t,r){const o={};r[0]&1024&&(o.content=t[10].t("Delete")),r[0]&512|r[1]&131072&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Mt(l){let e,n;return e=new Re({props:{content:l[10].t("Support"),$$slots:{default:[Ln]},$$scope:{ctx:l}}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,r){z(e,t,r),n=!0},p(t,r){const o={};r[0]&1024&&(o.content=t[10].t("Support")),r[0]&672|r[1]&131072&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Ln(l){let e,n,t,r,o;n=new hn({});function a(){return l[23](l[45])}return{c(){e=g("button"),O(n.$$.fragment),this.h()},l(s){e=v(s,"BUTTON",{class:!0,type:!0});var f=b(e);G(n.$$.fragment,f),f.forEach(c),this.h()},h(){h(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),h(e,"type","button")},m(s,f){M(s,e,f),z(n,e,null),t=!0,r||(o=Me(e,"click",a),r=!0)},p(s,f){l=s},i(s){t||(B(n.$$.fragment,s),t=!0)},o(s){N(n.$$.fragment,s),t=!1},d(s){s&&c(e),W(n),r=!1,o()}}}function Tn(l){let e,n='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>',t,r;function o(){return l[24](l[45])}return{c(){e=g("button"),e.innerHTML=n,this.h()},l(a){e=v(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1d80tim"&&(e.innerHTML=n),this.h()},h(){h(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),h(e,"type","button")},m(a,s){M(a,e,s),t||(r=Me(e,"click",o),t=!0)},p(a,s){l=a},d(a){a&&c(e),t=!1,r()}}}function Fn(l){let e,n,t;return n=new un({props:{className:"size-5"}}),{c(){e=g("button"),O(n.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0,type:!0});var o=b(e);G(n.$$.fragment,o),o.forEach(c),this.h()},h(){h(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),h(e,"type","button")},m(r,o){M(r,e,o),z(n,e,null),t=!0},p:Ye,i(r){t||(B(n.$$.fragment,r),t=!0)},o(r){N(n.$$.fragment,r),t=!1},d(r){r&&c(e),W(n)}}}function Bn(l){let e,n,t,r,o;n=new Tt({});function a(){return l[22](l[45])}return{c(){e=g("button"),O(n.$$.fragment),this.h()},l(s){e=v(s,"BUTTON",{class:!0,type:!0});var f=b(e);G(n.$$.fragment,f),f.forEach(c),this.h()},h(){h(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),h(e,"type","button")},m(s,f){M(s,e,f),z(n,e,null),t=!0,r||(o=Me(e,"click",a),r=!0)},p(s,f){l=s},i(s){t||(B(n.$$.fragment,s),t=!0)},o(s){N(n.$$.fragment,s),t=!1},d(s){s&&c(e),W(n),r=!1,o()}}}function Nn(l){let e,n,t;function r(s){l[31](s,l[45])}function o(...s){return l[32](l[45],...s)}let a={};return l[45].is_active!==void 0&&(a.state=l[45].is_active),e=new Ft({props:a}),Se.push(()=>Ne(e,"state",r)),e.$on("change",o),{c(){O(e.$$.fragment)},l(s){G(e.$$.fragment,s)},m(s,f){z(e,s,f),t=!0},p(s,f){l=s;const _={};!n&&f[0]&512&&(n=!0,_.state=l[45].is_active,Fe(()=>n=!1)),e.$set(_)},i(s){t||(B(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function St(l){var _e,Ce,De;let e,n,t,r,o,a,s=l[45].type+"",f,_,$,k,S=l[45].name+"",D,L,w,i,d=l[45].id+"",E,y,x,A=l[45].meta.description+"",U,Y,C,ae,K,ne,ce,le,ee,ke,te,P=((De=(Ce=(_e=l[45])==null?void 0:_e.meta)==null?void 0:Ce.manifest)==null?void 0:De.version)&&Vt(l);const ge=[Cn,Sn],fe=[];function Ie(T,j){return T[1]?0:1}return K=Ie(l),ne=fe[K]=ge[K](l),ee=new Re({props:{content:l[45].is_active?l[10].t("Enabled"):l[10].t("Disabled"),$$slots:{default:[Nn]},$$scope:{ctx:l}}}),{c(){e=g("div"),n=g("a"),t=g("div"),r=g("div"),o=g("div"),a=g("div"),f=Z(s),_=H(),P&&P.c(),$=H(),k=g("div"),D=Z(S),L=H(),w=g("div"),i=g("div"),E=Z(d),y=H(),x=g("div"),U=Z(A),C=H(),ae=g("div"),ne.c(),ce=H(),le=g("div"),O(ee.$$.fragment),ke=H(),this.h()},l(T){e=v(T,"DIV",{class:!0});var j=b(e);n=v(j,"A",{class:!0,href:!0});var ue=b(n);t=v(ue,"DIV",{class:!0});var he=b(t);r=v(he,"DIV",{class:!0});var pe=b(r);o=v(pe,"DIV",{class:!0});var se=b(o);a=v(se,"DIV",{class:!0});var ve=b(a);f=q(ve,s),ve.forEach(c),_=V(se),P&&P.l(se),$=V(se),k=v(se,"DIV",{class:!0});var ye=b(k);D=q(ye,S),ye.forEach(c),se.forEach(c),L=V(pe),w=v(pe,"DIV",{class:!0});var p=b(w);i=v(p,"DIV",{class:!0});var F=b(i);E=q(F,d),F.forEach(c),y=V(p),x=v(p,"DIV",{class:!0});var R=b(x);U=q(R,A),R.forEach(c),p.forEach(c),pe.forEach(c),he.forEach(c),ue.forEach(c),C=V(j),ae=v(j,"DIV",{class:!0});var re=b(ae);ne.l(re),ce=V(re),le=v(re,"DIV",{class:!0});var oe=b(le);G(ee.$$.fragment,oe),oe.forEach(c),re.forEach(c),ke=V(j),j.forEach(c),this.h()},h(){h(a,"class","text-xs font-bold px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200"),h(k,"class","line-clamp-1"),h(o,"class","font-semibold flex items-center gap-1.5"),h(i,"class","text-gray-500 text-xs font-medium flex-shrink-0"),h(x,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),h(w,"class","flex gap-1.5 px-1"),h(r,"class","flex-1 self-center pl-1"),h(t,"class","flex items-center text-left"),h(n,"class","flex flex-1 space-x-3.5 cursor-pointer w-full"),h(n,"href",Y=`/workspace/functions/edit?id=${encodeURIComponent(l[45].id)}`),h(le,"class","self-center mx-1"),h(ae,"class","flex flex-row gap-0.5 self-center"),h(e,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(T,j){M(T,e,j),m(e,n),m(n,t),m(t,r),m(r,o),m(o,a),m(a,f),m(o,_),P&&P.m(o,null),m(o,$),m(o,k),m(k,D),m(r,L),m(r,w),m(w,i),m(i,E),m(w,y),m(w,x),m(x,U),m(e,C),m(e,ae),fe[K].m(ae,null),m(ae,ce),m(ae,le),z(ee,le,null),m(e,ke),te=!0},p(T,j){var pe,se,ve;(!te||j[0]&512)&&s!==(s=T[45].type+"")&&Q(f,s),(ve=(se=(pe=T[45])==null?void 0:pe.meta)==null?void 0:se.manifest)!=null&&ve.version?P?P.p(T,j):(P=Vt(T),P.c(),P.m(o,$)):P&&(P.d(1),P=null),(!te||j[0]&512)&&S!==(S=T[45].name+"")&&Q(D,S),(!te||j[0]&512)&&d!==(d=T[45].id+"")&&Q(E,d),(!te||j[0]&512)&&A!==(A=T[45].meta.description+"")&&Q(U,A),(!te||j[0]&512&&Y!==(Y=`/workspace/functions/edit?id=${encodeURIComponent(T[45].id)}`))&&h(n,"href",Y);let ue=K;K=Ie(T),K===ue?fe[K].p(T,j):(lt(),N(fe[ue],1,1,()=>{fe[ue]=null}),st(),ne=fe[K],ne?ne.p(T,j):(ne=fe[K]=ge[K](T),ne.c()),B(ne,1),ne.m(ae,ce));const he={};j[0]&1536&&(he.content=T[45].is_active?T[10].t("Enabled"):T[10].t("Disabled")),j[0]&512|j[1]&131072&&(he.$$scope={dirty:j,ctx:T}),ee.$set(he)},i(T){te||(B(ne),B(ee.$$.fragment,T),te=!0)},o(T){N(ne),N(ee.$$.fragment,T),te=!1},d(T){T&&c(e),P&&P.d(),fe[K].d(),W(ee)}}}function Ct(l){let e,n,t=l[10].t("Made by OpenWebUI Community")+"",r,o,a,s,f='<div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div>',_,$,k,S=l[10].t("Discover a function")+"",D,L,w,i=l[10].t("Discover, download, and explore custom functions")+"",d;return{c(){e=g("div"),n=g("div"),r=Z(t),o=H(),a=g("a"),s=g("div"),s.innerHTML=f,_=H(),$=g("div"),k=g("div"),D=Z(S),L=H(),w=g("div"),d=Z(i),this.h()},l(E){e=v(E,"DIV",{class:!0});var y=b(e);n=v(y,"DIV",{class:!0});var x=b(n);r=q(x,t),x.forEach(c),o=V(y),a=v(y,"A",{class:!0,href:!0,target:!0});var A=b(a);s=v(A,"DIV",{class:!0,"data-svelte-h":!0}),Be(s)!=="svelte-1iambvw"&&(s.innerHTML=f),_=V(A),$=v(A,"DIV",{class:!0});var U=b($);k=v(U,"DIV",{class:!0});var Y=b(k);D=q(Y,S),Y.forEach(c),L=V(U),w=v(U,"DIV",{class:!0});var C=b(w);d=q(C,i),C.forEach(c),U.forEach(c),A.forEach(c),y.forEach(c),this.h()},h(){h(n,"class","text-lg font-semibold mb-3 line-clamp-1"),h(s,"class","self-center w-10 flex-shrink-0"),h(k,"class","font-semibold line-clamp-1"),h(w,"class","text-sm line-clamp-1"),h($,"class","self-center"),h(a,"class","flex space-x-4 cursor-pointer w-full mb-2 px-3 py-2"),h(a,"href","https://openwebui.com/#open-webui-community"),h(a,"target","_blank"),h(e,"class","my-16")},m(E,y){M(E,e,y),m(e,n),m(n,r),m(e,o),m(e,a),m(a,s),m(a,_),m(a,$),m($,k),m(k,D),m($,L),m($,w),m(w,d)},p(E,y){y[0]&1024&&t!==(t=E[10].t("Made by OpenWebUI Community")+"")&&Q(r,t),y[0]&1024&&S!==(S=E[10].t("Discover a function")+"")&&Q(D,S),y[0]&1024&&i!==(i=E[10].t("Discover, download, and explore custom functions")+"")&&Q(d,i)},d(E){E&&c(e)}}}function xn(l){let e,n=l[10].t("This will delete")+"",t,r,o,a=l[7].name+"",s,f;return{c(){e=g("div"),t=Z(n),r=H(),o=g("span"),s=Z(a),f=Z("."),this.h()},l(_){e=v(_,"DIV",{class:!0});var $=b(e);t=q($,n),r=V($),o=v($,"SPAN",{class:!0});var k=b(o);s=q(k,a),k.forEach(c),f=q($,"."),$.forEach(c),this.h()},h(){h(o,"class","font-semibold"),h(e,"class","text-sm text-gray-500")},m(_,$){M(_,e,$),m(e,t),m(e,r),m(e,o),m(o,s),m(e,f)},p(_,$){$[0]&1024&&n!==(n=_[10].t("This will delete")+"")&&Q(t,n),$[0]&128&&a!==(a=_[7].name+"")&&Q(s,a)},d(_){_&&c(e)}}}function An(l){let e,n,t,r="Please carefully review the following warnings:",o,a,s,f=l[10].t("Functions allow arbitrary code execution.")+"",_,$,k,S=l[10].t("Do not install functions from sources you do not fully trust.")+"",D,L,w,i=l[10].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"",d;return{c(){e=g("div"),n=g("div"),t=g("div"),t.textContent=r,o=H(),a=g("ul"),s=g("li"),_=Z(f),$=H(),k=g("li"),D=Z(S),L=H(),w=g("div"),d=Z(i),this.h()},l(E){e=v(E,"DIV",{class:!0});var y=b(e);n=v(y,"DIV",{class:!0});var x=b(n);t=v(x,"DIV",{"data-svelte-h":!0}),Be(t)!=="svelte-1a6manw"&&(t.textContent=r),o=V(x),a=v(x,"UL",{class:!0});var A=b(a);s=v(A,"LI",{});var U=b(s);_=q(U,f),U.forEach(c),$=V(A),k=v(A,"LI",{});var Y=b(k);D=q(Y,S),Y.forEach(c),A.forEach(c),x.forEach(c),L=V(y),w=v(y,"DIV",{class:!0});var C=b(w);d=q(C,i),C.forEach(c),y.forEach(c),this.h()},h(){h(a,"class","mt-1 list-disc pl-4 text-xs"),h(n,"class","bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3"),h(w,"class","my-3"),h(e,"class","text-sm text-gray-500")},m(E,y){M(E,e,y),m(e,n),m(n,t),m(n,o),m(n,a),m(a,s),m(s,_),m(a,$),m(a,k),m(k,D),m(e,L),m(e,w),m(w,d)},p(E,y){y[0]&1024&&f!==(f=E[10].t("Functions allow arbitrary code execution.")+"")&&Q(_,f),y[0]&1024&&S!==(S=E[10].t("Do not install functions from sources you do not fully trust.")+"")&&Q(D,S),y[0]&1024&&i!==(i=E[10].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"")&&Q(d,i)},d(E){E&&c(e)}}}function Un(l){var _t,gt,vt,wt;let e,n,t,r,o,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',s,f,_,$,k,S='<a class="px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1" href="/workspace/functions/create"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg></a>',D,L,w,i,d=l[10].t("Functions")+"",E,y,x,A,U,Y=l[9].length+"",C,ae,K,ne,ce,le,ee,ke,te,P,ge=l[10].t("Import Functions")+"",fe,Ie,_e,Ce='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',De,T,j,ue=l[10].t("Export Functions")+"",he,pe,se,ve='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',ye,p,F,R,re,oe,He,Ze,we,rt,qe,$e,ot,be,at,ut;document.title=e=`
		`+l[10].t("Functions")+" | "+l[11]+`
	`;let Le=yt(l[9]),J=[];for(let u=0;u<Le.length;u+=1)J[u]=St(Ht(l,Le,u));const Bt=u=>N(J[u],1,1,()=>{J[u]=null});let ie=((_t=l[12])==null?void 0:_t.features.enable_community_sharing)&&Ct(l);function Nt(u){l[38](u)}let dt={title:l[10].t("Delete function?"),$$slots:{default:[xn]},$$scope:{ctx:l}};l[8]!==void 0&&(dt.show=l[8]),F=new It({props:dt}),Se.push(()=>Ne(F,"show",Nt)),F.$on("confirm",l[39]);function xt(u){l[40](u)}let mt={manifest:((vt=(gt=l[7])==null?void 0:gt.meta)==null?void 0:vt.manifest)??{}};l[5]!==void 0&&(mt.show=l[5]),oe=new dn({props:mt}),Se.push(()=>Ne(oe,"show",xt));function At(u){l[41](u)}let ht={type:"function",id:((wt=l[7])==null?void 0:wt.id)??null};l[6]!==void 0&&(ht.show=l[6]),we=new mn({props:ht}),Se.push(()=>Ne(we,"show",At)),we.$on("save",l[42]);function Ut(u){l[43](u)}let pt={$$slots:{default:[An]},$$scope:{ctx:l}};return l[4]!==void 0&&(pt.show=l[4]),$e=new It({props:pt}),Se.push(()=>Ne($e,"show",Ut)),$e.$on("confirm",l[44]),{c(){n=H(),t=g("div"),r=g("div"),o=g("div"),o.innerHTML=a,s=H(),f=g("input"),$=H(),k=g("div"),k.innerHTML=S,D=H(),L=g("div"),w=g("div"),i=g("div"),E=Z(d),y=H(),x=g("div"),A=H(),U=g("span"),C=Z(Y),ae=H(),K=g("div");for(let u=0;u<J.length;u+=1)J[u].c();ne=H(),ce=g("div"),le=g("div"),ee=g("input"),ke=H(),te=g("button"),P=g("div"),fe=Z(ge),Ie=H(),_e=g("div"),_e.innerHTML=Ce,De=H(),T=g("button"),j=g("div"),he=Z(ue),pe=H(),se=g("div"),se.innerHTML=ve,ye=H(),ie&&ie.c(),p=H(),O(F.$$.fragment),re=H(),O(oe.$$.fragment),Ze=H(),O(we.$$.fragment),qe=H(),O($e.$$.fragment),this.h()},l(u){Pt("svelte-6oeup7",document.head).forEach(c),n=V(u),t=v(u,"DIV",{class:!0});var de=b(t);r=v(de,"DIV",{class:!0});var Ve=b(r);o=v(Ve,"DIV",{class:!0,"data-svelte-h":!0}),Be(o)!=="svelte-v38fm1"&&(o.innerHTML=a),s=V(Ve),f=v(Ve,"INPUT",{class:!0,placeholder:!0}),Ve.forEach(c),$=V(de),k=v(de,"DIV",{"data-svelte-h":!0}),Be(k)!=="svelte-ux7jbf"&&(k.innerHTML=S),de.forEach(c),D=V(u),L=v(u,"DIV",{class:!0});var xe=b(L);w=v(xe,"DIV",{class:!0});var Ae=b(w);i=v(Ae,"DIV",{class:!0});var Ee=b(i);E=q(Ee,d),y=V(Ee),x=v(Ee,"DIV",{class:!0}),b(x).forEach(c),A=V(Ee),U=v(Ee,"SPAN",{class:!0});var Ue=b(U);C=q(Ue,Y),Ue.forEach(c),Ee.forEach(c),Ae.forEach(c),xe.forEach(c),ae=V(u),K=v(u,"DIV",{class:!0});var je=b(K);for(let it=0;it<J.length;it+=1)J[it].l(je);je.forEach(c),ne=V(u),ce=v(u,"DIV",{class:!0});var Oe=b(ce);le=v(Oe,"DIV",{class:!0});var X=b(le);ee=v(X,"INPUT",{id:!0,type:!0,accept:!0}),ke=V(X),te=v(X,"BUTTON",{class:!0});var Te=b(te);P=v(Te,"DIV",{class:!0});var $t=b(P);fe=q($t,ge),$t.forEach(c),Ie=V(Te),_e=v(Te,"DIV",{class:!0,"data-svelte-h":!0}),Be(_e)!=="svelte-aqr4dt"&&(_e.innerHTML=Ce),Te.forEach(c),De=V(X),T=v(X,"BUTTON",{class:!0});var Je=b(T);j=v(Je,"DIV",{class:!0});var bt=b(j);he=q(bt,ue),bt.forEach(c),pe=V(Je),se=v(Je,"DIV",{class:!0,"data-svelte-h":!0}),Be(se)!=="svelte-1n7zye"&&(se.innerHTML=ve),Je.forEach(c),X.forEach(c),Oe.forEach(c),ye=V(u),ie&&ie.l(u),p=V(u),G(F.$$.fragment,u),re=V(u),G(oe.$$.fragment,u),Ze=V(u),G(we.$$.fragment,u),qe=V(u),G($e.$$.fragment,u),this.h()},h(){h(o,"class","self-center ml-1 mr-3"),h(f,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),h(f,"placeholder",_=l[10].t("Search Functions")),h(r,"class","flex flex-1"),h(t,"class","flex w-full space-x-2 mb-2.5"),h(x,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),h(U,"class","text-base font-medium text-gray-500 dark:text-gray-300"),h(i,"class","flex md:self-center text-base font-medium px-0.5"),h(w,"class","flex justify-between items-center"),h(L,"class","mb-3.5"),h(K,"class","my-3 mb-5"),h(ee,"id","documents-import-input"),h(ee,"type","file"),h(ee,"accept",".json"),ee.hidden=!0,h(P,"class","self-center mr-2 font-medium line-clamp-1"),h(_e,"class","self-center"),h(te,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),h(j,"class","self-center mr-2 font-medium line-clamp-1"),h(se,"class","self-center"),h(T,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),h(le,"class","flex space-x-2"),h(ce,"class","flex justify-end w-full mb-2")},m(u,I){M(u,n,I),M(u,t,I),m(t,r),m(r,o),m(r,s),m(r,f),kt(f,l[0]),m(t,$),m(t,k),M(u,D,I),M(u,L,I),m(L,w),m(w,i),m(i,E),m(i,y),m(i,x),m(i,A),m(i,U),m(U,C),M(u,ae,I),M(u,K,I);for(let de=0;de<J.length;de+=1)J[de]&&J[de].m(K,null);M(u,ne,I),M(u,ce,I),m(ce,le),m(le,ee),l[33](ee),m(le,ke),m(le,te),m(te,P),m(P,fe),m(te,Ie),m(te,_e),m(le,De),m(le,T),m(T,j),m(j,he),m(T,pe),m(T,se),M(u,ye,I),ie&&ie.m(u,I),M(u,p,I),z(F,u,I),M(u,re,I),z(oe,u,I),M(u,Ze,I),z(we,u,I),M(u,qe,I),z($e,u,I),be=!0,at||(ut=[Me(f,"input",l[21]),Me(ee,"change",l[34]),Me(ee,"change",l[35]),Me(te,"click",l[36]),Me(T,"click",l[37])],at=!0)},p(u,I){var Ee,Ue,je,Oe;if((!be||I[0]&3072)&&e!==(e=`
		`+u[10].t("Functions")+" | "+u[11]+`
	`)&&(document.title=e),(!be||I[0]&1024&&_!==(_=u[10].t("Search Functions")))&&h(f,"placeholder",_),I[0]&1&&f.value!==u[0]&&kt(f,u[0]),(!be||I[0]&1024)&&d!==(d=u[10].t("Functions")+"")&&Q(E,d),(!be||I[0]&512)&&Y!==(Y=u[9].length+"")&&Q(C,Y),I[0]&1017826){Le=yt(u[9]);let X;for(X=0;X<Le.length;X+=1){const Te=Ht(u,Le,X);J[X]?(J[X].p(Te,I),B(J[X],1)):(J[X]=St(Te),J[X].c(),B(J[X],1),J[X].m(K,null))}for(lt(),X=Le.length;X<J.length;X+=1)Bt(X);st()}(!be||I[0]&1024)&&ge!==(ge=u[10].t("Import Functions")+"")&&Q(fe,ge),(!be||I[0]&1024)&&ue!==(ue=u[10].t("Export Functions")+"")&&Q(he,ue),(Ee=u[12])!=null&&Ee.features.enable_community_sharing?ie?ie.p(u,I):(ie=Ct(u),ie.c(),ie.m(p.parentNode,p)):ie&&(ie.d(1),ie=null);const de={};I[0]&1024&&(de.title=u[10].t("Delete function?")),I[0]&1152|I[1]&131072&&(de.$$scope={dirty:I,ctx:u}),!R&&I[0]&256&&(R=!0,de.show=u[8],Fe(()=>R=!1)),F.$set(de);const Ve={};I[0]&128&&(Ve.manifest=((je=(Ue=u[7])==null?void 0:Ue.meta)==null?void 0:je.manifest)??{}),!He&&I[0]&32&&(He=!0,Ve.show=u[5],Fe(()=>He=!1)),oe.$set(Ve);const xe={};I[0]&128&&(xe.id=((Oe=u[7])==null?void 0:Oe.id)??null),!rt&&I[0]&64&&(rt=!0,xe.show=u[6],Fe(()=>rt=!1)),we.$set(xe);const Ae={};I[0]&1024|I[1]&131072&&(Ae.$$scope={dirty:I,ctx:u}),!ot&&I[0]&16&&(ot=!0,Ae.show=u[4],Fe(()=>ot=!1)),$e.$set(Ae)},i(u){if(!be){for(let I=0;I<Le.length;I+=1)B(J[I]);B(F.$$.fragment,u),B(oe.$$.fragment,u),B(we.$$.fragment,u),B($e.$$.fragment,u),be=!0}},o(u){J=J.filter(Boolean);for(let I=0;I<J.length;I+=1)N(J[I]);N(F.$$.fragment,u),N(oe.$$.fragment,u),N(we.$$.fragment,u),N($e.$$.fragment,u),be=!1},d(u){u&&(c(n),c(t),c(D),c(L),c(ae),c(K),c(ne),c(ce),c(ye),c(p),c(re),c(Ze),c(qe)),Rt(J,u),l[33](null),ie&&ie.d(u),W(F,u),W(oe,u),W(we,u),W($e,u),at=!1,Zt(ut)}}}const jn=()=>{};function On(l,e,n){let t,r,o,a;Pe(l,Ke,p=>n(20,r=p)),Pe(l,Qt,p=>n(11,o=p)),Pe(l,Xt,p=>n(12,a=p));const{saveAs:s}=Kt,f=Lt("i18n");Pe(l,f,p=>n(10,t=p));let _=!1,$,k,S=!1,D="",L=!1,w=!1,i=null,d=!1,E=[];const y=async p=>{const F=await ft(localStorage.token,p.id).catch(He=>(me.error(He),null));me.success(t.t("Redirecting you to OpenWebUI Community"));const R="https://openwebui.com",re=await window.open(`${R}/functions/create`,"_blank"),oe=He=>{He.origin===R&&He.data==="loaded"&&(re.postMessage(JSON.stringify(F),"*"),window.removeEventListener("message",oe))};window.addEventListener("message",oe,!1),console.log(F)},x=async p=>{const F=await ft(localStorage.token,p.id).catch(R=>(me.error(R),null));F&&(sessionStorage.function=JSON.stringify({...F,id:`${F.id}_clone`,name:`${F.name} (Clone)`}),Et("/workspace/functions/create"))},A=async p=>{const F=await ft(localStorage.token,p.id).catch(R=>(me.error(R),null));if(F){let R=new Blob([JSON.stringify([F])],{type:"application/json"});s(R,`function-${F.id}-export-${Date.now()}.json`)}},U=async p=>{await Yt(localStorage.token,p.id).catch(R=>(me.error(R),null))&&(me.success(t.t("Function deleted successfully")),Ke.set(await ct(localStorage.token)),Ge.set(await ze(localStorage.token)))},Y=async p=>{await en(localStorage.token,p.id).catch(R=>{me.error(R)})&&(p.is_global?p.type==="filter"?me.success(t.t("Filter is now globally enabled")):me.success(t.t("Function is now globally enabled")):p.type==="filter"?me.success(t.t("Filter is now globally disabled")):me.success(t.t("Function is now globally disabled")),Ke.set(await ct(localStorage.token)),Ge.set(await ze(localStorage.token)))};qt(()=>{const p=re=>{re.key==="Shift"&&n(1,_=!0)},F=re=>{re.key==="Shift"&&n(1,_=!1)},R=()=>{n(1,_=!1)};return window.addEventListener("keydown",p),window.addEventListener("keyup",F),window.addEventListener("blur",R),()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",F),window.removeEventListener("blur",R)}});function C(){D=this.value,n(0,D)}const ae=p=>{U(p)},K=p=>{n(7,i=p),n(5,L=!0)},ne=p=>{n(7,i=p),n(6,w=!0)},ce=p=>{Et(`/workspace/functions/edit?id=${encodeURIComponent(p.id)}`)},le=p=>{y(p)},ee=p=>{x(p)},ke=p=>{A(p)},te=async p=>{n(7,i=p),n(8,d=!0)},P=p=>{["filter","action"].includes(p.type)&&Y(p)};function ge(p,F){l.$$.not_equal(F.is_active,p)&&(F.is_active=p,n(9,E),n(20,r),n(0,D))}const fe=async(p,F)=>{tn(localStorage.token,p.id),Ge.set(await ze(localStorage.token))};function Ie(p){Se[p?"unshift":"push"](()=>{$=p,n(2,$)})}function _e(){k=this.files,n(3,k)}const Ce=()=>{console.log(k),n(4,S=!0)},De=()=>{$.click()},T=async()=>{const p=await nn(localStorage.token).catch(F=>(me.error(F),null));if(p){let F=new Blob([JSON.stringify(p)],{type:"application/json"});s(F,`functions-export-${Date.now()}.json`)}};function j(p){d=p,n(8,d)}const ue=()=>{U(i)};function he(p){L=p,n(5,L)}function pe(p){w=p,n(6,w)}const se=async()=>{await Jt(),Ge.set(await ze(localStorage.token))};function ve(p){S=p,n(4,S)}const ye=()=>{const p=new FileReader;p.onload=async F=>{const R=JSON.parse(F.target.result);console.log(R);for(const re of R)await ln(localStorage.token,re).catch(oe=>(me.error(oe),null));me.success(t.t("Functions imported successfully")),Ke.set(await ct(localStorage.token)),Ge.set(await ze(localStorage.token))},p.readAsText(k[0])};return l.$$.update=()=>{l.$$.dirty[0]&1048577&&n(9,E=r.filter(p=>D===""||p.name.toLowerCase().includes(D.toLowerCase())||p.id.toLowerCase().includes(D.toLowerCase())))},[D,_,$,k,S,L,w,i,d,E,t,o,a,s,f,y,x,A,U,Y,r,C,ae,K,ne,ce,le,ee,ke,te,P,ge,fe,Ie,_e,Ce,De,T,j,ue,he,pe,se,ve,ye]}class Gn extends tt{constructor(e){super(),nt(this,e,On,Un,et,{},null,[-1,-1])}}function zn(l){let e,n;return e=new Gn({}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,r){z(e,t,r),n=!0},p:Ye,i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}class dl extends tt{constructor(e){super(),nt(this,e,null,zn,et,{})}}export{dl as component};
//# sourceMappingURL=15.CDS32b50.js.map
