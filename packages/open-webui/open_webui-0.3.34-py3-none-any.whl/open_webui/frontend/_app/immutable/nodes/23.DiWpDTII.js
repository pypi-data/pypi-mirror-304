import{s as Xs,e as f,k,t as N,c as _,a as m,o as I,H as Wt,b as S,d,f as c,i as M,g as n,u as Z,h as B,E as Ml,j as Mt,p as Zs,q as Gs,A as Qe,B as Ce,C as Qs,D as at,I as $s,J as bs,K as Ls,n as Bl,L as xs,y as ws,z as ks,M as Is,l as ys}from"../chunks/scheduler.BwES1eAZ.js";import{S as ea,i as ta,t as $,a as ne,c as Fs,f as rt,b as Ye,d as Xe,m as Ze,g as Ks,e as Ge}from"../chunks/index.JIjGThd1.js";import{e as pl}from"../chunks/each.AnZnuqp8.js";import{t as la}from"../chunks/Toaster.svelte_svelte_type_style_lang.B-_b2mbR.js";import{g as _l}from"../chunks/entry.Dtt6bcfU.js";import{p as sa}from"../chunks/stores.DwA8Ctdq.js";import{m as Es,k as aa,t as ra,f as na}from"../chunks/index.C9ZMts_b.js";import"../chunks/sha256.DmKfZSHC.js";import{u as oa}from"../chunks/index.C8i5fZZj.js";import{A as ia}from"../chunks/AdvancedParams.BZCEcpXg.js";import{g as ca}from"../chunks/index.BkKzHNgE.js";import{T as ua}from"../chunks/Tags.Dmjw3RH1.js";import{K as da,T as fa,F as _a,A as pa,C as ma}from"../chunks/Capabilities.yM6uLtAX.js";import{T as ha}from"../chunks/Textarea.MRovrXHN.js";function Ds(s,e,t){const a=s.slice();return a[51]=e[t],a[52]=e,a[53]=t,a}function Ts(s,e,t){const a=s.slice();return a[19]=e[t],a}function Vs(s){var Wl,Yl,Xl,Zl,Gl,Ql;let e,t,a,l,r,g,v,w,A,C=s[15].t("Name")+"",j,D,V,T,o,y,b,u,E,L=s[15].t("Model ID")+"",Y,ge,ve,le,G,nt,Bt,ot,oe,be,Oe,$e=s[15].t("Description")+"",it,Ct,ie,Ot,Ht,ct,Ut,we,He,Ue,xe=s[15].t("Model Params")+"",ut,jt,x,ke,je,dt=s[15].t("System Prompt")+"",Lt,Yt,ft,h,O,ee,F,Q,Ie=s[15].t("Advanced Params")+"",ce,ue,K,Le,Fe,Ee,_t,se,ae,de,De,Ke=s[15].t("Prompt suggestions")+"",et,pt,re,mt,ht,gt,P,Te,ml,hl,vt,Ve,gl,vl,bt,Ae,bl,wl,wt,Ne,kl,Il,kt,Se,yl,El,Re,It,yt,Ft=s[15].t("Tags")+"",Xt,Dl,Et,ye,Tl,Pe,ze,Dt,Kt=s[15].t("JSON Preview")+"",Zt,Vl,Me,Al,Nl,Tt,te,Vt,Rt=s[15].t("Save & Update")+"",Gt,Sl,Qt,H,Pl,Cl;function Ol(i,p){return i[7].meta.profile_image_url?va:ga}let $t=Ol(s),fe=$t(s),R=s[19].preset&&As(s);function Hl(i,p){return i[7].meta.description===null?wa:ba}let xt=Hl(s),_e=xt(s),z=s[7].meta.description!==null&&Ss(s);function Rs(i){s[32](i)}let Ul={className:"px-3 py-2 text-sm w-full bg-transparent border dark:border-gray-600 outline-none resize-none overflow-y-hidden rounded-lg ",placeholder:`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`,rows:4};s[7].params.system!==void 0&&(Ul.value=s[7].params.system),h=new ha({props:Ul}),Qe.push(()=>rt(h,"value",Rs));function jl(i,p){return i[3]?Ia:ka}let el=jl(s),pe=el(s),U=s[3]&&Ps(s);function Ll(i,p){var qe,Be;return(((Be=(qe=i[7])==null?void 0:qe.meta)==null?void 0:Be.suggestion_prompts)??null)===null?Ea:ya}let tl=Ll(s),me=tl(s),q=(((Yl=(Wl=s[7])==null?void 0:Wl.meta)==null?void 0:Yl.suggestion_prompts)??null)!==null&&Ms(s),J=((Zl=(Xl=s[7])==null?void 0:Xl.meta)==null?void 0:Zl.suggestion_prompts)&&Bs(s);function zs(i){s[40](i)}let Fl={collections:s[16]};s[10]!==void 0&&(Fl.selectedKnowledge=s[10]),Te=new da({props:Fl}),Qe.push(()=>rt(Te,"selectedKnowledge",zs));function qs(i){s[41](i)}let Kl={tools:s[17]};s[11]!==void 0&&(Kl.selectedToolIds=s[11]),Ve=new fa({props:Kl}),Qe.push(()=>rt(Ve,"selectedToolIds",qs));function Js(i){s[42](i)}let Rl={filters:s[18].filter(Us)};s[12]!==void 0&&(Rl.selectedFilterIds=s[12]),Ae=new _a({props:Rl}),Qe.push(()=>rt(Ae,"selectedFilterIds",Js));function Ws(i){s[43](i)}let zl={actions:s[18].filter(js)};s[13]!==void 0&&(zl.selectedActionIds=s[13]),Ne=new pa({props:zl}),Qe.push(()=>rt(Ne,"selectedActionIds",Ws));function Ys(i){s[44](i)}let ql={};s[9]!==void 0&&(ql.capabilities=s[9]),Se=new ma({props:ql}),Qe.push(()=>rt(Se,"capabilities",Ys)),ye=new ua({props:{tags:((Ql=(Gl=s[7])==null?void 0:Gl.meta)==null?void 0:Ql.tags)??[]}}),ye.$on("delete",s[45]),ye.$on("add",s[46]);function Jl(i,p){return i[4]?Aa:Va}let ll=Jl(s),he=ll(s),W=s[4]&&Os(s),X=s[0]&&Hs();return{c(){e=f("form"),t=f("div"),a=f("div"),l=f("button"),fe.c(),g=k(),v=f("div"),w=f("div"),A=f("div"),j=N(C),D=N("*"),V=k(),T=f("div"),o=f("input"),b=k(),u=f("div"),E=f("div"),Y=N(L),ge=N("*"),ve=k(),le=f("div"),G=f("input"),Bt=k(),R&&R.c(),ot=k(),oe=f("div"),be=f("div"),Oe=f("div"),it=N($e),Ct=k(),ie=f("button"),_e.c(),Ot=k(),z&&z.c(),Ht=k(),ct=f("hr"),Ut=k(),we=f("div"),He=f("div"),Ue=f("div"),ut=N(xe),jt=k(),x=f("div"),ke=f("div"),je=f("div"),Lt=N(dt),Yt=k(),ft=f("div"),Ye(h.$$.fragment),ee=k(),F=f("div"),Q=f("div"),ce=N(Ie),ue=k(),K=f("button"),pe.c(),Le=k(),U&&U.c(),Fe=k(),Ee=f("hr"),_t=k(),se=f("div"),ae=f("div"),de=f("div"),De=f("div"),et=N(Ke),pt=k(),re=f("button"),me.c(),mt=k(),q&&q.c(),ht=k(),J&&J.c(),gt=k(),P=f("div"),Ye(Te.$$.fragment),hl=k(),vt=f("div"),Ye(Ve.$$.fragment),vl=k(),bt=f("div"),Ye(Ae.$$.fragment),wl=k(),wt=f("div"),Ye(Ne.$$.fragment),Il=k(),kt=f("div"),Ye(Se.$$.fragment),El=k(),Re=f("div"),It=f("div"),yt=f("div"),Xt=N(Ft),Dl=k(),Et=f("div"),Ye(ye.$$.fragment),Tl=k(),Pe=f("div"),ze=f("div"),Dt=f("div"),Zt=N(Kt),Vl=k(),Me=f("button"),he.c(),Al=k(),W&&W.c(),Nl=k(),Tt=f("div"),te=f("button"),Vt=f("div"),Gt=N(Rt),Sl=k(),X&&X.c(),this.h()},l(i){e=_(i,"FORM",{class:!0});var p=m(e);t=_(p,"DIV",{class:!0});var qe=m(t);a=_(qe,"DIV",{class:!0});var Be=m(a);l=_(Be,"BUTTON",{class:!0,type:!0});var At=m(l);fe.l(At),At.forEach(d),Be.forEach(d),qe.forEach(d),g=I(p),v=_(p,"DIV",{class:!0});var Je=m(v);w=_(Je,"DIV",{class:!0});var We=m(w);A=_(We,"DIV",{class:!0});var Nt=m(A);j=S(Nt,C),D=S(Nt,"*"),Nt.forEach(d),V=I(We),T=_(We,"DIV",{});var zt=m(T);o=_(zt,"INPUT",{class:!0,placeholder:!0}),zt.forEach(d),We.forEach(d),b=I(Je),u=_(Je,"DIV",{class:!0});var tt=m(u);E=_(tt,"DIV",{class:!0});var St=m(E);Y=S(St,L),ge=S(St,"*"),St.forEach(d),ve=I(tt),le=_(tt,"DIV",{});var qt=m(le);G=_(qt,"INPUT",{class:!0,placeholder:!0}),qt.forEach(d),tt.forEach(d),Je.forEach(d),Bt=I(p),R&&R.l(p),ot=I(p),oe=_(p,"DIV",{class:!0});var lt=m(oe);be=_(lt,"DIV",{class:!0});var st=m(be);Oe=_(st,"DIV",{class:!0});var Jt=m(Oe);it=S(Jt,$e),Jt.forEach(d),Ct=I(st),ie=_(st,"BUTTON",{class:!0,type:!0});var $l=m(ie);_e.l($l),$l.forEach(d),st.forEach(d),Ot=I(lt),z&&z.l(lt),lt.forEach(d),Ht=I(p),ct=_(p,"HR",{class:!0}),Ut=I(p),we=_(p,"DIV",{class:!0});var sl=m(we);He=_(sl,"DIV",{class:!0});var xl=m(He);Ue=_(xl,"DIV",{class:!0});var es=m(Ue);ut=S(es,xe),es.forEach(d),xl.forEach(d),jt=I(sl),x=_(sl,"DIV",{class:!0});var Pt=m(x);ke=_(Pt,"DIV",{class:!0});var al=m(ke);je=_(al,"DIV",{class:!0});var ts=m(je);Lt=S(ts,dt),ts.forEach(d),Yt=I(al),ft=_(al,"DIV",{});var ls=m(ft);Xe(h.$$.fragment,ls),ls.forEach(d),al.forEach(d),ee=I(Pt),F=_(Pt,"DIV",{class:!0});var rl=m(F);Q=_(rl,"DIV",{class:!0});var ss=m(Q);ce=S(ss,Ie),ss.forEach(d),ue=I(rl),K=_(rl,"BUTTON",{class:!0,type:!0});var as=m(K);pe.l(as),as.forEach(d),rl.forEach(d),Le=I(Pt),U&&U.l(Pt),Pt.forEach(d),sl.forEach(d),Fe=I(p),Ee=_(p,"HR",{class:!0}),_t=I(p),se=_(p,"DIV",{class:!0});var nl=m(se);ae=_(nl,"DIV",{class:!0});var ol=m(ae);de=_(ol,"DIV",{class:!0});var il=m(de);De=_(il,"DIV",{class:!0});var rs=m(De);et=S(rs,Ke),rs.forEach(d),pt=I(il),re=_(il,"BUTTON",{class:!0,type:!0});var ns=m(re);me.l(ns),ns.forEach(d),il.forEach(d),mt=I(ol),q&&q.l(ol),ol.forEach(d),ht=I(nl),J&&J.l(nl),nl.forEach(d),gt=I(p),P=_(p,"DIV",{class:!0});var os=m(P);Xe(Te.$$.fragment,os),os.forEach(d),hl=I(p),vt=_(p,"DIV",{class:!0});var is=m(vt);Xe(Ve.$$.fragment,is),is.forEach(d),vl=I(p),bt=_(p,"DIV",{class:!0});var cs=m(bt);Xe(Ae.$$.fragment,cs),cs.forEach(d),wl=I(p),wt=_(p,"DIV",{class:!0});var us=m(wt);Xe(Ne.$$.fragment,us),us.forEach(d),Il=I(p),kt=_(p,"DIV",{class:!0});var ds=m(kt);Xe(Se.$$.fragment,ds),ds.forEach(d),El=I(p),Re=_(p,"DIV",{class:!0});var cl=m(Re);It=_(cl,"DIV",{class:!0});var fs=m(It);yt=_(fs,"DIV",{class:!0});var _s=m(yt);Xt=S(_s,Ft),_s.forEach(d),fs.forEach(d),Dl=I(cl),Et=_(cl,"DIV",{class:!0});var ps=m(Et);Xe(ye.$$.fragment,ps),ps.forEach(d),cl.forEach(d),Tl=I(p),Pe=_(p,"DIV",{class:!0});var ul=m(Pe);ze=_(ul,"DIV",{class:!0});var dl=m(ze);Dt=_(dl,"DIV",{class:!0});var ms=m(Dt);Zt=S(ms,Kt),ms.forEach(d),Vl=I(dl),Me=_(dl,"BUTTON",{class:!0,type:!0});var hs=m(Me);he.l(hs),hs.forEach(d),dl.forEach(d),Al=I(ul),W&&W.l(ul),ul.forEach(d),Nl=I(p),Tt=_(p,"DIV",{class:!0});var gs=m(Tt);te=_(gs,"BUTTON",{class:!0,type:!0});var fl=m(te);Vt=_(fl,"DIV",{class:!0});var vs=m(Vt);Gt=S(vs,Rt),vs.forEach(d),Sl=I(fl),X&&X.l(fl),fl.forEach(d),gs.forEach(d),p.forEach(d),this.h()},h(){c(l,"class",r=(s[7].meta.profile_image_url?"":"p-4")+" rounded-full border border-dashed border-gray-200 flex items-center"),c(l,"type","button"),c(a,"class","self-center"),c(t,"class","flex justify-center my-4"),c(A,"class","text-sm font-semibold mb-1"),c(o,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(o,"placeholder",y=s[15].t("Name your model")),o.required=!0,c(w,"class","flex-1"),c(E,"class","text-sm font-semibold mb-1"),c(G,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),c(G,"placeholder",nt=s[15].t("Add a model id")),G.value=s[5],G.disabled=!0,G.required=!0,c(u,"class","flex-1"),c(v,"class","mt-2 my-1 flex space-x-2"),c(Oe,"class","self-center text-sm font-semibold"),c(ie,"class","p-1 text-xs flex rounded transition"),c(ie,"type","button"),c(be,"class","flex w-full justify-between items-center"),c(oe,"class","my-1"),c(ct,"class","dark:border-gray-850 my-1"),c(Ue,"class","self-center text-sm font-semibold"),c(He,"class","flex w-full justify-between"),c(je,"class","text-xs font-semibold mb-2"),c(ke,"class","my-1"),c(Q,"class","self-center text-xs font-semibold"),c(K,"class","p-1 px-3 text-xs flex rounded transition"),c(K,"type","button"),c(F,"class","flex w-full justify-between"),c(x,"class","mt-2"),c(we,"class","my-2"),c(Ee,"class","dark:border-gray-850 my-1"),c(De,"class","self-center text-sm font-semibold"),c(re,"class","p-1 text-xs flex rounded transition"),c(re,"type","button"),c(de,"class","flex w-full justify-between items-center"),c(ae,"class","flex w-full justify-between items-center"),c(se,"class","my-2"),c(P,"class","my-2"),c(vt,"class","my-2"),c(bt,"class","my-2"),c(wt,"class","my-2"),c(kt,"class","my-2"),c(yt,"class","self-center text-sm font-semibold"),c(It,"class","flex w-full justify-between items-center"),c(Et,"class","mt-2"),c(Re,"class","my-1"),c(Dt,"class","self-center text-sm font-semibold"),c(Me,"class","p-1 px-3 text-xs flex rounded transition"),c(Me,"type","button"),c(ze,"class","flex w-full justify-between mb-2"),c(Pe,"class","my-2 text-gray-300 dark:text-gray-700"),c(Vt,"class","self-center font-medium"),c(te,"class",Qt="text-sm px-3 py-2 transition rounded-xl "+(s[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),c(te,"type","submit"),te.disabled=s[0],c(Tt,"class","my-2 flex justify-end mb-20"),c(e,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10")},m(i,p){M(i,e,p),n(e,t),n(t,a),n(a,l),fe.m(l,null),n(e,g),n(e,v),n(v,w),n(w,A),n(A,j),n(A,D),n(w,V),n(w,T),n(T,o),Ce(o,s[6]),n(v,b),n(v,u),n(u,E),n(E,Y),n(E,ge),n(u,ve),n(u,le),n(le,G),n(e,Bt),R&&R.m(e,null),n(e,ot),n(e,oe),n(oe,be),n(be,Oe),n(Oe,it),n(be,Ct),n(be,ie),_e.m(ie,null),n(oe,Ot),z&&z.m(oe,null),n(e,Ht),n(e,ct),n(e,Ut),n(e,we),n(we,He),n(He,Ue),n(Ue,ut),n(we,jt),n(we,x),n(x,ke),n(ke,je),n(je,Lt),n(ke,Yt),n(ke,ft),Ze(h,ft,null),n(x,ee),n(x,F),n(F,Q),n(Q,ce),n(F,ue),n(F,K),pe.m(K,null),n(x,Le),U&&U.m(x,null),n(e,Fe),n(e,Ee),n(e,_t),n(e,se),n(se,ae),n(ae,de),n(de,De),n(De,et),n(de,pt),n(de,re),me.m(re,null),n(ae,mt),q&&q.m(ae,null),n(se,ht),J&&J.m(se,null),n(e,gt),n(e,P),Ze(Te,P,null),n(e,hl),n(e,vt),Ze(Ve,vt,null),n(e,vl),n(e,bt),Ze(Ae,bt,null),n(e,wl),n(e,wt),Ze(Ne,wt,null),n(e,Il),n(e,kt),Ze(Se,kt,null),n(e,El),n(e,Re),n(Re,It),n(It,yt),n(yt,Xt),n(Re,Dl),n(Re,Et),Ze(ye,Et,null),n(e,Tl),n(e,Pe),n(Pe,ze),n(ze,Dt),n(Dt,Zt),n(ze,Vl),n(ze,Me),he.m(Me,null),n(Pe,Al),W&&W.m(Pe,null),n(e,Nl),n(e,Tt),n(Tt,te),n(te,Vt),n(Vt,Gt),n(te,Sl),X&&X.m(te,null),H=!0,Pl||(Cl=[Z(l,"click",s[26]),Z(o,"input",s[27]),Z(ie,"click",s[30]),Z(K,"click",s[33]),Z(re,"click",s[36]),Z(Me,"click",s[47]),Z(e,"submit",Qs(s[48]))],Pl=!0)},p(i,p){var tt,St,qt,lt,st,Jt;$t===($t=Ol(i))&&fe?fe.p(i,p):(fe.d(1),fe=$t(i),fe&&(fe.c(),fe.m(l,null))),(!H||p[0]&16512&&r!==(r=(i[7].meta.profile_image_url?"":"p-4")+" rounded-full border border-dashed border-gray-200 flex items-center"))&&c(l,"class",r),(!H||p[0]&32768)&&C!==(C=i[15].t("Name")+"")&&B(j,C),(!H||p[0]&32768&&y!==(y=i[15].t("Name your model")))&&c(o,"placeholder",y),p[0]&64&&o.value!==i[6]&&Ce(o,i[6]),(!H||p[0]&32768)&&L!==(L=i[15].t("Model ID")+"")&&B(Y,L),(!H||p[0]&32768&&nt!==(nt=i[15].t("Add a model id")))&&c(G,"placeholder",nt),(!H||p[0]&32&&G.value!==i[5])&&(G.value=i[5]),i[19].preset?R?R.p(i,p):(R=As(i),R.c(),R.m(e,ot)):R&&(R.d(1),R=null),(!H||p[0]&32768)&&$e!==($e=i[15].t("Description")+"")&&B(it,$e),xt===(xt=Hl(i))&&_e?_e.p(i,p):(_e.d(1),_e=xt(i),_e&&(_e.c(),_e.m(ie,null))),i[7].meta.description!==null?z?z.p(i,p):(z=Ss(i),z.c(),z.m(oe,null)):z&&(z.d(1),z=null),(!H||p[0]&32768)&&xe!==(xe=i[15].t("Model Params")+"")&&B(ut,xe),(!H||p[0]&32768)&&dt!==(dt=i[15].t("System Prompt")+"")&&B(Lt,dt);const qe={};!O&&p[0]&128&&(O=!0,qe.value=i[7].params.system,at(()=>O=!1)),h.$set(qe),(!H||p[0]&32768)&&Ie!==(Ie=i[15].t("Advanced Params")+"")&&B(ce,Ie),el===(el=jl(i))&&pe?pe.p(i,p):(pe.d(1),pe=el(i),pe&&(pe.c(),pe.m(K,null))),i[3]?U?(U.p(i,p),p[0]&8&&$(U,1)):(U=Ps(i),U.c(),$(U,1),U.m(x,null)):U&&(Ks(),ne(U,1,1,()=>{U=null}),Fs()),(!H||p[0]&32768)&&Ke!==(Ke=i[15].t("Prompt suggestions")+"")&&B(et,Ke),tl===(tl=Ll(i))&&me?me.p(i,p):(me.d(1),me=tl(i),me&&(me.c(),me.m(re,null))),(((St=(tt=i[7])==null?void 0:tt.meta)==null?void 0:St.suggestion_prompts)??null)!==null?q?q.p(i,p):(q=Ms(i),q.c(),q.m(ae,null)):q&&(q.d(1),q=null),(lt=(qt=i[7])==null?void 0:qt.meta)!=null&&lt.suggestion_prompts?J?J.p(i,p):(J=Bs(i),J.c(),J.m(se,null)):J&&(J.d(1),J=null);const Be={};p[0]&65536&&(Be.collections=i[16]),!ml&&p[0]&1024&&(ml=!0,Be.selectedKnowledge=i[10],at(()=>ml=!1)),Te.$set(Be);const At={};p[0]&131072&&(At.tools=i[17]),!gl&&p[0]&2048&&(gl=!0,At.selectedToolIds=i[11],at(()=>gl=!1)),Ve.$set(At);const Je={};p[0]&262144&&(Je.filters=i[18].filter(Us)),!bl&&p[0]&4096&&(bl=!0,Je.selectedFilterIds=i[12],at(()=>bl=!1)),Ae.$set(Je);const We={};p[0]&262144&&(We.actions=i[18].filter(js)),!kl&&p[0]&8192&&(kl=!0,We.selectedActionIds=i[13],at(()=>kl=!1)),Ne.$set(We);const Nt={};!yl&&p[0]&512&&(yl=!0,Nt.capabilities=i[9],at(()=>yl=!1)),Se.$set(Nt),(!H||p[0]&32768)&&Ft!==(Ft=i[15].t("Tags")+"")&&B(Xt,Ft);const zt={};p[0]&128&&(zt.tags=((Jt=(st=i[7])==null?void 0:st.meta)==null?void 0:Jt.tags)??[]),ye.$set(zt),(!H||p[0]&32768)&&Kt!==(Kt=i[15].t("JSON Preview")+"")&&B(Zt,Kt),ll===(ll=Jl(i))&&he?he.p(i,p):(he.d(1),he=ll(i),he&&(he.c(),he.m(Me,null))),i[4]?W?W.p(i,p):(W=Os(i),W.c(),W.m(Pe,null)):W&&(W.d(1),W=null),(!H||p[0]&32768)&&Rt!==(Rt=i[15].t("Save & Update")+"")&&B(Gt,Rt),i[0]?X||(X=Hs(),X.c(),X.m(te,null)):X&&(X.d(1),X=null),(!H||p[0]&1&&Qt!==(Qt="text-sm px-3 py-2 transition rounded-xl "+(i[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&c(te,"class",Qt),(!H||p[0]&1)&&(te.disabled=i[0])},i(i){H||($(h.$$.fragment,i),$(U),$(Te.$$.fragment,i),$(Ve.$$.fragment,i),$(Ae.$$.fragment,i),$(Ne.$$.fragment,i),$(Se.$$.fragment,i),$(ye.$$.fragment,i),H=!0)},o(i){ne(h.$$.fragment,i),ne(U),ne(Te.$$.fragment,i),ne(Ve.$$.fragment,i),ne(Ae.$$.fragment,i),ne(Ne.$$.fragment,i),ne(Se.$$.fragment,i),ne(ye.$$.fragment,i),H=!1},d(i){i&&d(e),fe.d(),R&&R.d(),_e.d(),z&&z.d(),Ge(h),pe.d(),U&&U.d(),me.d(),q&&q.d(),J&&J.d(),Ge(Te),Ge(Ve),Ge(Ae),Ge(Ne),Ge(Se),Ge(ye),he.d(),W&&W.d(),X&&X.d(),Pl=!1,Ml(Cl)}}}function ga(s){let e,t;return{c(){e=ws("svg"),t=ws("path"),this.h()},l(a){e=ks(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=m(e);t=ks(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(d),l.forEach(d),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 24 24"),c(e,"fill","currentColor"),c(e,"class","size-8")},m(a,l){M(a,e,l),n(e,t)},p:Bl,d(a){a&&d(e)}}}function va(s){let e,t;return{c(){e=f("img"),this.h()},l(a){e=_(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Is(e.src,t=s[7].meta.profile_image_url)||c(e,"src",t),c(e,"alt","modelfile profile"),c(e,"class","rounded-full size-16 object-cover")},m(a,l){M(a,e,l)},p(a,l){l[0]&16512&&!Is(e.src,t=a[7].meta.profile_image_url)&&c(e,"src",t)},d(a){a&&d(e)}}}function As(s){let e,t,a=s[15].t("Base Model (From)")+"",l,r,g,v,w,A=s[15].t("Select a base model")+"",C,j,D,V=pl(s[14].filter(s[28])),T=[];for(let o=0;o<V.length;o+=1)T[o]=Ns(Ts(s,V,o));return{c(){e=f("div"),t=f("div"),l=N(a),r=k(),g=f("div"),v=f("select"),w=f("option"),C=N(A);for(let o=0;o<T.length;o+=1)T[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var y=m(e);t=_(y,"DIV",{class:!0});var b=m(t);l=S(b,a),b.forEach(d),r=I(y),g=_(y,"DIV",{});var u=m(g);v=_(u,"SELECT",{class:!0,placeholder:!0});var E=m(v);w=_(E,"OPTION",{class:!0});var L=m(w);C=S(L,A),L.forEach(d);for(let Y=0;Y<T.length;Y+=1)T[Y].l(E);E.forEach(d),u.forEach(d),y.forEach(d),this.h()},h(){c(t,"class","text-sm font-semibold mb-1"),w.__value=null,Ce(w,w.__value),c(w,"class","text-gray-900"),c(v,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(v,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),v.required=!0,s[7].base_model_id===void 0&&$s(()=>s[29].call(v)),c(e,"class","my-1")},m(o,y){M(o,e,y),n(e,t),n(t,l),n(e,r),n(e,g),n(g,v),n(v,w),n(w,C);for(let b=0;b<T.length;b+=1)T[b]&&T[b].m(v,null);bs(v,s[7].base_model_id,!0),j||(D=Z(v,"change",s[29]),j=!0)},p(o,y){if(y[0]&32768&&a!==(a=o[15].t("Base Model (From)")+"")&&B(l,a),y[0]&32768&&A!==(A=o[15].t("Select a base model")+"")&&B(C,A),y[0]&540672){V=pl(o[14].filter(o[28]));let b;for(b=0;b<V.length;b+=1){const u=Ts(o,V,b);T[b]?T[b].p(u,y):(T[b]=Ns(u),T[b].c(),T[b].m(v,null))}for(;b<T.length;b+=1)T[b].d(1);T.length=V.length}y[0]&16512&&bs(v,o[7].base_model_id)},d(o){o&&d(e),Ls(T,o),j=!1,D()}}}function Ns(s){let e,t=s[19].name+"",a,l;return{c(){e=f("option"),a=N(t),this.h()},l(r){e=_(r,"OPTION",{class:!0});var g=m(e);a=S(g,t),g.forEach(d),this.h()},h(){e.__value=l=s[19].id,Ce(e,e.__value),c(e,"class","text-gray-900")},m(r,g){M(r,e,g),n(e,a)},p(r,g){g[0]&540672&&t!==(t=r[19].name+"")&&B(a,t),g[0]&540672&&l!==(l=r[19].id)&&(e.__value=l,Ce(e,e.__value))},d(r){r&&d(e)}}}function ba(s){let e,t=s[15].t("Custom")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Custom")+"")&&B(a,t)},d(l){l&&d(e)}}}function wa(s){let e,t=s[15].t("Default")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Default")+"")&&B(a,t)},d(l){l&&d(e)}}}function Ss(s){let e,t,a,l;return{c(){e=f("textarea"),this.h()},l(r){e=_(r,"TEXTAREA",{class:!0,placeholder:!0,row:!0}),m(e).forEach(d),this.h()},h(){c(e,"class","mt-1 px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(e,"placeholder",t=s[15].t("Add a short description about what this model does")),c(e,"row","3")},m(r,g){M(r,e,g),Ce(e,s[7].meta.description),a||(l=Z(e,"input",s[31]),a=!0)},p(r,g){g[0]&32768&&t!==(t=r[15].t("Add a short description about what this model does"))&&c(e,"placeholder",t),g[0]&16512&&Ce(e,r[7].meta.description)},d(r){r&&d(e),a=!1,l()}}}function ka(s){let e,t=s[15].t("Show")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Show")+"")&&B(a,t)},d(l){l&&d(e)}}}function Ia(s){let e,t=s[15].t("Hide")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Hide")+"")&&B(a,t)},d(l){l&&d(e)}}}function Ps(s){let e,t,a,l;function r(v){s[34](v)}let g={admin:!0};return s[8]!==void 0&&(g.params=s[8]),t=new ia({props:g}),Qe.push(()=>rt(t,"params",r)),t.$on("change",s[35]),{c(){e=f("div"),Ye(t.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var w=m(e);Xe(t.$$.fragment,w),w.forEach(d),this.h()},h(){c(e,"class","my-2")},m(v,w){M(v,e,w),Ze(t,e,null),l=!0},p(v,w){const A={};!a&&w[0]&256&&(a=!0,A.params=v[8],at(()=>a=!1)),t.$set(A)},i(v){l||($(t.$$.fragment,v),l=!0)},o(v){ne(t.$$.fragment,v),l=!1},d(v){v&&d(e),Ge(t)}}}function ya(s){let e,t=s[15].t("Custom")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Custom")+"")&&B(a,t)},d(l){l&&d(e)}}}function Ea(s){let e,t=s[15].t("Default")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Default")+"")&&B(a,t)},d(l){l&&d(e)}}}function Ms(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,l;return{c(){e=f("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Wt(e)!=="svelte-j580ct"&&(e.innerHTML=t),this.h()},h(){c(e,"class","p-1 px-2 text-xs flex rounded transition"),c(e,"type","button")},m(r,g){M(r,e,g),a||(l=Z(e,"click",s[37]),a=!0)},p:Bl,d(r){r&&d(e),a=!1,l()}}}function Bs(s){let e;function t(r,g){return r[7].meta.suggestion_prompts.length>0?Ta:Da}let a=t(s),l=a(s);return{c(){e=f("div"),l.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var g=m(e);l.l(g),g.forEach(d),this.h()},h(){c(e,"class","flex flex-col space-y-1 mt-2")},m(r,g){M(r,e,g),l.m(e,null)},p(r,g){a===(a=t(r))&&l?l.p(r,g):(l.d(1),l=a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&d(e),l.d()}}}function Da(s){let e,t="No suggestion prompts";return{c(){e=f("div"),e.textContent=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Wt(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){c(e,"class","text-xs text-center")},m(a,l){M(a,e,l)},p:Bl,d(a){a&&d(e)}}}function Ta(s){let e,t=pl(s[7].meta.suggestion_prompts),a=[];for(let l=0;l<t.length;l+=1)a[l]=Cs(Ds(s,t,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=ys()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=ys()},m(l,r){for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(l,r);M(l,e,r)},p(l,r){if(r[0]&32896){t=pl(l[7].meta.suggestion_prompts);let g;for(g=0;g<t.length;g+=1){const v=Ds(l,t,g);a[g]?a[g].p(v,r):(a[g]=Cs(v),a[g].c(),a[g].m(e.parentNode,e))}for(;g<a.length;g+=1)a[g].d(1);a.length=t.length}},d(l){l&&d(e),Ls(a,l)}}}function Cs(s){let e,t,a,l,r,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,w,A;function C(){s[38].call(t,s[52],s[53])}function j(){return s[39](s[53])}return{c(){e=f("div"),t=f("input"),l=k(),r=f("button"),r.innerHTML=g,v=k(),this.h()},l(D){e=_(D,"DIV",{class:!0});var V=m(e);t=_(V,"INPUT",{class:!0,placeholder:!0}),l=I(V),r=_(V,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Wt(r)!=="svelte-8f7b7y"&&(r.innerHTML=g),v=I(V),V.forEach(d),this.h()},h(){c(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),c(t,"placeholder",a=s[15].t("Write a prompt suggestion (e.g. Who are you?)")),c(r,"class","px-2"),c(r,"type","button"),c(e,"class","flex border dark:border-gray-600 rounded-lg")},m(D,V){M(D,e,V),n(e,t),Ce(t,s[51].content),n(e,l),n(e,r),n(e,v),w||(A=[Z(t,"input",C),Z(r,"click",j)],w=!0)},p(D,V){s=D,V[0]&32768&&a!==(a=s[15].t("Write a prompt suggestion (e.g. Who are you?)"))&&c(t,"placeholder",a),V[0]&16512&&t.value!==s[51].content&&Ce(t,s[51].content)},d(D){D&&d(e),w=!1,Ml(A)}}}function Va(s){let e,t=s[15].t("Show")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Show")+"")&&B(a,t)},d(l){l&&d(e)}}}function Aa(s){let e,t=s[15].t("Hide")+"",a;return{c(){e=f("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=m(e);a=S(r,t),r.forEach(d),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,r){M(l,e,r),n(e,a)},p(l,r){r[0]&32768&&t!==(t=l[15].t("Hide")+"")&&B(a,t)},d(l){l&&d(e)}}}function Os(s){let e,t,a;return{c(){e=f("div"),t=f("textarea"),this.h()},l(l){e=_(l,"DIV",{});var r=m(e);t=_(r,"TEXTAREA",{class:!0,rows:!0}),m(t).forEach(d),r.forEach(d),this.h()},h(){c(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),c(t,"rows","10"),t.value=a=JSON.stringify(s[7],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){M(l,e,r),n(e,t)},p(l,r){r[0]&16512&&a!==(a=JSON.stringify(l[7],null,2))&&(t.value=a)},d(l){l&&d(e)}}}function Hs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Wt(e)!=="svelte-1k8nuce"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-1.5 self-center")},m(a,l){M(a,e,l)},d(a){a&&d(e)}}}function Na(s){let e,t,a,l,r,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',v,w,A=s[15].t("Back")+"",C,j,D,V,T,o=s[19]&&Vs(s);return{c(){e=f("div"),t=f("input"),a=k(),l=f("button"),r=f("div"),r.innerHTML=g,v=k(),w=f("div"),C=N(A),j=k(),o&&o.c(),this.h()},l(y){e=_(y,"DIV",{class:!0});var b=m(e);t=_(b,"INPUT",{type:!0,accept:!0}),a=I(b),l=_(b,"BUTTON",{class:!0});var u=m(l);r=_(u,"DIV",{class:!0,"data-svelte-h":!0}),Wt(r)!=="svelte-1klo87r"&&(r.innerHTML=g),v=I(u),w=_(u,"DIV",{class:!0});var E=m(w);C=S(E,A),E.forEach(d),u.forEach(d),j=I(b),o&&o.l(b),b.forEach(d),this.h()},h(){c(t,"type","file"),t.hidden=!0,c(t,"accept","image/*"),c(r,"class","self-center"),c(w,"class","self-center font-medium text-sm"),c(l,"class","flex space-x-1"),c(e,"class","w-full max-h-full")},m(y,b){M(y,e,b),n(e,t),s[22](t),n(e,a),n(e,l),n(l,r),n(l,v),n(l,w),n(w,C),n(e,j),o&&o.m(e,null),D=!0,V||(T=[Z(t,"change",s[23]),Z(t,"change",s[24]),Z(l,"click",s[25])],V=!0)},p(y,b){(!D||b[0]&32768)&&A!==(A=y[15].t("Back")+"")&&B(C,A),y[19]?o?(o.p(y,b),b[0]&524288&&$(o,1)):(o=Vs(y),o.c(),$(o,1),o.m(e,null)):o&&(Ks(),ne(o,1,1,()=>{o=null}),Fs())},i(y){D||($(o),D=!0)},o(y){ne(o),D=!1},d(y){y&&d(e),s[22](null),o&&o.d(),V=!1,Ml(T)}}}const Us=s=>s.type==="filter",js=s=>s.type==="action";function Sa(s,e,t){let a,l,r,g,v,w;Mt(s,Es,h=>t(14,a=h)),Mt(s,sa,h=>t(50,l=h)),Mt(s,aa,h=>t(16,g=h)),Mt(s,ra,h=>t(17,v=h)),Mt(s,na,h=>t(18,w=h));const A=Zs("i18n");Mt(s,A,h=>t(15,r=h));let C=!1,j,D,V=!1,T=!1,o=null,y="",b="",u={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/static/favicon.png",description:"",suggestion_prompts:null,tags:[]},params:{system:""}},E={},L={vision:!0},Y=[],ge=[],ve=[],le=[];const G=async()=>{t(0,C=!0),t(7,u.id=y,u),t(7,u.name=b,u),t(7,u.meta.capabilities=L,u),Y.length>0?t(7,u.meta.knowledge=Y,u):u.meta.knowledge&&delete u.meta.knowledge,ge.length>0?t(7,u.meta.toolIds=ge,u):u.meta.toolIds&&delete u.meta.toolIds,ve.length>0?t(7,u.meta.filterIds=ve,u):u.meta.filterIds&&delete u.meta.filterIds,le.length>0?t(7,u.meta.actionIds=le,u):u.meta.actionIds&&delete u.meta.actionIds,t(7,u.params.stop=E.stop?E.stop.split(",").filter(O=>O.trim()):null,u),Object.keys(u.params).forEach(O=>{(u.params[O]===""||u.params[O]===null)&&delete u.params[O]}),await oa(localStorage.token,u.id,u)&&(await Es.set(await ca(localStorage.token)),la.success(r.t("Model updated successfully")),await _l("/workspace/models")),t(0,C=!1)};Gs(()=>{var O,ee,F,Q,Ie,ce,ue,K,Le,Fe,Ee,_t,se,ae,de,De,Ke,et,pt,re,mt,ht,gt;const h=l.url.searchParams.get("id");h?(t(19,o=a.find(P=>P.id===h&&(P==null?void 0:P.owned_by)!=="arena")),o?(t(5,y=o.id),t(6,b=o.name),t(7,u={...u,...JSON.parse(JSON.stringify(o!=null&&o.info?o==null?void 0:o.info:{id:o.id,name:o.name}))}),o.preset&&o.owned_by==="ollama"&&!u.base_model_id.includes(":")&&t(7,u.base_model_id=`${u.base_model_id}:latest`,u),t(8,E={...E,...(O=o==null?void 0:o.info)==null?void 0:O.params}),t(8,E.stop=E!=null&&E.stop?(typeof E.stop=="string"?E.stop.split(","):(E==null?void 0:E.stop)??[]).join(","):null,E),(F=(ee=o==null?void 0:o.info)==null?void 0:ee.meta)!=null&&F.knowledge&&(console.log((Ie=(Q=o==null?void 0:o.info)==null?void 0:Q.meta)==null?void 0:Ie.knowledge),t(10,Y=[...(ue=(ce=o==null?void 0:o.info)==null?void 0:ce.meta)==null?void 0:ue.knowledge].map(P=>P!=null&&P.collection_name?{id:P.collection_name,name:P.name,legacy:!0}:P!=null&&P.collection_names?{name:P.name,type:"collection",collection_names:P.collection_names,legacy:!0}:P))),(Le=(K=o==null?void 0:o.info)==null?void 0:K.meta)!=null&&Le.toolIds&&t(11,ge=[...(Ee=(Fe=o==null?void 0:o.info)==null?void 0:Fe.meta)==null?void 0:Ee.toolIds]),(se=(_t=o==null?void 0:o.info)==null?void 0:_t.meta)!=null&&se.filterIds&&t(12,ve=[...(de=(ae=o==null?void 0:o.info)==null?void 0:ae.meta)==null?void 0:de.filterIds]),(Ke=(De=o==null?void 0:o.info)==null?void 0:De.meta)!=null&&Ke.actionIds&&t(13,le=[...(pt=(et=o==null?void 0:o.info)==null?void 0:et.meta)==null?void 0:pt.actionIds]),(o==null?void 0:o.owned_by)==="openai"&&t(9,L.usage=!1,L),(mt=(re=o==null?void 0:o.info)==null?void 0:re.meta)!=null&&mt.capabilities&&t(9,L={...L,...(gt=(ht=o==null?void 0:o.info)==null?void 0:ht.meta)==null?void 0:gt.capabilities}),console.log(o)):_l("/workspace/models")):_l("/workspace/models")});function nt(h){Qe[h?"unshift":"push"](()=>{j=h,t(1,j)})}function Bt(){D=this.files,t(2,D)}const ot=()=>{let h=new FileReader;h.onload=O=>{let ee=`${O.target.result}`;const F=new Image;F.src=ee,F.onload=function(){const Q=document.createElement("canvas"),Ie=Q.getContext("2d"),ce=F.width/F.height;let ue,K;ce>1?(ue=250*ce,K=250):(ue=250,K=250/ce),Q.width=250,Q.height=250;const Le=(250-ue)/2,Fe=(250-K)/2;Ie.drawImage(F,Le,Fe,ue,K);const Ee=Q.toDataURL();t(7,u.meta.profile_image_url=Ee,u),t(2,D=null)}},D&&D.length>0&&["image/gif","image/webp","image/jpeg","image/png","image/svg+xml"].includes(D[0].type)?h.readAsDataURL(D[0]):(console.log(`Unsupported File Type '${D[0].type}'.`),t(2,D=null))},oe=()=>{_l("/workspace/models")},be=()=>{j.click()};function Oe(){b=this.value,t(6,b)}const $e=h=>h.id!==o.id&&!(h!=null&&h.preset)&&(h==null?void 0:h.owned_by)!=="arena";function it(){u.base_model_id=xs(this),t(7,u)}const Ct=()=>{u.meta.description===null?t(7,u.meta.description="",u):t(7,u.meta.description=null,u)};function ie(){u.meta.description=this.value,t(7,u)}function Ot(h){s.$$.not_equal(u.params.system,h)&&(u.params.system=h,t(7,u))}const Ht=()=>{t(3,V=!V)};function ct(h){E=h,t(8,E)}const Ut=h=>{t(7,u.params={...u.params,...E},u)},we=()=>{var h;(((h=u==null?void 0:u.meta)==null?void 0:h.suggestion_prompts)??null)===null?t(7,u.meta.suggestion_prompts=[{content:""}],u):t(7,u.meta.suggestion_prompts=null,u)},He=()=>{(u.meta.suggestion_prompts.length===0||u.meta.suggestion_prompts.at(-1).content!=="")&&t(7,u.meta.suggestion_prompts=[...u.meta.suggestion_prompts,{content:""}],u)};function Ue(h,O){h[O].content=this.value,t(7,u)}const xe=h=>{u.meta.suggestion_prompts.splice(h,1),t(7,u)};function ut(h){Y=h,t(10,Y)}function jt(h){ge=h,t(11,ge)}function x(h){ve=h,t(12,ve)}function ke(h){le=h,t(13,le)}function je(h){L=h,t(9,L)}return[C,j,D,V,T,y,b,u,E,L,Y,ge,ve,le,a,r,g,v,w,o,A,G,nt,Bt,ot,oe,be,Oe,$e,it,Ct,ie,Ot,Ht,ct,Ut,we,He,Ue,xe,ut,jt,x,ke,je,h=>{const O=h.detail;t(7,u.meta.tags=u.meta.tags.filter(ee=>ee.name!==O),u)},h=>{var ee;const O=h.detail;((ee=u==null?void 0:u.meta)==null?void 0:ee.tags)??null?t(7,u.meta.tags=[...u.meta.tags,{name:O}],u):t(7,u.meta.tags=[{name:O}],u)},()=>{t(4,T=!T)},()=>{G()}]}class Ja extends ea{constructor(e){super(),ta(this,e,Sa,Na,Xs,{},null,[-1,-1])}}export{Ja as component};
//# sourceMappingURL=23.DiWpDTII.js.map
