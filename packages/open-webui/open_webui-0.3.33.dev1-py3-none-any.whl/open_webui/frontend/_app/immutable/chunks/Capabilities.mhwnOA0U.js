import{s as R,e as k,c as b,a as w,d as m,f as g,i as C,g as v,u as Ie,n as X,F as De,y as Y,z as Z,j as P,p as Q,q as ee,r as Ee,v as Ve,w as Te,x as Ce,k as j,H as te,o as F,B as re,l as oe,K as W,t as B,b as O,h as S}from"./scheduler.UhqRSRjm.js";import{S as G,i as J,b as A,d as M,m as z,t as I,a as T,e as N,g as L,c as H}from"./index.nGViVUxX.js";import{e as q}from"./each.BhHg6he0.js";import{F as xe}from"./fuse.CU2r43ac.js";import"./updater.CZKoXgFY.js";import{D as je,M as Fe}from"./Dropdown.Dr-AhyTQ.js";import{b as Ke}from"./menu-trigger.DQYUBDaN.js";import{f as Be,T as ne,m as ie}from"./Tooltip.z_aNDJGq.js";import{k as Oe}from"./index.D9tMcTAs.js";import{F as Se}from"./FileItem.Db9-_OXc.js";function Ae(o){let e,n;return{c(){e=Y("svg"),n=Y("path"),this.h()},l(l){e=Z(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var t=w(e);n=Z(t,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),w(n).forEach(m),t.forEach(m),this.h()},h(){g(n,"stroke","currentColor"),g(n,"stroke-linecap","round"),g(n,"stroke-linejoin","round"),g(n,"stroke-width","3"),g(n,"d","M5 12h14"),g(e,"class","w-3 h-3.5 text-gray-800 dark:text-white"),g(e,"aria-hidden","true"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24")},m(l,t){C(l,e,t),v(e,n)},d(l){l&&m(e)}}}function Me(o){let e,n;return{c(){e=Y("svg"),n=Y("path"),this.h()},l(l){e=Z(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var t=w(e);n=Z(t,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),w(n).forEach(m),t.forEach(m),this.h()},h(){g(n,"stroke","currentColor"),g(n,"stroke-linecap","round"),g(n,"stroke-linejoin","round"),g(n,"stroke-width","3"),g(n,"d","m5 12 4.7 4.5 9.3-9"),g(e,"class","w-3.5 h-3.5"),g(e,"aria-hidden","true"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24")},m(l,t){C(l,e,t),v(e,n)},d(l){l&&m(e)}}}function ze(o){let e,n,l,t,a;function s(c,f){if(c[2]==="checked")return Me;if(c[1])return Ae}let i=s(o),r=i&&i(o);return{c(){e=k("button"),n=k("div"),r&&r.c(),this.h()},l(c){e=b(c,"BUTTON",{class:!0,type:!0});var f=w(e);n=b(f,"DIV",{class:!0});var d=w(n);r&&r.l(d),d.forEach(m),f.forEach(m),this.h()},h(){g(n,"class","top-0 left-0 absolute w-full flex justify-center"),g(e,"class",l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(o[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative"),g(e,"type","button")},m(c,f){C(c,e,f),v(e,n),r&&r.m(n,null),t||(a=Ie(e,"click",o[4]),t=!0)},p(c,[f]){i!==(i=s(c))&&(r&&r.d(1),r=i&&i(c),r&&(r.c(),r.m(n,null))),f&1&&l!==(l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(c[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")&&g(e,"class",l)},i:X,o:X,d(c){c&&m(e),r&&r.d(),t=!1,a()}}}function Ne(o,e,n){const l=De();let{state:t="unchecked"}=e,{indeterminate:a=!1}=e,s="unchecked";const i=()=>{s==="unchecked"?(n(2,s="checked"),l("change",s)):s==="checked"?(n(2,s="unchecked"),a||l("change",s)):a&&(n(2,s="checked"),l("change",s))};return o.$$set=r=>{"state"in r&&n(0,t=r.state),"indeterminate"in r&&n(1,a=r.indeterminate)},o.$$.update=()=>{o.$$.dirty&1&&n(2,s=t)},[t,a,s,l,i]}class le extends G{constructor(e){super(),J(this,e,Ne,ze,R,{state:0,indeterminate:1})}}function ce(o,e,n){const l=o.slice();return l[14]=e[n],l}function qe(o){let e;const n=o[8].default,l=Ee(n,o,o[12],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,a){l&&l.p&&(!e||a&4096)&&Ve(l,n,t,t[12],e?Ce(n,t[12],a,null):Te(t[12]),null)},i(t){e||(I(l,t),e=!0)},o(t){T(l,t),e=!1},d(t){l&&l.d(t)}}}function Le(o){let e,n,l=q(o[2]),t=[];for(let s=0;s<l.length;s+=1)t[s]=ae(ce(o,l,s));const a=s=>T(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=oe()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=oe()},m(s,i){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(s,i);C(s,e,i),n=!0},p(s,i){if(i&36){l=q(s[2]);let r;for(r=0;r<l.length;r+=1){const c=ce(s,l,r);t[r]?(t[r].p(c,i),I(t[r],1)):(t[r]=ae(c),t[r].c(),I(t[r],1),t[r].m(e.parentNode,e))}for(L(),r=l.length;r<t.length;r+=1)a(r);H()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)I(t[i]);n=!0}},o(s){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)T(t[i]);n=!1},d(s){s&&m(e),W(t,s)}}}function He(o){let e,n=o[3].t("No knowledge found")+"",l;return{c(){e=k("div"),l=B(n),this.h()},l(t){e=b(t,"DIV",{class:!0});var a=w(e);l=O(a,n),a.forEach(m),this.h()},h(){g(e,"class","text-center text-sm text-gray-500 dark:text-gray-400")},m(t,a){C(t,e,a),v(e,l)},p(t,a){a&8&&n!==(n=t[3].t("No knowledge found")+"")&&S(l,n)},i:X,o:X,d(t){t&&m(e)}}}function Ue(o){let e,n="Collection";return{c(){e=k("div"),e.textContent=n,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-13dseu7"&&(e.textContent=n),this.h()},h(){g(e,"class","bg-green-500/20 text-green-700 dark:text-green-200 rounded uppercase text-xs font-bold px-1")},m(l,t){C(l,e,t)},d(l){l&&m(e)}}}function Pe(o){let e,n="Document";return{c(){e=k("div"),e.textContent=n,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1geke3w"&&(e.textContent=n),this.h()},h(){g(e,"class","bg-gray-500/20 text-gray-700 dark:text-gray-200 rounded uppercase text-xs font-bold px-1")},m(l,t){C(l,e,t)},d(l){l&&m(e)}}}function Re(o){let e,n="Legacy";return{c(){e=k("div"),e.textContent=n,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-alm5wq"&&(e.textContent=n),this.h()},h(){g(e,"class","bg-gray-500/20 text-gray-700 dark:text-gray-200 rounded uppercase text-xs font-bold px-1")},m(l,t){C(l,e,t)},d(l){l&&m(e)}}}function Ge(o){let e,n,l,t,a,s=o[14].name+"",i,r;function c(h,u){var _,p;return h[14].legacy?Re:(p=(_=h[14])==null?void 0:_.meta)!=null&&p.document?Pe:Ue}let f=c(o),d=f(o);return{c(){e=k("div"),n=k("div"),l=k("div"),d.c(),t=j(),a=k("div"),i=B(s),r=j(),this.h()},l(h){e=b(h,"DIV",{class:!0});var u=w(e);n=b(u,"DIV",{class:!0});var _=w(n);l=b(_,"DIV",{class:!0});var p=w(l);d.l(p),p.forEach(m),t=F(_),a=b(_,"DIV",{class:!0});var D=w(a);i=O(D,s),D.forEach(m),_.forEach(m),u.forEach(m),r=F(h),this.h()},h(){g(l,"class","w-fit mb-0.5"),g(a,"class","line-clamp-1 font-medium pr-0.5"),g(n,"class","flex flex-col"),g(e,"class","flex items-center")},m(h,u){C(h,e,u),v(e,n),v(n,l),d.m(l,null),v(n,t),v(n,a),v(a,i),C(h,r,u)},p(h,u){f!==(f=c(h))&&(d.d(1),d=f(h),d&&(d.c(),d.m(l,null))),u&4&&s!==(s=h[14].name+"")&&S(i,s)},d(h){h&&(m(e),m(r)),d.d()}}}function ae(o){let e,n;function l(){return o[10](o[14])}return e=new Fe({props:{class:"flex gap-2.5 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Ge]},$$scope:{ctx:o}}}),e.$on("click",l),{c(){A(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,a){z(e,t,a),n=!0},p(t,a){o=t;const s={};a&4100&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Je(o){let e,n,l,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',a,s,i,r,c,f,d,h,u,_,p,D;const E=[He,Le],V=[];function $(y,x){return y[2].length===0?0:1}return h=$(o),u=V[h]=E[h](o),{c(){e=k("div"),n=k("div"),l=k("div"),l.innerHTML=t,a=j(),s=k("input"),r=j(),c=k("hr"),f=j(),d=k("div"),u.c(),this.h()},l(y){e=b(y,"DIV",{class:!0});var x=w(e);n=b(x,"DIV",{class:!0});var K=w(n);l=b(K,"DIV",{class:!0,"data-svelte-h":!0}),te(l)!=="svelte-kinl2y"&&(l.innerHTML=t),a=F(K),s=b(K,"INPUT",{class:!0,placeholder:!0}),K.forEach(m),x.forEach(m),r=F(y),c=b(y,"HR",{class:!0}),f=F(y),d=b(y,"DIV",{class:!0});var U=w(d);u.l(U),U.forEach(m),this.h()},h(){g(l,"class","self-center ml-1 mr-3"),g(s,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),g(s,"placeholder",i=o[3].t("Search Knowledge")),g(n,"class","flex flex-1"),g(e,"class","flex w-full space-x-2 py-0.5 px-2"),g(c,"class","border-gray-50 dark:border-gray-700 my-1.5"),g(d,"class","max-h-48 overflow-y-scroll")},m(y,x){C(y,e,x),v(e,n),v(n,l),v(n,a),v(n,s),re(s,o[1]),C(y,r,x),C(y,c,x),C(y,f,x),C(y,d,x),V[h].m(d,null),_=!0,p||(D=Ie(s,"input",o[9]),p=!0)},p(y,x){(!_||x&8&&i!==(i=y[3].t("Search Knowledge")))&&g(s,"placeholder",i),x&2&&s.value!==y[1]&&re(s,y[1]);let K=h;h=$(y),h===K?V[h].p(y,x):(L(),T(V[K],1,1,()=>{V[K]=null}),H(),u=V[h],u?u.p(y,x):(u=V[h]=E[h](y),u.c()),I(u,1),u.m(d,null))},i(y){_||(I(u),_=!0)},o(y){T(u),_=!1},d(y){y&&(m(e),m(r),m(c),m(f),m(d)),V[h].d(),p=!1,D()}}}function Qe(o){let e,n,l;return n=new Ke({props:{class:"w-full max-w-80 rounded-lg px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:8,side:"bottom",align:"start",transition:Be,$$slots:{default:[Je]},$$scope:{ctx:o}}}),{c(){e=k("div"),A(n.$$.fragment),this.h()},l(t){e=b(t,"DIV",{slot:!0});var a=w(e);M(n.$$.fragment,a),a.forEach(m),this.h()},h(){g(e,"slot","content")},m(t,a){C(t,e,a),z(n,e,null),l=!0},p(t,a){const s={};a&4110&&(s.$$scope={dirty:a,ctx:t}),n.$set(s)},i(t){l||(I(n.$$.fragment,t),l=!0)},o(t){T(n.$$.fragment,t),l=!1},d(t){t&&m(e),N(n)}}}function We(o){let e,n;return e=new je({props:{$$slots:{content:[Qe],default:[qe]},$$scope:{ctx:o}}}),e.$on("change",o[11]),{c(){A(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,t){z(e,l,t),n=!0},p(l,[t]){const a={};t&4110&&(a.$$scope={dirty:t,ctx:l}),e.$set(a)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){N(e,l)}}}function Xe(o,e,n){let l,t;P(o,Oe,E=>n(13,l=E));let{$$slots:a={},$$scope:s}=e;const i=Q("i18n");P(o,i,E=>n(3,t=E));const r=De();let{onClose:c=()=>{}}=e,f="",d=[],h=[],u=null;ee(()=>{let E=l.filter($=>{var y;return(y=$==null?void 0:$.meta)==null?void 0:y.document}),V=E.length>0?[{name:"All Documents",legacy:!0,type:"collection",description:"Deprecated (legacy collection), please create a new knowledge base.",title:t.t("All Documents"),collection_names:E.map($=>$.id)},...E.reduce(($,y)=>{var x;return[...new Set([...$,...(((x=y==null?void 0:y.meta)==null?void 0:x.tags)??[]).map(K=>K.name)])]},[]).map($=>({name:$,legacy:!0,type:"collection",description:"Deprecated (legacy collection), please create a new knowledge base.",collection_names:E.filter(y=>{var x;return(((x=y==null?void 0:y.meta)==null?void 0:x.tags)??[]).map(K=>K.name).includes($)}).map(y=>y.id)}))]:[];n(6,d=[...l,...V].map($=>{var y,x,K;return{...$,...$!=null&&$.legacy||(y=$==null?void 0:$.meta)!=null&&y.legacy||(x=$==null?void 0:$.meta)!=null&&x.document?{legacy:!0}:{},type:(K=$==null?void 0:$.meta)!=null&&K.document?"document":"collection"}})),n(7,u=new xe(d,{keys:["name","description"]}))});function _(){f=this.value,n(1,f)}const p=E=>{r("select",E)},D=E=>{E.detail===!1&&(c(),n(1,f=""))};return o.$$set=E=>{"onClose"in E&&n(0,c=E.onClose),"$$scope"in E&&n(12,s=E.$$scope)},o.$$.update=()=>{o.$$.dirty&194&&u&&n(2,h=f?u.search(f).map(E=>E.item):d)},[c,f,h,t,i,r,d,u,a,_,p,D,s]}class Ye extends G{constructor(e){super(),J(this,e,Xe,We,R,{onClose:0})}}function fe(o,e,n){const l=o.slice();return l[6]=e[n],l[8]=n,l}function ue(o){let e,n,l=q(o[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=de(fe(o,l,s));const a=s=>T(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var i=w(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(m),this.h()},h(){g(e,"class","flex flex-wrap items-center gap-2 mt-2")},m(s,i){C(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null);n=!0},p(s,i){if(i&1){l=q(s[0]);let r;for(r=0;r<l.length;r+=1){const c=fe(s,l,r);t[r]?(t[r].p(c,i),I(t[r],1)):(t[r]=de(c),t[r].c(),I(t[r],1),t[r].m(e,null))}for(L(),r=l.length;r<t.length;r+=1)a(r);H()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)I(t[i]);n=!0}},o(s){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)T(t[i]);n=!1},d(s){s&&m(e),W(t,s)}}}function de(o){var t,a;let e,n;function l(...s){return o[4](o[8],...s)}return e=new Se({props:{file:o[6],name:o[6].name,type:(t=o[6])!=null&&t.legacy?`Legacy${o[6].type?` ${o[6].type}`:""}`:((a=o[6])==null?void 0:a.type)??"Collection",dismissible:!0}}),e.$on("dismiss",l),{c(){A(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,i){z(e,s,i),n=!0},p(s,i){var c,f;o=s;const r={};i&1&&(r.file=o[6]),i&1&&(r.name=o[6].name),i&1&&(r.type=(c=o[6])!=null&&c.legacy?`Legacy${o[6].type?` ${o[6].type}`:""}`:((f=o[6])==null?void 0:f.type)??"Collection"),e.$set(r)},i(s){n||(I(e.$$.fragment,s),n=!0)},o(s){T(e.$$.fragment,s),n=!1},d(s){N(e,s)}}}function Ze(o){let e,n=o[1].t("Select Knowledge")+"",l;return{c(){e=k("button"),l=B(n),this.h()},l(t){e=b(t,"BUTTON",{class:!0,type:!0});var a=w(e);l=O(a,n),a.forEach(m),this.h()},h(){g(e,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),g(e,"type","button")},m(t,a){C(t,e,a),v(e,l)},p(t,a){a&2&&n!==(n=t[1].t("Select Knowledge")+"")&&S(l,n)},d(t){t&&m(e)}}}function et(o){var E;let e,n,l,t=o[1].t("Knowledge")+"",a,s,i,r=o[1].t('To attach knowledge base here, add them to the "Knowledge" workspace first.')+"",c,f,d,h,u,_,p,D=((E=o[0])==null?void 0:E.length)>0&&ue(o);return _=new Ye({props:{$$slots:{default:[Ze]},$$scope:{ctx:o}}}),_.$on("select",o[5]),{c(){e=k("div"),n=k("div"),l=k("div"),a=B(t),s=j(),i=k("div"),c=B(r),f=j(),d=k("div"),D&&D.c(),h=j(),u=k("div"),A(_.$$.fragment),this.h()},l(V){e=b(V,"DIV",{});var $=w(e);n=b($,"DIV",{class:!0});var y=w(n);l=b(y,"DIV",{class:!0});var x=w(l);a=O(x,t),x.forEach(m),y.forEach(m),s=F($),i=b($,"DIV",{class:!0});var K=w(i);c=O(K,r),K.forEach(m),f=F($),d=b($,"DIV",{class:!0});var U=w(d);D&&D.l(U),h=F(U),u=b(U,"DIV",{class:!0});var se=w(u);M(_.$$.fragment,se),se.forEach(m),U.forEach(m),$.forEach(m),this.h()},h(){g(l,"class","self-center text-sm font-semibold"),g(n,"class","flex w-full justify-between mb-1"),g(i,"class","text-xs dark:text-gray-500"),g(u,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2"),g(d,"class","flex flex-col")},m(V,$){C(V,e,$),v(e,n),v(n,l),v(l,a),v(e,s),v(e,i),v(i,c),v(e,f),v(e,d),D&&D.m(d,null),v(d,h),v(d,u),z(_,u,null),p=!0},p(V,[$]){var x;(!p||$&2)&&t!==(t=V[1].t("Knowledge")+"")&&S(a,t),(!p||$&2)&&r!==(r=V[1].t('To attach knowledge base here, add them to the "Knowledge" workspace first.')+"")&&S(c,r),((x=V[0])==null?void 0:x.length)>0?D?(D.p(V,$),$&1&&I(D,1)):(D=ue(V),D.c(),I(D,1),D.m(d,h)):D&&(L(),T(D,1,1,()=>{D=null}),H());const y={};$&514&&(y.$$scope={dirty:$,ctx:V}),_.$set(y)},i(V){p||(I(D),I(_.$$.fragment,V),p=!0)},o(V){T(D),T(_.$$.fragment,V),p=!1},d(V){V&&m(e),D&&D.d(),N(_)}}}function tt(o,e,n){let l,{selectedKnowledge:t=[]}=e,{collections:a=[]}=e;const s=Q("i18n");P(o,s,c=>n(1,l=c));const i=(c,f)=>{n(0,t=t.filter((d,h)=>h!==c))},r=c=>{const f=c.detail;t.find(d=>d.id===f.id)||n(0,t=[...t,{...f}])};return o.$$set=c=>{"selectedKnowledge"in c&&n(0,t=c.selectedKnowledge),"collections"in c&&n(3,a=c.collections)},[t,l,s,a,i,r]}class yt extends G{constructor(e){super(),J(this,e,tt,et,R,{selectedKnowledge:0,collections:3})}}function he(o,e,n){const l=o.slice();return l[6]=e[n],l[8]=n,l}function _e(o){let e,n,l=q(Object.keys(o[2])),t=[];for(let s=0;s<l.length;s+=1)t[s]=me(he(o,l,s));const a=s=>T(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var i=w(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(m),this.h()},h(){g(e,"class","flex items-center mt-2 flex-wrap")},m(s,i){C(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null);n=!0},p(s,i){if(i&5){l=q(Object.keys(s[2]));let r;for(r=0;r<l.length;r+=1){const c=he(s,l,r);t[r]?(t[r].p(c,i),I(t[r],1)):(t[r]=me(c),t[r].c(),I(t[r],1),t[r].m(e,null))}for(L(),r=l.length;r<t.length;r+=1)a(r);H()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)I(t[i]);n=!0}},o(s){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)T(t[i]);n=!1},d(s){s&&m(e),W(t,s)}}}function me(o){let e,n,l,t,a,s=o[2][o[6]].name+"",i,r,c;function f(...d){return o[5](o[6],...d)}return l=new le({props:{state:o[2][o[6]].selected?"checked":"unchecked"}}),l.$on("change",f),{c(){e=k("div"),n=k("div"),A(l.$$.fragment),t=j(),a=k("div"),i=B(s),r=j(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=w(e);n=b(h,"DIV",{class:!0});var u=w(n);M(l.$$.fragment,u),u.forEach(m),t=F(h),a=b(h,"DIV",{class:!0});var _=w(a);i=O(_,s),_.forEach(m),r=F(h),h.forEach(m),this.h()},h(){g(n,"class","self-center flex items-center"),g(a,"class","py-0.5 text-sm w-full capitalize font-medium"),g(e,"class","flex items-center gap-2 mr-3")},m(d,h){C(d,e,h),v(e,n),z(l,n,null),v(e,t),v(e,a),v(a,i),v(e,r),c=!0},p(d,h){o=d;const u={};h&4&&(u.state=o[2][o[6]].selected?"checked":"unchecked"),l.$set(u),(!c||h&4)&&s!==(s=o[2][o[6]].name+"")&&S(i,s)},i(d){c||(I(l.$$.fragment,d),c=!0)},o(d){T(l.$$.fragment,d),c=!1},d(d){d&&m(e),N(l)}}}function lt(o){let e,n,l,t=o[3].t("Tools")+"",a,s,i,r=o[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"",c,f,d,h,u=o[1].length>0&&_e(o);return{c(){e=k("div"),n=k("div"),l=k("div"),a=B(t),s=j(),i=k("div"),c=B(r),f=j(),d=k("div"),u&&u.c(),this.h()},l(_){e=b(_,"DIV",{});var p=w(e);n=b(p,"DIV",{class:!0});var D=w(n);l=b(D,"DIV",{class:!0});var E=w(l);a=O(E,t),E.forEach(m),D.forEach(m),s=F(p),i=b(p,"DIV",{class:!0});var V=w(i);c=O(V,r),V.forEach(m),f=F(p),d=b(p,"DIV",{class:!0});var $=w(d);u&&u.l($),$.forEach(m),p.forEach(m),this.h()},h(){g(l,"class","self-center text-sm font-semibold"),g(n,"class","flex w-full justify-between mb-1"),g(i,"class","text-xs dark:text-gray-500"),g(d,"class","flex flex-col")},m(_,p){C(_,e,p),v(e,n),v(n,l),v(l,a),v(e,s),v(e,i),v(i,c),v(e,f),v(e,d),u&&u.m(d,null),h=!0},p(_,[p]){(!h||p&8)&&t!==(t=_[3].t("Tools")+"")&&S(a,t),(!h||p&8)&&r!==(r=_[3].t('To select toolkits here, add them to the "Tools" workspace first.')+"")&&S(c,r),_[1].length>0?u?(u.p(_,p),p&2&&I(u,1)):(u=_e(_),u.c(),I(u,1),u.m(d,null)):u&&(L(),T(u,1,1,()=>{u=null}),H())},i(_){h||(I(u),h=!0)},o(_){T(u),h=!1},d(_){_&&m(e),u&&u.d()}}}function nt(o,e,n){let l,{tools:t=[]}=e,a={},{selectedToolIds:s=[]}=e;const i=Q("i18n");P(o,i,c=>n(3,l=c)),ee(()=>{n(2,a=t.reduce((c,f)=>(c[f.id]={...f,selected:s.includes(f.id)},c),{}))});const r=(c,f)=>{n(2,a[c].selected=f.detail==="checked",a),n(0,s=Object.keys(a).filter(d=>a[d].selected))};return o.$$set=c=>{"tools"in c&&n(1,t=c.tools),"selectedToolIds"in c&&n(0,s=c.selectedToolIds)},[s,t,a,l,i,r]}class It extends G{constructor(e){super(),J(this,e,nt,lt,R,{tools:1,selectedToolIds:0})}}function ge(o,e,n){const l=o.slice();return l[6]=e[n],l[8]=n,l}function ve(o){let e,n,l=q(Object.keys(o[2])),t=[];for(let s=0;s<l.length;s+=1)t[s]=pe(ge(o,l,s));const a=s=>T(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var i=w(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(m),this.h()},h(){g(e,"class","flex items-center mt-2 flex-wrap")},m(s,i){C(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null);n=!0},p(s,i){if(i&5){l=q(Object.keys(s[2]));let r;for(r=0;r<l.length;r+=1){const c=ge(s,l,r);t[r]?(t[r].p(c,i),I(t[r],1)):(t[r]=pe(c),t[r].c(),I(t[r],1),t[r].m(e,null))}for(L(),r=l.length;r<t.length;r+=1)a(r);H()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)I(t[i]);n=!0}},o(s){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)T(t[i]);n=!1},d(s){s&&m(e),W(t,s)}}}function st(o){let e=o[2][o[6]].name+"",n;return{c(){n=B(e)},l(l){n=O(l,e)},m(l,t){C(l,n,t)},p(l,t){t&4&&e!==(e=l[2][l[6]].name+"")&&S(n,e)},d(l){l&&m(n)}}}function pe(o){let e,n,l,t,a,s,i,r;function c(...f){return o[5](o[6],...f)}return l=new le({props:{state:o[2][o[6]].selected?"checked":"unchecked"}}),l.$on("change",c),s=new ne({props:{content:o[2][o[6]].meta.description,$$slots:{default:[st]},$$scope:{ctx:o}}}),{c(){e=k("div"),n=k("div"),A(l.$$.fragment),t=j(),a=k("div"),A(s.$$.fragment),i=j(),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=w(e);n=b(d,"DIV",{class:!0});var h=w(n);M(l.$$.fragment,h),h.forEach(m),t=F(d),a=b(d,"DIV",{class:!0});var u=w(a);M(s.$$.fragment,u),u.forEach(m),i=F(d),d.forEach(m),this.h()},h(){g(n,"class","self-center flex items-center"),g(a,"class","py-0.5 text-sm w-full capitalize font-medium"),g(e,"class","flex items-center gap-2 mr-3")},m(f,d){C(f,e,d),v(e,n),z(l,n,null),v(e,t),v(e,a),z(s,a,null),v(e,i),r=!0},p(f,d){o=f;const h={};d&4&&(h.state=o[2][o[6]].selected?"checked":"unchecked"),l.$set(h);const u={};d&4&&(u.content=o[2][o[6]].meta.description),d&516&&(u.$$scope={dirty:d,ctx:o}),s.$set(u)},i(f){r||(I(l.$$.fragment,f),I(s.$$.fragment,f),r=!0)},o(f){T(l.$$.fragment,f),T(s.$$.fragment,f),r=!1},d(f){f&&m(e),N(l),N(s)}}}function rt(o){let e,n,l,t=o[3].t("Filters")+"",a,s,i,r=o[3].t('To select filters here, add them to the "Functions" workspace first.')+"",c,f,d,h,u=o[1].length>0&&ve(o);return{c(){e=k("div"),n=k("div"),l=k("div"),a=B(t),s=j(),i=k("div"),c=B(r),f=j(),d=k("div"),u&&u.c(),this.h()},l(_){e=b(_,"DIV",{});var p=w(e);n=b(p,"DIV",{class:!0});var D=w(n);l=b(D,"DIV",{class:!0});var E=w(l);a=O(E,t),E.forEach(m),D.forEach(m),s=F(p),i=b(p,"DIV",{class:!0});var V=w(i);c=O(V,r),V.forEach(m),f=F(p),d=b(p,"DIV",{class:!0});var $=w(d);u&&u.l($),$.forEach(m),p.forEach(m),this.h()},h(){g(l,"class","self-center text-sm font-semibold"),g(n,"class","flex w-full justify-between mb-1"),g(i,"class","text-xs dark:text-gray-500"),g(d,"class","flex flex-col")},m(_,p){C(_,e,p),v(e,n),v(n,l),v(l,a),v(e,s),v(e,i),v(i,c),v(e,f),v(e,d),u&&u.m(d,null),h=!0},p(_,[p]){(!h||p&8)&&t!==(t=_[3].t("Filters")+"")&&S(a,t),(!h||p&8)&&r!==(r=_[3].t('To select filters here, add them to the "Functions" workspace first.')+"")&&S(c,r),_[1].length>0?u?(u.p(_,p),p&2&&I(u,1)):(u=ve(_),u.c(),I(u,1),u.m(d,null)):u&&(L(),T(u,1,1,()=>{u=null}),H())},i(_){h||(I(u),h=!0)},o(_){T(u),h=!1},d(_){_&&m(e),u&&u.d()}}}function ot(o,e,n){let l;const t=Q("i18n");P(o,t,c=>n(3,l=c));let{filters:a=[]}=e,{selectedFilterIds:s=[]}=e,i={};ee(()=>{n(2,i=a.reduce((c,f)=>(c[f.id]={...f,selected:s.includes(f.id)},c),{}))});const r=(c,f)=>{n(2,i[c].selected=f.detail==="checked",i),n(0,s=Object.keys(i).filter(d=>i[d].selected))};return o.$$set=c=>{"filters"in c&&n(1,a=c.filters),"selectedFilterIds"in c&&n(0,s=c.selectedFilterIds)},[s,a,i,l,t,r]}class Dt extends G{constructor(e){super(),J(this,e,ot,rt,R,{filters:1,selectedFilterIds:0})}}function ke(o,e,n){const l=o.slice();return l[6]=e[n],l[8]=n,l}function be(o){let e,n,l=q(Object.keys(o[2])),t=[];for(let s=0;s<l.length;s+=1)t[s]=we(ke(o,l,s));const a=s=>T(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var i=w(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(m),this.h()},h(){g(e,"class","flex items-center mt-2 flex-wrap")},m(s,i){C(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null);n=!0},p(s,i){if(i&5){l=q(Object.keys(s[2]));let r;for(r=0;r<l.length;r+=1){const c=ke(s,l,r);t[r]?(t[r].p(c,i),I(t[r],1)):(t[r]=we(c),t[r].c(),I(t[r],1),t[r].m(e,null))}for(L(),r=l.length;r<t.length;r+=1)a(r);H()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)I(t[i]);n=!0}},o(s){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)T(t[i]);n=!1},d(s){s&&m(e),W(t,s)}}}function it(o){let e=o[2][o[6]].name+"",n;return{c(){n=B(e)},l(l){n=O(l,e)},m(l,t){C(l,n,t)},p(l,t){t&4&&e!==(e=l[2][l[6]].name+"")&&S(n,e)},d(l){l&&m(n)}}}function we(o){let e,n,l,t,a,s,i,r;function c(...f){return o[5](o[6],...f)}return l=new le({props:{state:o[2][o[6]].selected?"checked":"unchecked"}}),l.$on("change",c),s=new ne({props:{content:o[2][o[6]].meta.description,$$slots:{default:[it]},$$scope:{ctx:o}}}),{c(){e=k("div"),n=k("div"),A(l.$$.fragment),t=j(),a=k("div"),A(s.$$.fragment),i=j(),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=w(e);n=b(d,"DIV",{class:!0});var h=w(n);M(l.$$.fragment,h),h.forEach(m),t=F(d),a=b(d,"DIV",{class:!0});var u=w(a);M(s.$$.fragment,u),u.forEach(m),i=F(d),d.forEach(m),this.h()},h(){g(n,"class","self-center flex items-center"),g(a,"class","py-0.5 text-sm w-full capitalize font-medium"),g(e,"class","flex items-center gap-2 mr-3")},m(f,d){C(f,e,d),v(e,n),z(l,n,null),v(e,t),v(e,a),z(s,a,null),v(e,i),r=!0},p(f,d){o=f;const h={};d&4&&(h.state=o[2][o[6]].selected?"checked":"unchecked"),l.$set(h);const u={};d&4&&(u.content=o[2][o[6]].meta.description),d&516&&(u.$$scope={dirty:d,ctx:o}),s.$set(u)},i(f){r||(I(l.$$.fragment,f),I(s.$$.fragment,f),r=!0)},o(f){T(l.$$.fragment,f),T(s.$$.fragment,f),r=!1},d(f){f&&m(e),N(l),N(s)}}}function ct(o){let e,n,l,t=o[3].t("Actions")+"",a,s,i,r=o[3].t('To select actions here, add them to the "Functions" workspace first.')+"",c,f,d,h,u=o[1].length>0&&be(o);return{c(){e=k("div"),n=k("div"),l=k("div"),a=B(t),s=j(),i=k("div"),c=B(r),f=j(),d=k("div"),u&&u.c(),this.h()},l(_){e=b(_,"DIV",{});var p=w(e);n=b(p,"DIV",{class:!0});var D=w(n);l=b(D,"DIV",{class:!0});var E=w(l);a=O(E,t),E.forEach(m),D.forEach(m),s=F(p),i=b(p,"DIV",{class:!0});var V=w(i);c=O(V,r),V.forEach(m),f=F(p),d=b(p,"DIV",{class:!0});var $=w(d);u&&u.l($),$.forEach(m),p.forEach(m),this.h()},h(){g(l,"class","self-center text-sm font-semibold"),g(n,"class","flex w-full justify-between mb-1"),g(i,"class","text-xs dark:text-gray-500"),g(d,"class","flex flex-col")},m(_,p){C(_,e,p),v(e,n),v(n,l),v(l,a),v(e,s),v(e,i),v(i,c),v(e,f),v(e,d),u&&u.m(d,null),h=!0},p(_,[p]){(!h||p&8)&&t!==(t=_[3].t("Actions")+"")&&S(a,t),(!h||p&8)&&r!==(r=_[3].t('To select actions here, add them to the "Functions" workspace first.')+"")&&S(c,r),_[1].length>0?u?(u.p(_,p),p&2&&I(u,1)):(u=be(_),u.c(),I(u,1),u.m(d,null)):u&&(L(),T(u,1,1,()=>{u=null}),H())},i(_){h||(I(u),h=!0)},o(_){T(u),h=!1},d(_){_&&m(e),u&&u.d()}}}function at(o,e,n){let l;const t=Q("i18n");P(o,t,c=>n(3,l=c));let{actions:a=[]}=e,{selectedActionIds:s=[]}=e,i={};ee(()=>{n(2,i=a.reduce((c,f)=>(c[f.id]={...f,selected:s.includes(f.id)},c),{}))});const r=(c,f)=>{n(2,i[c].selected=f.detail==="checked",i),n(0,s=Object.keys(i).filter(d=>i[d].selected))};return o.$$set=c=>{"actions"in c&&n(1,a=c.actions),"selectedActionIds"in c&&n(0,s=c.selectedActionIds)},[s,a,i,l,t,r]}class Et extends G{constructor(e){super(),J(this,e,at,ct,R,{actions:1,selectedActionIds:0})}}function $e(o,e,n){const l=o.slice();return l[5]=e[n],l}function ft(o){let e=o[1].t(o[5])+"",n;return{c(){n=B(e)},l(l){n=O(l,e)},m(l,t){C(l,n,t)},p(l,t){t&3&&e!==(e=l[1].t(l[5])+"")&&S(n,e)},d(l){l&&m(n)}}}function ye(o){let e,n,l,t,a,s,i;function r(...c){return o[4](o[5],...c)}return n=new le({props:{state:o[0][o[5]]?"checked":"unchecked"}}),n.$on("change",r),a=new ne({props:{content:ie.parse(o[3][o[5]]),$$slots:{default:[ft]},$$scope:{ctx:o}}}),{c(){e=k("div"),A(n.$$.fragment),l=j(),t=k("div"),A(a.$$.fragment),s=j(),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=w(e);M(n.$$.fragment,f),l=F(f),t=b(f,"DIV",{class:!0});var d=w(t);M(a.$$.fragment,d),d.forEach(m),s=F(f),f.forEach(m),this.h()},h(){g(t,"class","py-0.5 text-sm capitalize"),g(e,"class","flex items-center gap-2")},m(c,f){C(c,e,f),z(n,e,null),v(e,l),v(e,t),z(a,t,null),v(e,s),i=!0},p(c,f){o=c;const d={};f&1&&(d.state=o[0][o[5]]?"checked":"unchecked"),n.$set(d);const h={};f&1&&(h.content=ie.parse(o[3][o[5]])),f&259&&(h.$$scope={dirty:f,ctx:o}),a.$set(h)},i(c){i||(I(n.$$.fragment,c),I(a.$$.fragment,c),i=!0)},o(c){T(n.$$.fragment,c),T(a.$$.fragment,c),i=!1},d(c){c&&m(e),N(n),N(a)}}}function ut(o){let e,n,l,t=o[1].t("Capabilities")+"",a,s,i,r,c=q(Object.keys(o[0])),f=[];for(let h=0;h<c.length;h+=1)f[h]=ye($e(o,c,h));const d=h=>T(f[h],1,1,()=>{f[h]=null});return{c(){e=k("div"),n=k("div"),l=k("div"),a=B(t),s=j(),i=k("div");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=b(h,"DIV",{});var u=w(e);n=b(u,"DIV",{class:!0});var _=w(n);l=b(_,"DIV",{class:!0});var p=w(l);a=O(p,t),p.forEach(m),_.forEach(m),s=F(u),i=b(u,"DIV",{class:!0});var D=w(i);for(let E=0;E<f.length;E+=1)f[E].l(D);D.forEach(m),u.forEach(m),this.h()},h(){g(l,"class","self-center text-sm font-semibold"),g(n,"class","flex w-full justify-between mb-1"),g(i,"class","flex flex-col")},m(h,u){C(h,e,u),v(e,n),v(n,l),v(l,a),v(e,s),v(e,i);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(i,null);r=!0},p(h,[u]){if((!r||u&2)&&t!==(t=h[1].t("Capabilities")+"")&&S(a,t),u&11){c=q(Object.keys(h[0]));let _;for(_=0;_<c.length;_+=1){const p=$e(h,c,_);f[_]?(f[_].p(p,u),I(f[_],1)):(f[_]=ye(p),f[_].c(),I(f[_],1),f[_].m(i,null))}for(L(),_=c.length;_<f.length;_+=1)d(_);H()}},i(h){if(!r){for(let u=0;u<c.length;u+=1)I(f[u]);r=!0}},o(h){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)T(f[u]);r=!1},d(h){h&&m(e),W(f,h)}}}function dt(o,e,n){let l;const t=Q("i18n");P(o,t,r=>n(1,l=r));const a={vision:l.t("Model accepts image inputs"),usage:l.t("Sends `stream_options: { include_usage: true }` in the request.\nSupported providers will return token usage information in the response when set.")};let{capabilities:s={}}=e;const i=(r,c)=>{n(0,s[r]=c.detail==="checked",s)};return o.$$set=r=>{"capabilities"in r&&n(0,s=r.capabilities)},[s,l,t,a,i]}class Vt extends G{constructor(e){super(),J(this,e,dt,ut,R,{capabilities:0})}}export{Et as A,Vt as C,Dt as F,yt as K,It as T};
//# sourceMappingURL=Capabilities.mhwnOA0U.js.map
