"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[8277],{6262:(t,s)=>{s.A=(t,s)=>{const a=t.__vccOpts||t;for(const[t,e]of s)a[t]=e;return a}},1145:(t,s,a)=>{a.d(s,{A:()=>f});var e=a(641),r=a(33);const o=["src"],i={class:"organisation-name"},n=["href"],l={class:"organisation-link"},c=["href"],u={class:"organisation-email"},d=["href"];var h=a(2124),g=a(2321),m=a(2243);const p={name:"ListOrganisations",components:{Icon:g.In},props:{organisationResults:{type:Array,default:()=>[]}},computed:{...(0,h.L8)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[m.A],methods:{getProfilePicture(t){const s=t.fields.organisation_profile_picture;return""===s||null===s?`${this.staticUrl}NearBeach/images/placeholder/product_tour.svg`:`${this.rootUrl}private/${s}`}}},f=(0,a(6262).A)(p,[["render",function(t,s,a,h,g,m){const p=(0,e.g2)("Icon");return(0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(a.organisationResults,(a=>((0,e.uX)(),(0,e.CE)("div",{key:a.id,class:"organisation-details"},[(0,e.Lk)("img",{src:m.getProfilePicture(a),alt:"Stakeholder Logo",class:"organisation-image"},null,8,o),(0,e.Lk)("div",i,[(0,e.Lk)("a",{href:`${t.rootUrl}organisation_information/${a.pk}/`},(0,r.toDisplayString)(a.fields.organisation_name),9,n)]),(0,e.Lk)("div",l,[(0,e.bF)(p,{icon:t.icons.linkOut},null,8,["icon"]),s[0]||(s[0]=(0,e.eW)(" Website: ")),(0,e.Lk)("a",{href:a.fields.organisation_website,target:"_blank",rel:"noopener noreferrer"},(0,r.toDisplayString)(a.fields.organisation_website),9,c)]),(0,e.Lk)("div",u,[(0,e.bF)(p,{icon:t.icons.mailIcon},null,8,["icon"]),s[1]||(s[1]=(0,e.eW)(" Email: ")),(0,e.Lk)("a",{href:`mailto:${a.fields.organisation_email}`},(0,r.toDisplayString)(a.fields.organisation_email),9,d)])])))),128)}]])},3094:(t,s,a)=>{a.r(s),a.d(s,{default:()=>g});var e=a(641),r=a(3751);const o={class:"card"},i={class:"card-body"},n={class:"form-group mt-4"},l={key:0,class:"alert alert-warning"},c={class:"row submit-row"},u={class:"col-md-12"},d=["href"],h={name:"SearchOrganisations",components:{ListOrganisations:a(1145).A},props:{organisationResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"}},data(){return{localOrganisationResults:this.organisationResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults(){const t=new FormData;t.set("search",this.searchModel),this.axios.post(`${this.rootUrl}search/organisation/data/`,t).then((t=>{this.localOrganisationResults=t.data})).catch((t=>{this.$store.dispatch("newToast",{header:"Error Getting Search Results",message:`Sorry, we could not get search results. Error -> ${t}`,extra_classes:"bg-danger",delay:0})}))}},watch:{searchModel(){""!==this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchModel.length>=3&&(this.searchTimeout=setTimeout((()=>{this.getSearchResults()}),500))}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl})}},g=(0,a(6262).A)(h,[["render",function(t,s,a,h,g,m){const p=(0,e.g2)("list-organisations");return(0,e.uX)(),(0,e.CE)("div",o,[(0,e.Lk)("div",i,[(0,e.Q3)(" HEADING "),s[2]||(s[2]=(0,e.Lk)("h1",{class:"mb-4"},"Search Organisations",-1)),(0,e.Q3)(" SEARCH FIELD "),(0,e.Lk)("div",n,[s[1]||(s[1]=(0,e.Lk)("label",null,"Search:",-1)),(0,e.bo)((0,e.Lk)("input",{type:"text",class:"form-control search-organisation","onUpdate:modelValue":s[0]||(s[0]=t=>g.searchModel=t)},null,512),[[r.vModelText,g.searchModel]])]),(0,e.Q3)(" LIST OUT SEARCH RESULTS "),s[3]||(s[3]=(0,e.Lk)("hr",null,null,-1)),(0,e.bF)(p,{"organisation-results":g.localOrganisationResults},null,8,["organisation-results"]),(0,e.Q3)(" SHOW IF NO RESULTS "),0===g.localOrganisationResults.length?((0,e.uX)(),(0,e.CE)("div",l," There are no organisations with the search parameters used. Please try again. ")):(0,e.Q3)("v-if",!0),s[4]||(s[4]=(0,e.Lk)("hr",null,null,-1)),(0,e.Lk)("div",c,[(0,e.Lk)("div",u,[(0,e.Lk)("a",{href:`${a.rootUrl}new_organisation/`,class:"btn btn-primary save-changes"}," Add new Organisation ",8,d)])])])])}]])},2243:(t,s,a)=>{a.d(s,{A:()=>O});var e=a(8998),r=a(102),o=a(9394),i=a(2438),n=a(9605),l=a(3438),c=a(5666),u=a(6375),d=a(1647),h=a(7066),g=a(4397),m=a(4603),p=a(7432),f=a(1758),A=a(8959),k=a(9587),L=a(9675),b=a(386),S=a(6120),U=a(8086),v=a(5617),I=a(6325),y=a(6500),w=a(5707),R=a(1511);const O={data:()=>({icons:{arrowUp:e.A,bugIcon:r.A,bxBriefcase:o.A,cardChecklist:i.A,clipboardIcon:n.A,documentPdf:l.A,documentText:c.A,folderIcon:u.A,groupPresentation:d.A,imageIcon:h.A,infoCircle:g.A,linkIcon:m.A,linkIcon2:p.A,linkOut:f.A,mailIcon:A.A,microsoftExcel:k.A,microsoftPowerpoint:L.A,microsoftWord:b.A,noteAdd:S.A,objectStorage:U.A,passwordIcon:v.A,trashCan:I.A,userIcon:y.A,usersIcon:w.A,xCircle:R.A}})}}}]);