"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2158],{6262:(s,e)=>{e.A=(s,e)=>{const o=s.__vccOpts||s;for(const[s,a]of e)o[s]=a;return o}},9857:(s,e,o)=>{o.r(e),o.d(e,{default:()=>x});var a=o(641),t=o(3751);const d={class:"card"},r={class:"card-body"},l={class:"row"},n={class:"col-md-8"},i={class:"modal fade",id:"passwordResetModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c={class:"modal-dialog"},p={class:"modal-content"},u={class:"modal-header"},w={class:"modal-body"},k={class:"row"},m={class:"col-md-6"},b={class:"col-md-6"},h={class:"row"},A={class:"col-md-12"},v={key:0,class:"col-md-12"},L={class:"modal-footer"},f=["disabled"];var g=o(9336),M=o(2321),y=o(2124),C=o(2243),P=o(9639),I=o(3855),R=o(404);const $={name:"ResetUserPassword",setup:()=>({v$:(0,P.Ay)()}),components:{Icon:M.In,ValidationRendering:R.A},props:{location:{type:String,default:"/"},username:{type:Number,default:0}},mixins:[C.A],data:()=>({password1Model:"",password2Model:""}),validations:{password1Model:{required:I.mw,minLength:(0,I.Bp)(8)}},watch:{password1Model(){this.v$.$validate()},password2Model(){this.v$.$validate()}},computed:{...(0,y.L8)({rootUrl:"getRootUrl"}),disableButton(){const s=this.password1Model===this.password2Model,e=this.password1Model.length>=8;return!(s&&!0===e)}},methods:{closeModal(){this.password1Model="",this.password2Model="",document.getElementById("passwordResetCloseButton").click()},passwordResetClicked(){new g.aF(document.getElementById("passwordResetModal")).show()},updatePassword(){const s=new FormData;s.set("password",this.password1Model),s.set("username",this.username),this.axios.post(`${this.rootUrl}${this.location}update_user_password/`,s).then((()=>{this.closeModal()})).catch((s=>{let e="There was an issue trying to save your password.";if(void 0!==s.response){e="Please fix the following issues: ";for(const[o,a]of Object.entries(s.response.data))e+=`${o} - ${a[0].message} `}this.$store.dispatch("newToast",{header:"Error Updating User Password",message:e,extra_classes:"bg-danger",delay:0})}))}}},x=(0,o(6262).A)($,[["render",function(s,e,o,g,M,y){const C=(0,a.g2)("Icon"),P=(0,a.g2)("validation-rendering");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",d,[(0,a.Lk)("div",r,[e[6]||(e[6]=(0,a.Lk)("h2",null,"Reset Password",-1)),e[7]||(e[7]=(0,a.Lk)("hr",null,null,-1)),(0,a.Q3)(" PASSWORD "),(0,a.Lk)("div",l,[e[5]||(e[5]=(0,a.Lk)("div",{class:"col-md-4"},[(0,a.Lk)("strong",null,"Passwords"),(0,a.Lk)("p",{class:"text-instructions"}," Users have the ability to reset their password from the login page. If needed, please click on the link to be taken to the password reset form. ")],-1)),(0,a.Lk)("div",n,[(0,a.Lk)("button",{type:"button",class:"btn btn-warning",onClick:e[0]||(e[0]=(...s)=>y.passwordResetClicked&&y.passwordResetClicked(...s))}," Password Reset ")])])])]),(0,a.Q3)(" PASSWORD RESET MODAL "),(0,a.Lk)("div",i,[(0,a.Lk)("div",c,[(0,a.Lk)("div",p,[(0,a.Lk)("div",u,[(0,a.Lk)("h2",null,[(0,a.bF)(C,{icon:s.icons.passwordIcon},null,8,["icon"]),e[8]||(e[8]=(0,a.eW)(" Reset User Password "))]),e[9]||(e[9]=(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"passwordResetCloseButton"},[(0,a.Lk)("span",{"aria-hidden":"true"})],-1))]),(0,a.Lk)("div",w,[(0,a.Lk)("div",k,[(0,a.Lk)("div",m,[e[10]||(e[10]=(0,a.Lk)("label",null,"Password",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=s=>M.password1Model=s)},null,512),[[t.vModelText,M.password1Model]])]),(0,a.Lk)("div",b,[e[11]||(e[11]=(0,a.Lk)("label",null,"Confirm Password",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>M.password2Model=s)},null,512),[[t.vModelText,M.password2Model]])])]),(0,a.Lk)("div",h,[(0,a.Lk)("div",A,[(0,a.bF)(P,{"error-list":g.v$.password1Model.$errors},null,8,["error-list"]),M.password1Model!==M.password2Model?((0,a.uX)(),(0,a.CE)("div",v,e[12]||(e[12]=[(0,a.Lk)("span",{class:"error"},"Passwords need to be the same ",-1)]))):(0,a.Q3)("v-if",!0)])])]),(0,a.Lk)("div",L,[(0,a.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=(...s)=>y.closeModal&&y.closeModal(...s))}," Close "),(0,a.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...s)=>y.updatePassword&&y.updatePassword(...s)),disabled:y.disableButton}," Update Password ",8,f)])])])])])}]])},404:(s,e,o)=>{o.d(e,{A:()=>r});var a=o(641),t=o(33);const d={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},r=(0,o(6262).A)(d,[["render",function(s,e,o,d,r,l){return(0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.errorList,(s=>((0,a.uX)(),(0,a.CE)("span",{class:"error",key:s.$uid},(0,t.toDisplayString)(s.$message),1)))),128)}]])},2243:(s,e,o)=>{o.d(e,{A:()=>R});var a=o(8998),t=o(102),d=o(9394),r=o(2438),l=o(9605),n=o(3438),i=o(5666),c=o(6375),p=o(1647),u=o(7066),w=o(4397),k=o(4603),m=o(7432),b=o(1758),h=o(8959),A=o(9587),v=o(9675),L=o(386),f=o(6120),g=o(8086),M=o(5617),y=o(6325),C=o(6500),P=o(5707),I=o(1511);const R={data:()=>({icons:{arrowUp:a.A,bugIcon:t.A,bxBriefcase:d.A,cardChecklist:r.A,clipboardIcon:l.A,documentPdf:n.A,documentText:i.A,folderIcon:c.A,groupPresentation:p.A,imageIcon:u.A,infoCircle:w.A,linkIcon:k.A,linkIcon2:m.A,linkOut:b.A,mailIcon:h.A,microsoftExcel:A.A,microsoftPowerpoint:v.A,microsoftWord:L.A,noteAdd:f.A,objectStorage:g.A,passwordIcon:M.A,trashCan:y.A,userIcon:C.A,usersIcon:P.A,xCircle:I.A}})}}}]);