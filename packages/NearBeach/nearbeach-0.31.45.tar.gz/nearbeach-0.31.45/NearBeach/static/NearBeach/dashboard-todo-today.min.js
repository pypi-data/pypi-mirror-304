"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2802],{6262:(t,e)=>{e.A=(t,e)=>{const s=t.__vccOpts||t;for(const[t,a]of e)s[t]=a;return s}},9977:(t,e,s)=>{s.r(e),s.d(e,{default:()=>L});var a=s(641),o=s(33);const r={key:0,class:"card"},i={class:"card-body todays-todo"},c=["href"],d={class:"object-card-list"},l={class:"object-card--detail"},n=["href"],u={class:"object-card--detail--link"},g={class:"object-card--detail--description"},h={class:"object-card--status"},b=["href"],f={class:"object-card--status--status"},k={class:"small-text"};var p=s(8083);const D={name:"DashboardTodoToday",components:{},props:{rootUrl:{type:String,default:"/"}},data:()=>({todoList:[]}),mixins:[p.A],methods:{getExtraClasses:t=>"Closed"===t?"bg-secondary-subtle":"",getPrefix(t){switch(t){case"card":return"Card";case"project":return"Pro";case"task":return"Task";default:return"----"}},getTodoList(){this.axios.post(`${this.rootUrl}dashboard/get/todo_today/`).then((t=>{this.todoList=t.data})).catch((t=>{this.$store.dispatch("newToast",{header:"Error Getting Dashboard Data",message:`Can't get data for To Do Today. Error -> ${t}`,extra_classes:"bg-danger",delay:0})}))},getUrl(t){return`${this.rootUrl}${t.object_type}_information/${t.location_id}/`}},mounted(){this.getTodoList()}},L=(0,s(6262).A)(D,[["render",function(t,e,s,p,D,L){return D.todoList.length>0?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",i,[e[0]||(e[0]=(0,a.Lk)("h1",{class:"mb-4"},"Today's Todo",-1)),(0,a.Lk)("a",{href:`${s.rootUrl}my_planner`},"My Planner",8,c),e[1]||(e[1]=(0,a.Lk)("hr",null,null,-1)),(0,a.Lk)("div",d,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(D.todoList,(e=>((0,a.uX)(),(0,a.CE)("div",{class:(0,o.normalizeClass)(`object-card ${L.getExtraClasses(e.higher_order_status)}`),key:e.user_job_id},[(0,a.Lk)("div",l,[(0,a.Lk)("a",{href:L.getUrl(e)},[(0,a.Lk)("div",u,(0,o.toDisplayString)(L.getPrefix(e.object_type))+(0,o.toDisplayString)(e.location_id),1),(0,a.Lk)("div",g,(0,o.toDisplayString)(e.title),1)],8,n)]),(0,a.Lk)("div",h,[(0,a.Lk)("a",{href:L.getUrl(e)},[(0,a.Lk)("div",f,(0,o.toDisplayString)(e.status),1),(0,a.Lk)("p",k,(0,o.toDisplayString)(t.getNiceDatetime(e.end_date)),1)],8,b)])],2)))),128))])])])):(0,a.Q3)("v-if",!0)}]])},8083:(t,e,s)=>{s.d(e,{A:()=>o});var a=s(6285);const o={methods:{getNiceDatetime:t=>""===t||null==t?"":a.c9.fromISO(t).toLocaleString(a.c9.DATETIME_MED),getNiceDatetimeFromInt:t=>""===t||null==t?"":a.c9.fromMillis(t).toLocaleString(a.c9.DATETIME_MED),getNiceDate:t=>""===t||null==t?"":a.c9.fromISO(t).toLocaleString(a.c9.DATE_MED_WITH_WEEKDAY),disableDate(t){const e=new Date;return e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),t<=e.getTime()-36e5}}}}}]);