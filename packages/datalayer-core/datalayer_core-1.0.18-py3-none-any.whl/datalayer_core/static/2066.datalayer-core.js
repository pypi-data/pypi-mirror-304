"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[2066],{42066:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_CONTEXT_ITEM_RANK:()=>N,default:()=>ne});var i=n(83243),o=n(57355),a=n(27990),s=n(92376),r=n(43838),l=n(71204),d=n(18168);const c=async function(e,t,n){const i=(n=n||d.Sr).load("jupyterlab"),o=i.__("Server Connection Error"),a=i.__("A connection to the Jupyter server could not be established.\nJupyterLab will continue trying to reconnect.\nCheck your network connection or Jupyter server configuration.\n");return(0,l.UW)(o,{message:a})};var u=n(44041),p=n(48425),h=n(47963),m=n(16781),g=n(98209);class b{constructor(e){this.stop=new h.Token("@jupyterlab/application:Router#stop"),this._routed=new g.Signal(this),this._rules=new Map,this.base=e.base,this.commands=e.commands}get current(){var e,t;const{base:n}=this,i=p.URLExt.parse(window.location.href),{search:o,hash:a}=i,s=null!==(t=null===(e=i.pathname)||void 0===e?void 0:e.replace(n,"/"))&&void 0!==t?t:"";return{hash:a,path:s,request:s+o+a,search:o}}get routed(){return this._routed}navigate(e,t={}){const{base:n}=this,{history:i}=window,{hard:o}=t,a=document.location.href,s=e&&0===e.indexOf(n)?e:p.URLExt.join(n,e);return s===a?o?this.reload():void 0:(i.pushState({},"",s),o?this.reload():void(t.skipRouting||requestAnimationFrame((()=>{this.route()}))))}register(e){var t;const{command:n,pattern:i}=e,o=null!==(t=e.rank)&&void 0!==t?t:100,a=this._rules;return a.set(i,{command:n,rank:o}),new m.DisposableDelegate((()=>{a.delete(i)}))}reload(){window.location.reload()}route(){const{commands:e,current:t,stop:n}=this,{request:i}=t,o=this._routed,a=this._rules,s=[];a.forEach(((e,t)=>{(null==i?void 0:i.match(t))&&s.push(e)}));const r=s.sort(((e,t)=>t.rank-e.rank)),l=new h.PromiseDelegate,d=async()=>{if(!r.length)return o.emit(t),void l.resolve(void 0);const{command:a}=r.pop();try{const i=this.current.request;await e.execute(a,t)===n&&(r.length=0,console.debug(`Routing ${i} was short-circuited by ${a}`))}catch(e){console.warn(`Routing ${i} to ${a} failed`,e)}d()};return d(),l.promise}}var v,_=n(2245),f=n(39018),y=n(41784),w=n(55616),x=n(92279);class C extends x.$L{constructor(){super(),this._tracker=new x.Rh,this._inspectors=new Map,this.addClass("jp-PropertyInspector"),this._tracker=new x.Rh,this._tracker.currentChanged.connect(this._onCurrentChanged,this)}register(e){if(this._inspectors.has(e))throw new Error("Widget is already registered");const t=new v.PropertyInspector(e);return e.disposed.connect(this._onWidgetDisposed,this),this._inspectors.set(e,t),t.onAction.connect(this._onInspectorAction,this),this._tracker.add(e),t}get currentWidget(){return this._tracker.currentWidget}refresh(){const e=this._tracker.currentWidget;if(!e)return void this.setContent(null);const t=this._inspectors.get(e);t&&this.setContent(t.content)}_onWidgetDisposed(e){const t=this._inspectors.get(e);t&&(t.dispose(),this._inspectors.delete(e))}_onInspectorAction(e,t){const n=e.owner,i=this._tracker.currentWidget;switch(t){case"content":i===n&&this.setContent(e.content);break;case"dispose":n&&(this._tracker.remove(n),this._inspectors.delete(n));break;case"show-panel":i===n&&this.showPanel();break;default:throw new Error("Unsupported inspector action")}}_onCurrentChanged(){const e=this._tracker.currentWidget;if(e){const t=this._inspectors.get(e).content;this.setContent(t)}else this.setContent(null)}}class S extends C{constructor({shell:e,placeholder:t,translator:n}){super(),this._labshell=e,this.translator=n||d.Sr,this._trans=this.translator.load("jupyterlab");const i=this.layout=new x.Gl;if(t)this._placeholder=t;else{const e=document.createElement("div"),t=document.createElement("div");t.textContent=this._trans.__("No properties to inspect."),t.className="jp-PropertyInspector-placeholderContent",e.appendChild(t),this._placeholder=new x.$L({node:e}),this._placeholder.addClass("jp-PropertyInspector-placeholder")}i.widget=this._placeholder,this._labshell.currentChanged.connect(this._onShellCurrentChanged,this),this._onShellCurrentChanged()}setContent(e){const t=this.layout;t.widget&&(t.widget.removeClass("jp-PropertyInspector-content"),t.removeWidget(t.widget)),e||(e=this._placeholder),e.addClass("jp-PropertyInspector-content"),t.widget=e}showPanel(){this._labshell.activateById(this.id)}_onShellCurrentChanged(){const e=this.currentWidget;if(!e)return void this.setContent(null);const t=this._labshell.currentWidget;(null==t?void 0:t.node.contains(e.node))?this.refresh():this.setContent(null)}}!function(e){e.PropertyInspector=class{constructor(e){this._isDisposed=!1,this._content=null,this._owner=null,this._onAction=new g.Signal(this),this._owner=e}get owner(){return this._owner}get content(){return this._content}get isDisposed(){return this._isDisposed}get onAction(){return this._onAction}showPanel(){this._isDisposed||this._onAction.emit("show-panel")}render(e){this._isDisposed||(e instanceof x.$L?this._content=e:this._content=w.zz.create(e),this._onAction.emit("content"))}dispose(){this._isDisposed||(this._isDisposed=!0,this._content=null,this._owner=null,g.Signal.clearData(this))}}}(v||(v={}));var k=n(35909),E=n(38522),T=n(55466),I=n(68471),P=n(17579),A=n(75753);class L extends x.$L{constructor(){super(),this._button=document.createElement("button"),this._label=document.createElement("label"),this._valueChanged=new g.Signal(this),this._button.className="jp-switch",this._button.setAttribute("role","switch"),this._label.className="jp-switch-label";const e=document.createElement("div");e.className="jp-switch-track",e.setAttribute("aria-hidden","true"),this._button.appendChild(this._label),this._button.appendChild(e),this.node.appendChild(this._button)}get value(){return this._value}set value(e){const t=this._value;t!==e&&(this._button.setAttribute("aria-checked",e.toString()),this._value=e,this._valueChanged.emit({name:"value",oldValue:t,newValue:e}))}get valueChanged(){return this._valueChanged}get label(){var e;return null!==(e=this._label.textContent)&&void 0!==e?e:""}set label(e){this._label.textContent=e}get caption(){return this._button.title}set caption(e){this._button.title=e,this._label.title=e}handleEvent(e){"click"===e.type&&(this.value=!this.value)}onAfterAttach(){this._button.addEventListener("click",this)}onBeforeDetach(){this._button.removeEventListener("click",this)}}var j=n(46931),R=n(63070),B=n(56769),M=n(67335),D=n(30790);const q={id:"@jupyterlab/application-extension:top-bar",description:"Adds a toolbar to the top area (next to the main menu bar).",autoStart:!0,requires:[k.O,_.RX],optional:[d.gv],activate:(e,t,n,i)=>{const o=new D.o8;o.id="jp-top-bar",(0,M.o)(o,(0,M._)(n,t,"TopBar",q.id,null!=i?i:d.Sr),o),e.shell.add(o,"top",{rank:900})}},N=100;var O;!function(e){e.activateNextTab="application:activate-next-tab",e.activatePreviousTab="application:activate-previous-tab",e.activateNextTabBar="application:activate-next-tab-bar",e.activatePreviousTabBar="application:activate-previous-tab-bar",e.close="application:close",e.closeOtherTabs="application:close-other-tabs",e.closeRightTabs="application:close-right-tabs",e.closeAll="application:close-all",e.setMode="application:set-mode",e.showPropertyPanel="property-inspector:show-panel",e.resetLayout="application:reset-layout",e.toggleHeader="application:toggle-header",e.toggleMode="application:toggle-mode",e.toggleLeftArea="application:toggle-left-area",e.toggleRightArea="application:toggle-right-area",e.toggleSideTabBar="application:toggle-side-tabbar",e.toggleSidebarWidget="application:toggle-sidebar-widget",e.togglePresentationMode="application:toggle-presentation-mode",e.tree="router:tree",e.switchSidebar="sidebar:switch"}(O||(O={}));const U={id:"@jupyterlab/application-extension:commands",description:"Adds commands related to the shell.",autoStart:!0,requires:[d.gv],optional:[i.r,_.WW],activate:(e,t,n,i)=>{var a;const{commands:s,shell:r}=e,l=t.load("jupyterlab"),d=l.__("Main Area");s.addCommand(o.I.contextMenu,{label:l.__("Shift+Right Click for Browser Menu"),isEnabled:()=>!1,execute:()=>{}});const c=()=>{const t=e.contextMenuHitTest((e=>!!e.dataset.id));return t&&(0,j.sE)(r.widgets("main"),(e=>e.id===t.dataset.id))||r.currentWidget},u=(e,t)=>{if("tab-area"===e.type)return e.widgets.includes(t)?e:null;if("split-area"===e.type)for(const n of e.children){const e=u(n,t);if(e)return e}return null},h=e=>{const{id:t}=e,i=(e=>{var t;const i=null==n?void 0:n.saveLayout(),o=null==i?void 0:i.mainArea;if(!o||"multiple-document"!==p.PageConfig.getOption("mode"))return null;const a=null===(t=o.dock)||void 0===t?void 0:t.main;return a?u(a,e):null})(e),o=i&&i.widgets||[],a=o.findIndex((e=>e.id===t));return a<0?[]:o.slice(a+1)};function m(e){e&&e.focus()}s.addCommand(O.close,{label:()=>l.__("Close Tab"),isEnabled:()=>{const e=c();return!!e&&e.title.closable},execute:()=>{const e=c();e&&e.close()}}),s.addCommand(O.closeOtherTabs,{label:()=>l.__("Close All Other Tabs"),isEnabled:()=>(0,j.G)(r.widgets("main"),((e,t)=>1===t)),execute:()=>{const e=c();if(!e)return;const{id:t}=e;for(const e of r.widgets("main"))e.id!==t&&e.close()}}),s.addCommand(O.closeRightTabs,{label:()=>l.__("Close Tabs to Right"),isEnabled:()=>!!c()&&h(c()).length>0,execute:()=>{const e=c();e&&h(e).forEach((e=>e.close()))}}),null===(a=r.currentChanged)||void 0===a||a.connect((()=>{[O.close,O.closeOtherTabs,O.closeRightTabs].forEach((e=>s.notifyCommandChanged(e)))})),n&&(s.addCommand(O.activateNextTab,{label:l.__("Activate Next Tab"),execute:()=>{n.activateNextTab()}}),s.addCommand(O.activatePreviousTab,{label:l.__("Activate Previous Tab"),execute:()=>{n.activatePreviousTab()}}),s.addCommand(O.activateNextTabBar,{label:l.__("Activate Next Tab Bar"),execute:()=>{n.activateNextTabBar()}}),s.addCommand(O.activatePreviousTabBar,{label:l.__("Activate Previous Tab Bar"),execute:()=>{n.activatePreviousTabBar()}}),s.addCommand(O.closeAll,{label:l.__("Close All Tabs"),execute:()=>{n.closeAll()}}),s.addCommand(O.toggleHeader,{label:l.__("Show Header"),execute:()=>{"single-document"===n.mode&&n.toggleTopInSimpleModeVisibility()},isToggled:()=>n.isTopInSimpleModeVisible(),isVisible:()=>"single-document"===n.mode}),s.addCommand(O.toggleLeftArea,{label:l.__("Show Left Sidebar"),execute:()=>{n.leftCollapsed?n.expandLeft():(n.collapseLeft(),n.currentWidget&&n.activateById(n.currentWidget.id))},isToggled:()=>!n.leftCollapsed,isEnabled:()=>!n.isEmpty("left")}),s.addCommand(O.toggleRightArea,{label:l.__("Show Right Sidebar"),execute:()=>{n.rightCollapsed?n.expandRight():(n.collapseRight(),n.currentWidget&&n.activateById(n.currentWidget.id))},isToggled:()=>!n.rightCollapsed,isEnabled:()=>!n.isEmpty("right")}),s.addCommand(O.toggleSidebarWidget,{label:e=>void 0===e||void 0===e.side||void 0===e.index?l.__("Toggle Sidebar Element"):"right"===e.side?l.__("Toggle Element %1 in Right Sidebar",parseInt(e.index,10)+1):l.__("Toggle Element %1 in Left Sidebar",parseInt(e.index,10)+1),execute:e=>{const t=parseInt(e.index,10);if("left"!=e.side&&"right"!=e.side)throw Error(`Unsupported sidebar: ${e.side}`);const i=Array.from(n.widgets(e.side));if(t>=i.length)return;const o=i[t].id,a=document.querySelector("[data-id='"+o+"']");(e=>{let t;if("left"!=e&&"right"!=e)throw Error(`Unsupported sidebar: ${e}`);if("left"===e)t=document.querySelector(".lm-TabBar-tab.lm-mod-current");else{const e=document.querySelectorAll(".lm-TabBar-tab.lm-mod-current");t=e[e.length-1]}const n=null==t?void 0:t.getAttribute("data-id");return n?null==n?void 0:n.toString():""})(e.side)===o?("left"==e.side&&(n.collapseLeft(),m(a)),"right"==e.side&&(n.collapseRight(),m(a))):(n.activateById(o),m(a))}}),s.addCommand(O.toggleSideTabBar,{label:e=>"right"===e.side?l.__("Show Right Activity Bar"):l.__("Show Left Activity Bar"),execute:e=>{"right"===e.side?n.toggleSideTabBarVisibility("right"):n.toggleSideTabBarVisibility("left")},isToggled:e=>"right"===e.side?n.isSideTabBarVisible("right"):n.isSideTabBarVisible("left"),isEnabled:e=>"right"===e.side?!n.isEmpty("right"):!n.isEmpty("left")}),s.addCommand(O.togglePresentationMode,{label:()=>l.__("Presentation Mode"),execute:()=>{n.presentationMode=!n.presentationMode},isToggled:()=>n.presentationMode,isVisible:()=>!0}),s.addCommand(O.setMode,{label:e=>e.mode?l.__("Set %1 mode.",e.mode):l.__("Set the layout `mode`."),caption:l.__('The layout `mode` can be "single-document" or "multiple-document".'),isVisible:e=>{const t=e.mode;return"single-document"===t||"multiple-document"===t},execute:e=>{const t=e.mode;if("single-document"!==t&&"multiple-document"!==t)throw new Error(`Unsupported application shell mode: ${t}`);n.mode=t}}),s.addCommand(O.toggleMode,{label:l.__("Simple Interface"),isToggled:()=>"single-document"===n.mode,execute:()=>{const e="multiple-document"===n.mode?{mode:"single-document"}:{mode:"multiple-document"};return s.execute(O.setMode,e)}}),s.addCommand(O.resetLayout,{label:l.__("Reset Default Layout"),execute:()=>{n.presentationMode&&s.execute(O.togglePresentationMode).catch((e=>{console.error("Failed to undo presentation mode.",e)})),"single-document"!==n.mode||n.isTopInSimpleModeVisible()||s.execute(O.toggleHeader).catch((e=>{console.error("Failed to display title header.",e)})),["left","right"].forEach((e=>{n.isSideTabBarVisible(e)||n.isEmpty(e)||s.execute(O.toggleSideTabBar,{side:e}).catch((t=>{console.error(`Failed to show ${e} activity bar.`,t)}))}))}})),i&&([O.activateNextTab,O.activatePreviousTab,O.activateNextTabBar,O.activatePreviousTabBar,O.close,O.closeAll,O.closeOtherTabs,O.closeRightTabs,O.toggleHeader,O.toggleLeftArea,O.toggleRightArea,O.togglePresentationMode,O.toggleMode,O.resetLayout].forEach((e=>i.addItem({command:e,category:d}))),["right","left"].forEach((e=>{i.addItem({command:O.toggleSideTabBar,category:d,args:{side:e}})})))}},V={id:"@jupyterlab/application-extension:main",description:"Initializes the application and provides the URL tree path handler.",requires:[a.v5,_.uk,d.gv,o.T.ITreeResolver],optional:[a.xT],provides:s.Q,activate:(e,t,n,i,o,a)=>{const s=i.load("jupyterlab");if(!(e instanceof r.p))throw new Error(`${V.id} must be activated in JupyterLab.`);let d="",u="";const h=n.name;if(console.debug(`Starting application in workspace: "${h}"`),0!==e.registerPluginErrors.length){const t=B.createElement("pre",null,e.registerPluginErrors.map((e=>e.message)).join("\n"));(0,l.UW)(s.__("Error Registering Plugins"),{message:t})}e.shell.modeChanged.connect(((e,n)=>{const i=p.PageConfig.getUrl({mode:n}),o=p.URLExt.parse(i).pathname;t.navigate(o,{skipRouting:!0}),p.PageConfig.setOption("mode",n)})),o.paths.then((()=>{e.shell.currentPathChanged.connect(((e,n)=>{const i=n.newValue,o=i||u,a=p.PageConfig.getUrl({treePath:o}),s=p.URLExt.parse(a).pathname;t.navigate(s,{skipRouting:!0}),p.PageConfig.setOption("treePath",o),d=i}))})),a=a||c,e.serviceManager.connectionFailure.connect(((e,t)=>a(e,t,i)));const m=e.serviceManager.builder,g=()=>m.build().then((()=>(0,l.vC)({title:s.__("Build Complete"),body:B.createElement("div",null,s.__("Build successfully completed, reload page?"),B.createElement("br",null),s.__("You will lose any unsaved changes.")),buttons:[l.Vq.cancelButton({label:s.__("Reload Without Saving"),actions:["reload"]}),l.Vq.okButton({label:s.__("Save and Reload")})],hasClose:!0}))).then((({button:{accept:n,actions:i}})=>{n?e.commands.execute("docmanager:save").then((()=>{t.reload()})).catch((e=>{(0,l.UW)(s.__("Save Failed"),{message:B.createElement("pre",null,e.message)})})):i.includes("reload")&&t.reload()})).catch((e=>{(0,l.UW)(s.__("Build Failed"),{message:B.createElement("pre",null,e.message)})}));return m.isAvailable&&m.shouldCheck&&m.getStatus().then((e=>{if("building"===e.status)return g();if("needed"!==e.status)return;const t=B.createElement("div",null,s.__("JupyterLab build is suggested:"),B.createElement("br",null),B.createElement("pre",null,e.message));(0,l.vC)({title:s.__("Build Recommended"),body:t,buttons:[l.Vq.cancelButton(),l.Vq.okButton({label:s.__("Build")})]}).then((e=>e.button.accept?g():void 0))})),function(e){o.paths.then((()=>{if(u=e,!d){const n=p.PageConfig.getUrl({treePath:e}),i=p.URLExt.parse(n).pathname;t.navigate(i,{skipRouting:!0}),p.PageConfig.setOption("treePath",e)}}))}},autoStart:!0},W={id:"@jupyterlab/application-extension:context-menu",description:"Populates the context menu.",autoStart:!0,requires:[k.O,d.gv],activate:(e,t,n)=>{const i=n.load("jupyterlab");function o(t){const n=new P.V({...t,commands:e.commands});return t.label&&(n.title.label=i.__(t.label)),n}e.started.then((()=>ie.loadSettingsContextMenu(e.contextMenu,t,o,n))).catch((e=>{console.error("Failed to load context menu items from settings registry.",e)}))}},J={id:"@jupyterlab/application-extension:dirty",description:"Adds safeguard dialog when closing the browser tab with unsaved modifications.",autoStart:!0,requires:[d.gv],activate:(e,t)=>{if(!(e instanceof r.p))throw new Error(`${J.id} must be activated in JupyterLab.`);const n=t.load("jupyterlab").__("Are you sure you want to exit JupyterLab?\n\nAny unsaved changes will be lost.");window.addEventListener("beforeunload",(t=>{if(e.status.isDirty)return t.returnValue=n}))}},$={id:"@jupyterlab/application-extension:layout",description:"Provides the shell layout restorer.",requires:[T.IStateDB,i.r,k.O],optional:[d.gv],activate:(e,t,n,i,o)=>{const a=(null!=o?o:d.Sr).load("jupyterlab"),s=e.started,r=e.commands,c=p.PageConfig.getOption("mode"),m=new u.c({connector:t,first:s,registry:r,mode:c});return i.load(G.id).then((t=>{var i,o;const s=t.composite.layout;n.restoreLayout(c,m,{"multiple-document":null!==(i=s.multiple)&&void 0!==i?i:{},"single-document":null!==(o=s.single)&&void 0!==o?o:{}}).then((()=>{n.layoutModified.connect((()=>{m.save(n.saveLayout())})),t.changed.connect(g),ie.activateSidebarSwitcher(e,n,t,a)}))})).catch((e=>{console.error("Fail to load settings for the layout restorer."),console.error(e)})),m;async function g(e){h.JSONExt.deepEqual(e.composite.layout,{single:n.userLayout["single-document"],multiple:n.userLayout["multiple-document"]})||(await(0,l.vC)({title:a.__("Information"),body:a.__("User layout customization has changed. You may need to reload JupyterLab to see the changes."),buttons:[l.Vq.cancelButton(),l.Vq.okButton({label:a.__("Reload")})]})).button.accept&&location.reload()}},autoStart:!0,provides:u.L},F={id:"@jupyterlab/application-extension:router",description:"Provides the URL router",requires:[o.T.IPaths],activate:(e,t)=>{const{commands:n}=e,i=t.urls.base,o=new b({base:i,commands:n});return e.started.then((()=>{o.route(),window.addEventListener("popstate",(()=>{o.route()}))})),o},autoStart:!0,provides:a.v5},z={id:"@jupyterlab/application-extension:tree-resolver",description:"Provides the tree route resolver",autoStart:!0,requires:[a.v5],provides:o.T.ITreeResolver,activate:(e,t)=>{const{commands:n}=e,i=new m.DisposableSet,o=new h.PromiseDelegate,a=new RegExp("/(lab|doc)(/workspaces/[a-zA-Z0-9-_]+)?(/tree/.*)?");i.add(n.addCommand(O.tree,{execute:async e=>{var t;if(i.isDisposed)return;const n=p.URLExt.queryStringToObject(null!==(t=e.search)&&void 0!==t?t:""),a=n["file-browser-path"]||"";delete n["file-browser-path"],i.dispose(),o.resolve({browser:a,file:p.PageConfig.getOption("treePath")})}})),i.add(t.register({command:O.tree,pattern:a}));const s=()=>{i.isDisposed||(i.dispose(),o.resolve(null))};return t.routed.connect(s),i.add(new m.DisposableDelegate((()=>{t.routed.disconnect(s)}))),{paths:o.promise}}},H={id:"@jupyterlab/application-extension:notfound",description:"Defines the behavior for not found URL (aka route).",requires:[o.T.IPaths,a.v5,d.gv],activate:(e,t,n,i)=>{const o=i.load("jupyterlab"),a=t.urls.notFound;if(!a)return;const s=n.base,r=o.__("The path: %1 was not found. JupyterLab redirected to: %2",a,s);n.navigate(""),(0,l.UW)(o.__("Path Not Found"),{message:r})},autoStart:!0},K={id:"@jupyterlab/application-extension:faviconbusy",description:"Handles the favicon depending on the application status.",requires:[a.yo],activate:async(e,t)=>{t.busySignal.connect(((e,t)=>{const n=document.querySelector('link[rel="icon"]'+(t?".idle.favicon":".busy.favicon"));if(!n)return;const i=document.querySelector("link"+(t?".busy.favicon":".idle.favicon"));i&&n!==i&&(n.rel="",i.rel="icon",i.parentNode.replaceChild(i,i))}))},autoStart:!0},G={id:"@jupyterlab/application-extension:shell",description:"Provides the JupyterLab shell. It has an extended API compared to `app.shell`.",optional:[k.O],activate:(e,t)=>{if(!(e.shell instanceof i.a))throw new Error(`${G.id} did not find a LabShell instance.`);return t&&t.load(G.id).then((t=>{e.shell.updateConfig(t.composite),t.changed.connect((()=>{e.shell.updateConfig(t.composite)}))})),e.shell},autoStart:!0,provides:i.r},Q={id:"@jupyterlab/application-extension:status",description:"Provides the application status.",activate:e=>{if(!(e instanceof r.p))throw new Error(`${Q.id} must be activated in JupyterLab.`);return e.status},autoStart:!0,provides:a.yo},Y={id:"@jupyterlab/application-extension:info",description:"Provides the application information.",activate:e=>{if(!(e instanceof r.p))throw new Error(`${Y.id} must be activated in JupyterLab.`);return e.info},autoStart:!0,provides:r.p.IInfo},X={id:"@jupyterlab/application-extension:paths",description:"Provides the application paths.",activate:e=>{if(!(e instanceof r.p))throw new Error(`${X.id} must be activated in JupyterLab.`);return e.paths},autoStart:!0,provides:o.T.IPaths},Z={id:"@jupyterlab/application-extension:property-inspector",description:"Provides the property inspector.",autoStart:!0,requires:[i.r,d.gv],optional:[u.L],provides:y.s,activate:(e,t,n,i)=>{const o=n.load("jupyterlab"),a=new S({shell:t,translator:n});return a.title.icon=A.iu,a.title.caption=o.__("Property Inspector"),a.id="jp-property-inspector",t.add(a,"right",{rank:100,type:"Property Inspector"}),e.commands.addCommand(O.showPropertyPanel,{label:o.__("Property Inspector"),execute:()=>{t.activateById(a.id)}}),i&&i.add(a,"jp-property-inspector"),a}},ee={id:"@jupyterlab/application-extension:logo",description:"Sets the application logo.",autoStart:!0,requires:[i.r],activate:(e,t)=>{const n=new x.$L;A._$.element({container:n.node,elementPosition:"center",margin:"2px 2px 2px 8px",height:"auto",width:"16px"}),n.id="jp-MainLogo",t.add(n,"top",{rank:0})}},te={id:"@jupyterlab/application-extension:mode-switch",description:"Adds the interface mode switch",requires:[i.r,d.gv],optional:[I.WQ,k.O],activate:(e,t,n,i,o)=>{if(null===i)return;const a=n.load("jupyterlab"),s=new L;if(s.id="jp-single-document-mode",s.valueChanged.connect(((e,n)=>{t.mode=n.newValue?"single-document":"multiple-document"})),t.modeChanged.connect(((e,t)=>{s.value="single-document"===t})),o){const n=o.load(G.id),i=e=>{const n=e.get("startMode").composite;n&&(t.mode="single"===n?"single-document":"multiple-document")};Promise.all([n,e.restored]).then((([e])=>{i(e)})).catch((e=>{console.error(e.message)}))}const r=()=>{const t=e.commands.keyBindings.find((e=>"application:toggle-mode"===e.command));if(t){const e=t.keys.map(R.H.formatKeystroke).join(", ");s.caption=a.__("Simple Interface (%1)",e)}else s.caption=a.__("Simple Interface")};r(),e.commands.keyBindingChanged.connect((()=>{r()})),s.label=a.__("Simple"),i.registerStatusItem(te.id,{priority:1,item:s,align:"left",rank:-1})},autoStart:!0},ne=[W,J,V,U,$,F,z,H,K,G,Q,Y,te,X,Z,ee,q];var ie;!function(e){async function t(e){(await(0,l.vC)({title:e.__("Information"),body:e.__("Context menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[l.Vq.cancelButton(),l.Vq.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsContextMenu=async function(e,n,i,o){var a;const s=o.load("jupyterlab"),r=W.id;let l=null,d={};function c(e){var t,i;d={};const o=Object.keys(n.plugins).map((e=>{var t,i;const o=null!==(i=null===(t=n.plugins[e].schema["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==i?i:[];return d[e]=o,o})).concat([null!==(i=null===(t=e["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==i?i:[]]).reduceRight(((e,t)=>E.tC.reconcileItems(e,t,!0)),[]);e.properties.contextMenu.default=E.tC.reconcileItems(o,e.properties.contextMenu.default,!0).sort(((e,t)=>{var n,i;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(i=t.rank)&&void 0!==i?i:1/0)}))}n.transform(r,{compose:e=>{var t,n,i,o;l||(l=h.JSONExt.deepCopy(e.schema),c(l));const a=null!==(i=null===(n=null===(t=l.properties)||void 0===t?void 0:t.contextMenu)||void 0===n?void 0:n.default)&&void 0!==i?i:[],s={...e.data.user,contextMenu:null!==(o=e.data.user.contextMenu)&&void 0!==o?o:[]},r={...e.data.composite,contextMenu:E.tC.reconcileItems(a,s.contextMenu,!1)};return e.data={composite:r,user:s},e},fetch:e=>(l||(l=h.JSONExt.deepCopy(e.schema),c(l)),{data:e.data,id:e.id,raw:e.raw,schema:l,version:e.version})});const u=await n.load(r),p=null!==(a=u.composite.contextMenu)&&void 0!==a?a:[];E.tC.filterDisabledItems(p).forEach((t=>{f.E.addContextItem({rank:N,...t},e,i)})),u.changed.connect((()=>{var e;const n=null!==(e=u.composite.contextMenu)&&void 0!==e?e:[];h.JSONExt.deepEqual(p,n)||t(s)})),n.pluginChanged.connect((async(o,a)=>{var l,c,u,m;if(a!==r){const o=null!==(l=d[a])&&void 0!==l?l:[],r=null!==(u=null===(c=n.plugins[a].schema["jupyter.lab.menus"])||void 0===c?void 0:c.context)&&void 0!==u?u:[];if(!h.JSONExt.deepEqual(o,r))if(d[a])await t(s);else{d[a]=h.JSONExt.deepCopy(r);const t=null!==(m=E.tC.reconcileItems(r,p,!1,!1))&&void 0!==m?m:[];E.tC.filterDisabledItems(t).forEach((t=>{f.E.addContextItem({rank:N,...t},e,i)}))}}}))},e.activateSidebarSwitcher=function(e,t,n,i){e.commands.addCommand(O.switchSidebar,{label:i.__("Switch Sidebar Side"),execute:()=>{const i=e.contextMenuHitTest((e=>!!e.dataset.id));if(!i)return;const o=i.dataset.id,a=document.getElementById("jp-left-stack"),s=document.getElementById(o);let r=null;if(a&&s&&a.contains(s)){const e=(0,j.sE)(t.widgets("left"),(e=>e.id===o));e&&(r=t.move(e,"right"),t.activateById(e.id))}else{const e=(0,j.sE)(t.widgets("right"),(e=>e.id===o));e&&(r=t.move(e,"left"),t.activateById(e.id))}r&&n.set("layout",{single:r["single-document"],multiple:r["multiple-document"]}).catch((e=>{console.error("Failed to save user layout customization.",e)}))}}),e.commands.commandExecuted.connect(((e,t)=>{t.id===O.resetLayout&&n.remove("layout").catch((e=>{console.error("Failed to remove user layout customization.",e)}))}))}}(ie||(ie={}))},92376:(e,t,n)=>{n.d(t,{Q:()=>i});const i=new(n(47963).Token)("@jupyterlab/application:ITreePathUpdater","A service to update the tree path.")},39018:(e,t,n)=>{n.d(t,{E:()=>i});var i,o=n(48425),a=n(39187),s=n(47963);!function(e){function t(e,t){var i,s;const r=t(e);return r.id=e.id,r.title.label||(r.title.label=null!==(i=e.label)&&void 0!==i?i:o.Text.titleCase(r.id.trim())),e.icon&&(r.title.icon=a.zZ.resolve({icon:e.icon})),void 0!==e.mnemonic&&(r.title.mnemonic=e.mnemonic),null===(s=e.items)||void 0===s||s.filter((e=>!e.disabled)).sort(((e,t)=>{var n,i;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(i=t.rank)&&void 0!==i?i:1/0)})).map((e=>{n(e,r,t)})),r}function n(e,n,i){const{submenu:o,...a}=e;n.addItem({...a,submenu:o?t(o,i):null})}function i(e,t,o){var a;e.disabled?t.dispose():null===(a=e.items)||void 0===a||a.forEach((e=>{var a,r;const l=null==t?void 0:t.items.find(((t,n)=>{var i,o,a;return t.type===e.type&&t.command===(null!==(i=e.command)&&void 0!==i?i:"")&&(null===(o=t.submenu)||void 0===o?void 0:o.id)===(null===(a=e.submenu)||void 0===a?void 0:a.id)}));if(l&&"separator"!==e.type)if(e.disabled)t.removeItem(l);else switch(null!==(a=e.type)&&void 0!==a?a:"command"){case"command":e.command&&(s.JSONExt.deepEqual(l.args,null!==(r=e.args)&&void 0!==r?r:{})||n(e,t,o));break;case"submenu":e.submenu&&i(e.submenu,l.submenu,o)}else n(e,t,o)}))}e.createMenus=function(e,n){return e.filter((e=>!e.disabled)).sort(((e,t)=>{var n,i;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(i=t.rank)&&void 0!==i?i:1/0)})).map((e=>t(e,n)))},e.addContextItem=function(e,n,i){const{submenu:o,...a}=e;n.addItem({...a,submenu:o?t(o,i):null})},e.updateMenus=function(e,n,o){const a=[];return n.forEach((n=>{const s=e.find((e=>e.id===n.id));s?i(n,s,o):n.disabled||a.push(t(n,o))})),e.push(...a),a}}(i||(i={}))},41784:(e,t,n)=>{n.d(t,{s:()=>i});const i=new(n(47963).Token)("@jupyterlab/property-inspector:IPropertyInspectorProvider","A service to registry new widget in the property inspector side panel.")},17579:(e,t,n)=>{n.d(t,{V:()=>l,j:()=>i});var i,o=n(46931),a=n(16781),s=n(98209),r=n(92279);!function(e){e.DEFAULT_RANK=100}(i||(i={}));class l extends r.v2{constructor(e){var t;super(e),this._ranks=[],this._rank=e.rank,this._includeSeparators=null===(t=e.includeSeparators)||void 0===t||t}get rank(){return this._rank}addGroup(e,t){if(0===e.length)return new a.DisposableDelegate((()=>{}));const n=null!=t?t:i.DEFAULT_RANK,o=e.map((e=>{var t;return{...e,rank:null!==(t=e.rank)&&void 0!==t?t:n}})).sort(((e,t)=>e.rank-t.rank));let s=this._ranks.findIndex((e=>o[0].rank<e));s<0&&(s=this._ranks.length);const r=[];return this._includeSeparators&&r.push(this.insertItem(s++,{type:"separator",rank:n})),r.push(...o.map((e=>this.insertItem(s++,e)))),this._includeSeparators&&r.push(this.insertItem(s++,{type:"separator",rank:n})),new a.DisposableDelegate((()=>{r.forEach((e=>e.dispose()))}))}addItem(e){let t=-1;return e.rank&&(t=this._ranks.findIndex((t=>e.rank<t))),t<0&&(t=this._ranks.length),this.insertItem(t,e)}clearItems(){this._ranks.length=0,super.clearItems()}dispose(){this._ranks.length=0,super.dispose()}getRankAt(e){return this._ranks[e]}insertItem(e,t){var n,a;const s=Math.max(0,Math.min(e,this._ranks.length));o.RO.insert(this._ranks,s,null!==(n=t.rank)&&void 0!==n?n:Math.max(i.DEFAULT_RANK,null!==(a=this._ranks[this._ranks.length-1])&&void 0!==a?a:i.DEFAULT_RANK));const r=super.insertItem(s,t);return new d(r,this)}removeItemAt(e){o.RO.removeAt(this._ranks,e),super.removeItemAt(e)}}class d{constructor(e,t){this._item=new WeakRef(e),this._menu=t;const n=e=>{e.disposed.disconnect(n,this),this.dispose()};this._menu.disposed.connect(n,this)}get isDisposed(){return this._isDisposed}get type(){return this._item.deref().type}get command(){return this._item.deref().command}get args(){return this._item.deref().args}get submenu(){return this._item.deref().submenu}get label(){return this._item.deref().label}get mnemonic(){return this._item.deref().mnemonic}get icon(){return this._item.deref().icon}get iconClass(){return this._item.deref().iconClass}get iconLabel(){return this._item.deref().iconLabel}get caption(){return this._item.deref().caption}get className(){return this._item.deref().className}get dataset(){return this._item.deref().dataset}get isEnabled(){return this._item.deref().isEnabled}get isToggled(){return this._item.deref().isToggled}get isVisible(){return this._item.deref().isVisible}get keyBinding(){return this._item.deref().keyBinding}dispose(){if(this._isDisposed)return;this._isDisposed=!0;const e=this._item.deref();e&&!this._menu.isDisposed&&this._menu.removeItem(e),s.Signal.clearData(this)}}}}]);