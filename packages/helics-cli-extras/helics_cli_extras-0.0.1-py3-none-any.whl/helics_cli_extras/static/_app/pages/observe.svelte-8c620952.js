import{S as Ie,i as Se,s as je,e as L,t as K,k as q,c as U,a as Y,h as Q,d as z,m as J,b as V,g as R,I as S,j as be,q as X,w as oe,x as le,y as se,R as _e,o as F,B as ue,n as he,p as ge,l as Ne,V as vt,G as bt,a0 as yt,a1 as wt,E as Me,a2 as Tt,a3 as $e,D as Et,Y as zt,a4 as Nt,v as At,a5 as me}from"../chunks/index-d6b53ebe.js";import{F as Ee}from"../chunks/fa-b47ae4c1.js";import{a as Ue,b as xt}from"../chunks/index.es-e33ee127.js";import{D as Dt}from"../chunks/Dropzone-f4be5df7.js";import{d as re,D as It}from"../chunks/stores-43842a59.js";import{S as He,a as St,r as jt,s as pe,d as Ye,T as Ce,i as Xe,b as Ve,c as Pt,t as Ct,l as Vt,o as Bt,L as Ot}from"../chunks/ScaledSvg.svelte_svelte_type_style_lang-3a481e75.js";import"../chunks/index-e4f78b56.js";function Ge(t,e,r){const n=t.slice();return n[21]=e[r],n}function qe(t,e,r){const n=t.slice();return n[24]=e[r],n[26]=r,n}function Je(t,e,r){const n=t.slice();return n[27]=e[r],n}function Ke(t,e,r){const n=t.slice();return n[27]=e[r],n}function Lt(t){let e,r;return e=new Ee({props:{icon:Ue}}),{c(){oe(e.$$.fragment)},l(n){le(e.$$.fragment,n)},m(n,i){se(e,n,i),r=!0},p:Me,i(n){r||(X(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){ue(e,n)}}}function Ut(t){let e,r;return e=new Ee({props:{icon:xt}}),{c(){oe(e.$$.fragment)},l(n){le(e.$$.fragment,n)},m(n,i){se(e,n,i),r=!0},p:Me,i(n){r||(X(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){ue(e,n)}}}function Qe(t){let e,r,n,i,o;r=new Ee({props:{style:"color: "+(t[27].sortActive?t[27].sortColor:"#aaa"),icon:Ue}});function a(){return t[12](t[27])}return{c(){e=L("button"),oe(r.$$.fragment)},l(l){e=U(l,"BUTTON",{});var d=Y(e);le(r.$$.fragment,d),d.forEach(z)},m(l,d){R(l,e,d),se(r,e,null),n=!0,i||(o=_e(e,"click",a),i=!0)},p(l,d){t=l;const f={};d[0]&8&&(f.style="color: "+(t[27].sortActive?t[27].sortColor:"#aaa")),r.$set(f)},i(l){n||(X(r.$$.fragment,l),n=!0)},o(l){F(r.$$.fragment,l),n=!1},d(l){l&&z(e),ue(r),i=!1,o()}}}function We(t){let e,r,n,i,o;r=new Ee({props:{style:"color: "+(t[27].sortActive?t[27].sortColor:"#aaa"),icon:xt}});function a(){return t[13](t[27])}return{c(){e=L("button"),oe(r.$$.fragment)},l(l){e=U(l,"BUTTON",{});var d=Y(e);le(r.$$.fragment,d),d.forEach(z)},m(l,d){R(l,e,d),se(r,e,null),n=!0,i||(o=_e(e,"click",a),i=!0)},p(l,d){t=l;const f={};d[0]&8&&(f.style="color: "+(t[27].sortActive?t[27].sortColor:"#aaa")),r.$set(f)},i(l){n||(X(r.$$.fragment,l),n=!0)},o(l){F(r.$$.fragment,l),n=!1},d(l){l&&z(e),ue(r),i=!1,o()}}}function Ze(t){let e,r,n,i=t[27].title+"",o,a,l,d,f,v=t[27].sort=="ascending"&&Qe(t),b=t[27].sort=="descending"&&We(t);return{c(){e=L("th"),r=L("div"),n=L("span"),o=K(i),a=K(` \xA0
            `),v&&v.c(),l=q(),b&&b.c(),d=q(),this.h()},l(c){e=U(c,"TH",{scope:!0,class:!0});var p=Y(e);r=U(p,"DIV",{class:!0});var x=Y(r);n=U(x,"SPAN",{});var m=Y(n);o=Q(m,i),m.forEach(z),a=Q(x,` \xA0
            `),v&&v.l(x),l=J(x),b&&b.l(x),x.forEach(z),d=J(p),p.forEach(z),this.h()},h(){V(r,"class","flex"),V(e,"scope","col"),V(e,"class","text-sm font-medium text-white px-6 py-4 text-left")},m(c,p){R(c,e,p),S(e,r),S(r,n),S(n,o),S(r,a),v&&v.m(r,null),S(r,l),b&&b.m(r,null),S(e,d),f=!0},p(c,p){(!f||p[0]&8)&&i!==(i=c[27].title+"")&&be(o,i),c[27].sort=="ascending"?v?(v.p(c,p),p[0]&8&&X(v,1)):(v=Qe(c),v.c(),X(v,1),v.m(r,l)):v&&(he(),F(v,1,1,()=>{v=null}),ge()),c[27].sort=="descending"?b?(b.p(c,p),p[0]&8&&X(b,1)):(b=We(c),b.c(),X(b,1),b.m(r,null)):b&&(he(),F(b,1,1,()=>{b=null}),ge())},i(c){f||(X(v),X(b),f=!0)},o(c){F(v),F(b),f=!1},d(c){c&&z(e),v&&v.d(),b&&b.d()}}}function et(t){let e,r,n=t[3],i=[];for(let o=0;o<n.length;o+=1)i[o]=tt(Je(t,n,o));return{c(){e=L("tr");for(let o=0;o<i.length;o+=1)i[o].c();r=q(),this.h()},l(o){e=U(o,"TR",{class:!0});var a=Y(e);for(let l=0;l<i.length;l+=1)i[l].l(a);r=J(a),a.forEach(z),this.h()},h(){V(e,"class","border-b hover:bg-gray-100")},m(o,a){R(o,e,a);for(let l=0;l<i.length;l+=1)i[l].m(e,null);S(e,r)},p(o,a){if(a[0]&9){n=o[3];let l;for(l=0;l<n.length;l+=1){const d=Je(o,n,l);i[l]?i[l].p(d,a):(i[l]=tt(d),i[l].c(),i[l].m(e,r))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(o){o&&z(e),vt(i,o)}}}function tt(t){let e,r=t[24][t[27].field]+"",n;return{c(){e=L("td"),n=K(r),this.h()},l(i){e=U(i,"TD",{class:!0});var o=Y(e);n=Q(o,r),o.forEach(z),this.h()},h(){V(e,"class","px-6 py-4 whitespace text-sm font-medium text-gray-900")},m(i,o){R(i,e,o),S(e,n)},p(i,o){o[0]&9&&r!==(r=i[24][i[27].field]+"")&&be(n,r)},d(i){i&&z(e)}}}function nt(t,e){let r,n,i=e[26]>=e[5]*e[8]&&e[26]<(e[5]+1)*e[8]&&et(e);return{key:t,first:null,c(){r=Ne(),i&&i.c(),n=Ne(),this.h()},l(o){r=Ne(),i&&i.l(o),n=Ne(),this.h()},h(){this.first=r},m(o,a){R(o,r,a),i&&i.m(o,a),R(o,n,a)},p(o,a){e=o,e[26]>=e[5]*e[8]&&e[26]<(e[5]+1)*e[8]?i?i.p(e,a):(i=et(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){o&&z(r),i&&i.d(o),o&&z(n)}}}function rt(t){let e,r,n=t[2]*t[5]+1+"",i,o,a=Math.min(t[2]*(t[5]+1),t[0].length)+"",l,d,f=t[0].length+"",v,b,c,p,x,m,y,_,E,j,h,T,$,k,w,D,g,A,C,O,s,I,u,M,B;return j=new Ee({props:{icon:Ue}}),{c(){e=L("span"),r=K("Showing "),i=K(n),o=K(" to "),l=K(a),d=K(` of
        `),v=K(f),b=K(" rows with"),c=q(),p=L("div"),x=L("button"),m=K(t[2]),y=q(),_=L("span"),E=q(),oe(j.$$.fragment),h=q(),T=L("ul"),$=L("li"),k=L("button"),w=K("10"),D=q(),g=L("li"),A=L("button"),C=K("25"),O=q(),s=L("span"),I=K("rows per page."),this.h()},l(N){e=U(N,"SPAN",{class:!0});var P=Y(e);r=Q(P,"Showing "),i=Q(P,n),o=Q(P," to "),l=Q(P,a),d=Q(P,` of
        `),v=Q(P,f),b=Q(P," rows with"),P.forEach(z),c=J(N),p=U(N,"DIV",{class:!0});var H=Y(p);x=U(H,"BUTTON",{class:!0,type:!0,id:!0,"data-bs-toggle":!0,"aria-expanded":!0});var G=Y(x);m=Q(G,t[2]),y=J(G),_=U(G,"SPAN",{class:!0}),Y(_).forEach(z),E=J(G),le(j.$$.fragment,G),G.forEach(z),h=J(H),T=U(H,"UL",{class:!0});var ee=Y(T);$=U(ee,"LI",{});var W=Y($);k=U(W,"BUTTON",{class:!0});var te=Y(k);w=Q(te,"10"),te.forEach(z),W.forEach(z),D=J(ee),g=U(ee,"LI",{});var ne=Y(g);A=U(ne,"BUTTON",{class:!0});var Z=Y(A);C=Q(Z,"25"),Z.forEach(z),ne.forEach(z),ee.forEach(z),H.forEach(z),O=J(N),s=U(N,"SPAN",{class:!0});var fe=Y(s);I=Q(fe,"rows per page."),fe.forEach(z),this.h()},h(){V(e,"class","px-2 py-3"),V(_,"class","px-1"),V(x,"class","dropdown-toggle px-2 py-3 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg active:text-white transition duration-150 ease-in-out flex items-center whitespace-nowrap "),V(x,"type","button"),V(x,"id","dropdownMenuButton1"),V(x,"data-bs-toggle","dropdown"),V(x,"aria-expanded","false"),V(k,"class","dropdown-item text-sm py-2.5 px-6 font-normal block w-full whitespace-nowrap bg-transparent text-gray-700 hover:bg-gray-100 "),V(A,"class","dropdown-item text-sm py-2.5 px-6 font-normal block w-full whitespace-nowrap bg-transparent text-gray-700 hover:bg-gray-100 "),V(T,"class","dropdown-menu min-w-max absolute bg-white text-base z-50 float-left py-3 list-none text-left rounded-lg shadow-lg mt-1 hidden m-0 bg-clip-padding border-none "),V(p,"class","dropdown relative"),V(s,"class","px-2 py-3")},m(N,P){R(N,e,P),S(e,r),S(e,i),S(e,o),S(e,l),S(e,d),S(e,v),S(e,b),R(N,c,P),R(N,p,P),S(p,x),S(x,m),S(x,y),S(x,_),S(x,E),se(j,x,null),S(p,h),S(p,T),S(T,$),S($,k),S(k,w),S(T,D),S(T,g),S(g,A),S(A,C),R(N,O,P),R(N,s,P),S(s,I),u=!0,M||(B=[_e(k,"click",t[14]),_e(A,"click",t[15])],M=!0)},p(N,P){(!u||P[0]&36)&&n!==(n=N[2]*N[5]+1+"")&&be(i,n),(!u||P[0]&37)&&a!==(a=Math.min(N[2]*(N[5]+1),N[0].length)+"")&&be(l,a),(!u||P[0]&1)&&f!==(f=N[0].length+"")&&be(v,f),(!u||P[0]&4)&&be(m,N[2])},i(N){u||(X(j.$$.fragment,N),u=!0)},o(N){F(j.$$.fragment,N),u=!1},d(N){N&&z(e),N&&z(c),N&&z(p),ue(j),N&&z(O),N&&z(s),M=!1,bt(B)}}}function it(t){let e,r,n,i,o,a,l,d,f=[],v=new Map,b,c,p,x,m,y,_,E,j,h=t[4];const T=$=>$[21];for(let $=0;$<h.length;$+=1){let k=Ge(t,h,$),w=T(k);v.set(w,f[$]=at(w,k))}return{c(){e=L("ul"),r=L("li"),n=L("button"),i=L("span"),o=K("\xAB"),d=q();for(let $=0;$<f.length;$+=1)f[$].c();b=q(),c=L("li"),p=L("button"),x=L("span"),m=K("\xBB"),this.h()},l($){e=U($,"UL",{class:!0});var k=Y(e);r=U(k,"LI",{class:!0});var w=Y(r);n=U(w,"BUTTON",{class:!0,"aria-label":!0});var D=Y(n);i=U(D,"SPAN",{"aria-hidden":!0});var g=Y(i);o=Q(g,"\xAB"),g.forEach(z),D.forEach(z),w.forEach(z),d=J(k);for(let s=0;s<f.length;s+=1)f[s].l(k);b=J(k),c=U(k,"LI",{class:!0});var A=Y(c);p=U(A,"BUTTON",{class:!0,"aria-label":!0});var C=Y(p);x=U(C,"SPAN",{"aria-hidden":!0});var O=Y(x);m=Q(O,"\xBB"),O.forEach(z),C.forEach(z),A.forEach(z),k.forEach(z),this.h()},h(){V(i,"aria-hidden","true"),V(n,"class",a="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+(t[7]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200")),V(n,"aria-label","Previous"),V(r,"class",l="page-item "+(t[7]?"disabled":"")),V(x,"aria-hidden","true"),V(p,"class",y="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+(t[6]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200")),V(p,"aria-label","Next"),V(c,"class",_="page-item "+(t[6]?"disabled":"")),V(e,"class","flex list-style-none")},m($,k){R($,e,k),S(e,r),S(r,n),S(n,i),S(i,o),S(e,d);for(let w=0;w<f.length;w+=1)f[w].m(e,null);S(e,b),S(e,c),S(c,p),S(p,x),S(x,m),E||(j=[_e(n,"click",t[16]),_e(p,"click",t[18])],E=!0)},p($,k){k[0]&128&&a!==(a="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+($[7]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200"))&&V(n,"class",a),k[0]&128&&l!==(l="page-item "+($[7]?"disabled":""))&&V(r,"class",l),k[0]&528&&(h=$[4],f=yt(f,k,T,1,$,h,v,e,wt,at,b,Ge)),k[0]&64&&y!==(y="page-link relative block py-1.5 px-3 rounded border-0 bg-transparent outline-none text-gray-800 focus:shadow-none "+($[6]?"pointer-events-none":"hover:text-gray-800 hover:bg-gray-200"))&&V(p,"class",y),k[0]&64&&_!==(_="page-item "+($[6]?"disabled":""))&&V(c,"class",_)},d($){$&&z(e);for(let k=0;k<f.length;k+=1)f[k].d();E=!1,bt(j)}}}function at(t,e){let r,n,i=e[21].number+"",o,a,l,d,f;function v(...b){return e[17](e[21],...b)}return{key:t,first:null,c(){r=L("li"),n=L("button"),o=K(i),this.h()},l(b){r=U(b,"LI",{class:!0});var c=Y(r);n=U(c,"BUTTON",{class:!0});var p=Y(n);o=Q(p,i),p.forEach(z),c.forEach(z),this.h()},h(){V(n,"class",a="page-link relative block py-1.5 px-3 border-0 outline-none rounded "+(e[21].active?"bg-blue-600 text-white hover:text-white hover:bg-blue-600 shadow-md focus:shadow-md":"bg-transparent text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none")),V(r,"class",l="page-item "+(e[21].active?"active":"")),this.first=r},m(b,c){R(b,r,c),S(r,n),S(n,o),d||(f=_e(n,"click",v),d=!0)},p(b,c){e=b,c[0]&16&&i!==(i=e[21].number+"")&&be(o,i),c[0]&16&&a!==(a="page-link relative block py-1.5 px-3 border-0 outline-none rounded "+(e[21].active?"bg-blue-600 text-white hover:text-white hover:bg-blue-600 shadow-md focus:shadow-md":"bg-transparent text-gray-800 hover:text-gray-800 hover:bg-gray-200 focus:shadow-none"))&&V(n,"class",a),c[0]&16&&l!==(l="page-item "+(e[21].active?"active":""))&&V(r,"class",l)},d(b){b&&z(r),d=!1,f()}}}function Yt(t){let e,r,n,i,o,a,l,d,f,v,b,c=[],p=new Map,x,m,y,_,E,j,h,T;const $=[Ut,Lt],k=[];function w(u,M){return u[1]?0:1}i=w(t),o=k[i]=$[i](t);let D=t[3],g=[];for(let u=0;u<D.length;u+=1)g[u]=Ze(Ke(t,D,u));const A=u=>F(g[u],1,1,()=>{g[u]=null});let C=t[0];const O=u=>u[24];for(let u=0;u<C.length;u+=1){let M=qe(t,C,u),B=O(M);p.set(B,c[u]=nt(B,M))}let s=!t[1]&&rt(t),I=!t[1]&&it(t);return{c(){e=L("div"),r=L("div"),n=L("button"),o.c(),a=q(),l=L("table"),d=L("thead"),f=L("tr");for(let u=0;u<g.length;u+=1)g[u].c();v=q(),b=L("tbody");for(let u=0;u<c.length;u+=1)c[u].c();x=q(),m=L("div"),y=L("div"),s&&s.c(),_=q(),E=L("nav"),I&&I.c(),this.h()},l(u){e=U(u,"DIV",{class:!0});var M=Y(e);r=U(M,"DIV",{class:!0});var B=Y(r);n=U(B,"BUTTON",{type:!0,class:!0});var N=Y(n);o.l(N),N.forEach(z),B.forEach(z),M.forEach(z),a=J(u),l=U(u,"TABLE",{class:!0});var P=Y(l);d=U(P,"THEAD",{class:!0});var H=Y(d);f=U(H,"TR",{});var G=Y(f);for(let Z=0;Z<g.length;Z+=1)g[Z].l(G);G.forEach(z),H.forEach(z),v=J(P),b=U(P,"TBODY",{});var ee=Y(b);for(let Z=0;Z<c.length;Z+=1)c[Z].l(ee);ee.forEach(z),P.forEach(z),x=J(u),m=U(u,"DIV",{class:!0});var W=Y(m);y=U(W,"DIV",{class:!0});var te=Y(y);s&&s.l(te),te.forEach(z),_=J(W),E=U(W,"NAV",{"aria-label":!0});var ne=Y(E);I&&I.l(ne),ne.forEach(z),W.forEach(z),this.h()},h(){V(n,"type","button"),V(n,"class","inline-block px-6 py-1.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg"),V(r,"class","flex w-full justify-between"),V(e,"class","flex w-full flex-col my-2"),V(d,"class","border-b bg-gray-800"),V(l,"class","table-auto w-full"),V(y,"class","flex justify-center"),V(E,"aria-label","Page navigation example"),V(m,"class","flex w-full justify-between mb-12")},m(u,M){R(u,e,M),S(e,r),S(r,n),k[i].m(n,null),R(u,a,M),R(u,l,M),S(l,d),S(d,f);for(let B=0;B<g.length;B+=1)g[B].m(f,null);S(l,v),S(l,b);for(let B=0;B<c.length;B+=1)c[B].m(b,null);R(u,x,M),R(u,m,M),S(m,y),s&&s.m(y,null),S(m,_),S(m,E),I&&I.m(E,null),j=!0,h||(T=_e(n,"click",t[11]),h=!0)},p(u,M){let B=i;if(i=w(u),i===B?k[i].p(u,M):(he(),F(k[B],1,1,()=>{k[B]=null}),ge(),o=k[i],o?o.p(u,M):(o=k[i]=$[i](u),o.c()),X(o,1),o.m(n,null)),M[0]&1032){D=u[3];let N;for(N=0;N<D.length;N+=1){const P=Ke(u,D,N);g[N]?(g[N].p(P,M),X(g[N],1)):(g[N]=Ze(P),g[N].c(),X(g[N],1),g[N].m(f,null))}for(he(),N=D.length;N<g.length;N+=1)A(N);ge()}M[0]&297&&(C=u[0],c=yt(c,M,O,1,u,C,p,b,wt,nt,null,qe)),u[1]?s&&(he(),F(s,1,1,()=>{s=null}),ge()):s?(s.p(u,M),M[0]&2&&X(s,1)):(s=rt(u),s.c(),X(s,1),s.m(y,null)),u[1]?I&&(I.d(1),I=null):I?I.p(u,M):(I=it(u),I.c(),I.m(E,null))},i(u){if(!j){X(o);for(let M=0;M<D.length;M+=1)X(g[M]);X(s),j=!0}},o(u){F(o),g=g.filter(Boolean);for(let M=0;M<g.length;M+=1)F(g[M]);F(s),j=!1},d(u){u&&z(e),k[i].d(),u&&z(a),u&&z(l),vt(g,u);for(let M=0;M<c.length;M+=1)c[M].d();u&&z(x),u&&z(m),s&&s.d(),I&&I.d(),h=!1,T()}}}function Xt(t,e,r){let n,i,o,a,l,{data:d=[]}=e,{columns:f=[]}=e,{showAll:v=!1}=e,{N:b=10}=e;function c(w){const D=w?d.length+1:b;var g=[{number:1,active:!0}];for(const[A,C]of d.entries())A%D===0&&A>0&&(g=[...g,{number:A/D+1,active:!1}]);return g}function p(w){for(var D of i)D.number===w?D.active=!0:D.active=!1;r(4,i),r(1,v)}function x(w){for(let D of f)D.title==w.title?(D.sortActive&&(D.sort=D.sort=="ascending"?"descending":"ascending"),D.sortActive=!0):D.sortActive=!1;r(3,f),r(0,d)}function m(w){for(const D of f)if(D.sortActive){D.sort=="ascending"?w.sort((g,A)=>{let C=g[D.sortName],O=A[D.sortName];return C=C=="-"?0:C,O=O=="-"?0:O,C<O?-1:C>O?1:0}):D.sort=="descending"&&w.sort((g,A)=>{let C=g[D.sortName],O=A[D.sortName];return C=C=="-"?0:C,O=O=="-"?0:O,C>O?-1:C<O?1:0});break}return w}const y=w=>r(1,v=!v),_=w=>x(w),E=w=>x(w),j=()=>r(2,b=10),h=()=>r(2,b=25),T=w=>p(1),$=(w,D)=>p(w.number),k=w=>p(i.length);return t.$$set=w=>{"data"in w&&r(0,d=w.data),"columns"in w&&r(3,f=w.columns),"showAll"in w&&r(1,v=w.showAll),"N"in w&&r(2,b=w.N)},t.$$.update=()=>{t.$$.dirty[0]&7&&r(8,n=v?d.length+1:b),t.$$.dirty[0]&2&&r(4,i=c(v)),t.$$.dirty[0]&16&&r(7,o=i.length===1?!0:i[0].active),t.$$.dirty[0]&16&&r(6,a=i.length===1?!0:i.at(-1).active),t.$$.dirty[0]&16&&r(5,l=i.findIndex(w=>w.active)),t.$$.dirty[0]&1&&m(d)},[d,v,b,f,i,l,a,o,n,p,x,y,_,E,j,h,T,$,k]}class ze extends Ie{constructor(e){super(),Se(this,e,Xt,Yt,je,{data:0,columns:3,showAll:1,N:2},null,[-1,-1])}}var Ft=1e-12;function ot(t){return((t=Math.exp(t))+1/t)/2}function Rt(t){return((t=Math.exp(t))-1/t)/2}function Ht(t){return((t=Math.exp(2*t))-1)/(t+1)}var Gt=function t(e,r,n){function i(o,a){var l=o[0],d=o[1],f=o[2],v=a[0],b=a[1],c=a[2],p=v-l,x=b-d,m=p*p+x*x,y,_;if(m<Ft)_=Math.log(c/f)/e,y=function(k){return[l+k*p,d+k*x,f*Math.exp(e*k*_)]};else{var E=Math.sqrt(m),j=(c*c-f*f+n*m)/(2*f*r*E),h=(c*c-f*f-n*m)/(2*c*r*E),T=Math.log(Math.sqrt(j*j+1)-j),$=Math.log(Math.sqrt(h*h+1)-h);_=($-T)/e,y=function(k){var w=k*_,D=ot(T),g=f/(r*E)*(D*Ht(e*w+T)-Rt(T));return[l+g*p,d+g*x,f*D/ot(e*w+T)]}}return y.duration=_*1e3*e/Math.SQRT2,y}return i.rho=function(o){var a=Math.max(.001,+o),l=a*a,d=l*l;return t(a,l,d)},i}(Math.SQRT2,2,4);function qt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function de(t,e){if(t=qt(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Jt(t){return typeof t=="string"?new He([document.querySelectorAll(t)],[document.documentElement]):new He([St(t)],jt)}const Kt={passive:!1},Te={capture:!0,passive:!1};function Be(t){t.stopImmediatePropagation()}function xe(t){t.preventDefault(),t.stopImmediatePropagation()}function kt(t){var e=t.document.documentElement,r=pe(t).on("dragstart.drag",xe,Te);"onselectstart"in e?r.on("selectstart.drag",xe,Te):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $t(t,e){var r=t.document.documentElement,n=pe(t).on("dragstart.drag",null);e&&(n.on("click.drag",xe,Te),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Ae=t=>()=>t;function Le(t,{sourceEvent:e,subject:r,target:n,identifier:i,active:o,x:a,y:l,dx:d,dy:f,dispatch:v}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:v}})}Le.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Qt(t){return!t.ctrlKey&&!t.button}function Wt(){return this.parentNode}function Zt(t,e){return e==null?{x:t.x,y:t.y}:e}function en(){return navigator.maxTouchPoints||"ontouchstart"in this}function tn(){var t=Qt,e=Wt,r=Zt,n=en,i={},o=Ye("start","drag","end"),a=0,l,d,f,v,b=0;function c(h){h.on("mousedown.drag",p).filter(n).on("touchstart.drag",y).on("touchmove.drag",_,Kt).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(h,T){if(!(v||!t.call(this,h,T))){var $=j(this,e.call(this,h,T),h,T,"mouse");!$||(pe(h.view).on("mousemove.drag",x,Te).on("mouseup.drag",m,Te),kt(h.view),Be(h),f=!1,l=h.clientX,d=h.clientY,$("start",h))}}function x(h){if(xe(h),!f){var T=h.clientX-l,$=h.clientY-d;f=T*T+$*$>b}i.mouse("drag",h)}function m(h){pe(h.view).on("mousemove.drag mouseup.drag",null),$t(h.view,f),xe(h),i.mouse("end",h)}function y(h,T){if(!!t.call(this,h,T)){var $=h.changedTouches,k=e.call(this,h,T),w=$.length,D,g;for(D=0;D<w;++D)(g=j(this,k,h,T,$[D].identifier,$[D]))&&(Be(h),g("start",h,$[D]))}}function _(h){var T=h.changedTouches,$=T.length,k,w;for(k=0;k<$;++k)(w=i[T[k].identifier])&&(xe(h),w("drag",h,T[k]))}function E(h){var T=h.changedTouches,$=T.length,k,w;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),k=0;k<$;++k)(w=i[T[k].identifier])&&(Be(h),w("end",h,T[k]))}function j(h,T,$,k,w,D){var g=o.copy(),A=de(D||$,T),C,O,s;if((s=r.call(h,new Le("beforestart",{sourceEvent:$,target:c,identifier:w,active:a,x:A[0],y:A[1],dx:0,dy:0,dispatch:g}),k))!=null)return C=s.x-A[0]||0,O=s.y-A[1]||0,function I(u,M,B){var N=A,P;switch(u){case"start":i[w]=I,P=a++;break;case"end":delete i[w],--a;case"drag":A=de(B||M,T),P=a;break}g.call(u,h,new Le(u,{sourceEvent:M,subject:s,target:c,identifier:w,active:P,x:A[0]+C,y:A[1]+O,dx:A[0]-N[0],dy:A[1]-N[1],dispatch:g}),k)}}return c.filter=function(h){return arguments.length?(t=typeof h=="function"?h:Ae(!!h),c):t},c.container=function(h){return arguments.length?(e=typeof h=="function"?h:Ae(h),c):e},c.subject=function(h){return arguments.length?(r=typeof h=="function"?h:Ae(h),c):r},c.touchable=function(h){return arguments.length?(n=typeof h=="function"?h:Ae(!!h),c):n},c.on=function(){var h=o.on.apply(o,arguments);return h===o?c:h},c.clickDistance=function(h){return arguments.length?(b=(h=+h)*h,c):Math.sqrt(b)},c}var De=t=>()=>t;function nn(t,{sourceEvent:e,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Oe(t){t.stopImmediatePropagation()}function ke(t){t.preventDefault(),t.stopImmediatePropagation()}function rn(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function an(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function lt(){return this.__zoom||Xe}function on(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ln(){return navigator.maxTouchPoints||"ontouchstart"in this}function sn(t,e,r){var n=t.invertX(e[0][0])-r[0][0],i=t.invertX(e[1][0])-r[1][0],o=t.invertY(e[0][1])-r[0][1],a=t.invertY(e[1][1])-r[1][1];return t.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function un(){var t=rn,e=an,r=sn,n=on,i=ln,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Gt,f=Ye("start","zoom","end"),v,b,c,p=500,x=150,m=0,y=10;function _(s){s.property("__zoom",lt).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",g).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(s,I,u,M){var B=s.selection?s.selection():s;B.property("__zoom",lt),s!==B?T(s,I,u,M):B.interrupt().each(function(){$(this,arguments).event(M).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},_.scaleBy=function(s,I,u,M){_.scaleTo(s,function(){var B=this.__zoom.k,N=typeof I=="function"?I.apply(this,arguments):I;return B*N},u,M)},_.scaleTo=function(s,I,u,M){_.transform(s,function(){var B=e.apply(this,arguments),N=this.__zoom,P=u==null?h(B):typeof u=="function"?u.apply(this,arguments):u,H=N.invert(P),G=typeof I=="function"?I.apply(this,arguments):I;return r(j(E(N,G),P,H),B,a)},u,M)},_.translateBy=function(s,I,u,M){_.transform(s,function(){return r(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof u=="function"?u.apply(this,arguments):u),e.apply(this,arguments),a)},null,M)},_.translateTo=function(s,I,u,M,B){_.transform(s,function(){var N=e.apply(this,arguments),P=this.__zoom,H=M==null?h(N):typeof M=="function"?M.apply(this,arguments):M;return r(Xe.translate(H[0],H[1]).scale(P.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof u=="function"?-u.apply(this,arguments):-u),N,a)},M,B)};function E(s,I){return I=Math.max(o[0],Math.min(o[1],I)),I===s.k?s:new Ce(I,s.x,s.y)}function j(s,I,u){var M=I[0]-u[0]*s.k,B=I[1]-u[1]*s.k;return M===s.x&&B===s.y?s:new Ce(s.k,M,B)}function h(s){return[(+s[0][0]+ +s[1][0])/2,(+s[0][1]+ +s[1][1])/2]}function T(s,I,u,M){s.on("start.zoom",function(){$(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(M).end()}).tween("zoom",function(){var B=this,N=arguments,P=$(B,N).event(M),H=e.apply(B,N),G=u==null?h(H):typeof u=="function"?u.apply(B,N):u,ee=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),W=B.__zoom,te=typeof I=="function"?I.apply(B,N):I,ne=d(W.invert(G).concat(ee/W.k),te.invert(G).concat(ee/te.k));return function(Z){if(Z===1)Z=te;else{var fe=ne(Z),Pe=ee/fe[2];Z=new Ce(Pe,G[0]-fe[0]*Pe,G[1]-fe[1]*Pe)}P.zoom(null,Z)}})}function $(s,I,u){return!u&&s.__zooming||new k(s,I)}function k(s,I){this.that=s,this.args=I,this.active=0,this.sourceEvent=null,this.extent=e.apply(s,I),this.taps=0}k.prototype={event:function(s){return s&&(this.sourceEvent=s),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(s,I){return this.mouse&&s!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&s!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&s!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(s){var I=pe(this.that).datum();f.call(s,this.that,new nn(s,{sourceEvent:this.sourceEvent,target:_,type:s,transform:this.that.__zoom,dispatch:f}),I)}};function w(s,...I){if(!t.apply(this,arguments))return;var u=$(this,I).event(s),M=this.__zoom,B=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,n.apply(this,arguments)))),N=de(s);if(u.wheel)(u.mouse[0][0]!==N[0]||u.mouse[0][1]!==N[1])&&(u.mouse[1]=M.invert(u.mouse[0]=N)),clearTimeout(u.wheel);else{if(M.k===B)return;u.mouse=[N,M.invert(N)],Ve(this),u.start()}ke(s),u.wheel=setTimeout(P,x),u.zoom("mouse",r(j(E(M,B),u.mouse[0],u.mouse[1]),u.extent,a));function P(){u.wheel=null,u.end()}}function D(s,...I){if(c||!t.apply(this,arguments))return;var u=s.currentTarget,M=$(this,I,!0).event(s),B=pe(s.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",ee,!0),N=de(s,u),P=s.clientX,H=s.clientY;kt(s.view),Oe(s),M.mouse=[N,this.__zoom.invert(N)],Ve(this),M.start();function G(W){if(ke(W),!M.moved){var te=W.clientX-P,ne=W.clientY-H;M.moved=te*te+ne*ne>m}M.event(W).zoom("mouse",r(j(M.that.__zoom,M.mouse[0]=de(W,u),M.mouse[1]),M.extent,a))}function ee(W){B.on("mousemove.zoom mouseup.zoom",null),$t(W.view,M.moved),ke(W),M.event(W).end()}}function g(s,...I){if(!!t.apply(this,arguments)){var u=this.__zoom,M=de(s.changedTouches?s.changedTouches[0]:s,this),B=u.invert(M),N=u.k*(s.shiftKey?.5:2),P=r(j(E(u,N),M,B),e.apply(this,I),a);ke(s),l>0?pe(this).transition().duration(l).call(T,P,M,s):pe(this).call(_.transform,P,M,s)}}function A(s,...I){if(!!t.apply(this,arguments)){var u=s.touches,M=u.length,B=$(this,I,s.changedTouches.length===M).event(s),N,P,H,G;for(Oe(s),P=0;P<M;++P)H=u[P],G=de(H,this),G=[G,this.__zoom.invert(G),H.identifier],B.touch0?!B.touch1&&B.touch0[2]!==G[2]&&(B.touch1=G,B.taps=0):(B.touch0=G,N=!0,B.taps=1+!!v);v&&(v=clearTimeout(v)),N&&(B.taps<2&&(b=G[0],v=setTimeout(function(){v=null},p)),Ve(this),B.start())}}function C(s,...I){if(!!this.__zooming){var u=$(this,I).event(s),M=s.changedTouches,B=M.length,N,P,H,G;for(ke(s),N=0;N<B;++N)P=M[N],H=de(P,this),u.touch0&&u.touch0[2]===P.identifier?u.touch0[0]=H:u.touch1&&u.touch1[2]===P.identifier&&(u.touch1[0]=H);if(P=u.that.__zoom,u.touch1){var ee=u.touch0[0],W=u.touch0[1],te=u.touch1[0],ne=u.touch1[1],Z=(Z=te[0]-ee[0])*Z+(Z=te[1]-ee[1])*Z,fe=(fe=ne[0]-W[0])*fe+(fe=ne[1]-W[1])*fe;P=E(P,Math.sqrt(Z/fe)),H=[(ee[0]+te[0])/2,(ee[1]+te[1])/2],G=[(W[0]+ne[0])/2,(W[1]+ne[1])/2]}else if(u.touch0)H=u.touch0[0],G=u.touch0[1];else return;u.zoom("touch",r(j(P,H,G),u.extent,a))}}function O(s,...I){if(!!this.__zooming){var u=$(this,I).event(s),M=s.changedTouches,B=M.length,N,P;for(Oe(s),c&&clearTimeout(c),c=setTimeout(function(){c=null},p),N=0;N<B;++N)P=M[N],u.touch0&&u.touch0[2]===P.identifier?delete u.touch0:u.touch1&&u.touch1[2]===P.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),u.taps===2&&(P=de(P,this),Math.hypot(b[0]-P[0],b[1]-P[1])<y)){var H=pe(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return _.wheelDelta=function(s){return arguments.length?(n=typeof s=="function"?s:De(+s),_):n},_.filter=function(s){return arguments.length?(t=typeof s=="function"?s:De(!!s),_):t},_.touchable=function(s){return arguments.length?(i=typeof s=="function"?s:De(!!s),_):i},_.extent=function(s){return arguments.length?(e=typeof s=="function"?s:De([[+s[0][0],+s[0][1]],[+s[1][0],+s[1][1]]]),_):e},_.scaleExtent=function(s){return arguments.length?(o[0]=+s[0],o[1]=+s[1],_):[o[0],o[1]]},_.translateExtent=function(s){return arguments.length?(a[0][0]=+s[0][0],a[1][0]=+s[1][0],a[0][1]=+s[0][1],a[1][1]=+s[1][1],_):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},_.constrain=function(s){return arguments.length?(r=s,_):r},_.duration=function(s){return arguments.length?(l=+s,_):l},_.interpolate=function(s){return arguments.length?(d=s,_):d},_.on=function(){var s=f.on.apply(f,arguments);return s===f?_:s},_.clickDistance=function(s){return arguments.length?(m=(s=+s)*s,_):Math.sqrt(m)},_.tapDistance=function(s){return arguments.length?(y=+s,_):y},_}var fn=Pt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function cn(t,e){var r,n=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=r.length,l,d=0,f=0;for(o=0;o<a;++o)l=r[o],d+=l.x,f+=l.y;for(d=(d/a-t)*n,f=(f/a-e)*n,o=0;o<a;++o)l=r[o],l.x-=d,l.y-=f}return i.initialize=function(o){r=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(n=+o,i):n},i}function hn(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return Mt(this.cover(e,r),e,r,t)}function Mt(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,o=t._root,a={data:n},l=t._x0,d=t._y0,f=t._x1,v=t._y1,b,c,p,x,m,y,_,E;if(!o)return t._root=a,t;for(;o.length;)if((m=e>=(b=(l+f)/2))?l=b:f=b,(y=r>=(c=(d+v)/2))?d=c:v=c,i=o,!(o=o[_=y<<1|m]))return i[_]=a,t;if(p=+t._x.call(null,o.data),x=+t._y.call(null,o.data),e===p&&r===x)return a.next=o,i?i[_]=a:t._root=a,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(m=e>=(b=(l+f)/2))?l=b:f=b,(y=r>=(c=(d+v)/2))?d=c:v=c;while((_=y<<1|m)===(E=(x>=c)<<1|p>=b));return i[E]=o,i[_]=a,t}function gn(t){var e,r,n=t.length,i,o,a=new Array(n),l=new Array(n),d=1/0,f=1/0,v=-1/0,b=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,e=t[r]))||isNaN(o=+this._y.call(null,e))||(a[r]=i,l[r]=o,i<d&&(d=i),i>v&&(v=i),o<f&&(f=o),o>b&&(b=o));if(d>v||f>b)return this;for(this.cover(d,f).cover(v,b),r=0;r<n;++r)Mt(this,a[r],l[r],t[r]);return this}function mn(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,o=(n=Math.floor(e))+1;else{for(var a=i-r||1,l=this._root,d,f;r>t||t>=i||n>e||e>=o;)switch(f=(e<n)<<1|t<r,d=new Array(4),d[f]=l,l=d,a*=2,f){case 0:i=r+a,o=n+a;break;case 1:r=i-a,o=n+a;break;case 2:i=r+a,n=o-a;break;case 3:r=i-a,n=o-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this}function dn(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function pn(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ie(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function _n(t,e,r){var n,i=this._x0,o=this._y0,a,l,d,f,v=this._x1,b=this._y1,c=[],p=this._root,x,m;for(p&&c.push(new ie(p,i,o,v,b)),r==null?r=1/0:(i=t-r,o=e-r,v=t+r,b=e+r,r*=r);x=c.pop();)if(!(!(p=x.node)||(a=x.x0)>v||(l=x.y0)>b||(d=x.x1)<i||(f=x.y1)<o))if(p.length){var y=(a+d)/2,_=(l+f)/2;c.push(new ie(p[3],y,_,d,f),new ie(p[2],a,_,y,f),new ie(p[1],y,l,d,_),new ie(p[0],a,l,y,_)),(m=(e>=_)<<1|t>=y)&&(x=c[c.length-1],c[c.length-1]=c[c.length-1-m],c[c.length-1-m]=x)}else{var E=t-+this._x.call(null,p.data),j=e-+this._y.call(null,p.data),h=E*E+j*j;if(h<r){var T=Math.sqrt(r=h);i=t-T,o=e-T,v=t+T,b=e+T,n=p.data}}return n}function vn(t){if(isNaN(v=+this._x.call(null,t))||isNaN(b=+this._y.call(null,t)))return this;var e,r=this._root,n,i,o,a=this._x0,l=this._y0,d=this._x1,f=this._y1,v,b,c,p,x,m,y,_;if(!r)return this;if(r.length)for(;;){if((x=v>=(c=(a+d)/2))?a=c:d=c,(m=b>=(p=(l+f)/2))?l=p:f=p,e=r,!(r=r[y=m<<1|x]))return this;if(!r.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(n=e,_=y)}for(;r.data!==t;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):e?(o?e[y]=o:delete e[y],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(n?n[_]=r:this._root=r),this):(this._root=o,this)}function bn(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function yn(){return this._root}function wn(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function xn(t){var e=[],r,n=this._root,i,o,a,l,d;for(n&&e.push(new ie(n,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(n=r.node,o=r.x0,a=r.y0,l=r.x1,d=r.y1)&&n.length){var f=(o+l)/2,v=(a+d)/2;(i=n[3])&&e.push(new ie(i,f,v,l,d)),(i=n[2])&&e.push(new ie(i,o,v,f,d)),(i=n[1])&&e.push(new ie(i,f,a,l,v)),(i=n[0])&&e.push(new ie(i,o,a,f,v))}return this}function kn(t){var e=[],r=[],n;for(this._root&&e.push(new ie(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,l=n.y0,d=n.x1,f=n.y1,v=(a+d)/2,b=(l+f)/2;(o=i[0])&&e.push(new ie(o,a,l,v,b)),(o=i[1])&&e.push(new ie(o,v,l,d,b)),(o=i[2])&&e.push(new ie(o,a,b,v,f)),(o=i[3])&&e.push(new ie(o,v,b,d,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function $n(t){return t[0]}function Mn(t){return arguments.length?(this._x=t,this):this._x}function Tn(t){return t[1]}function En(t){return arguments.length?(this._y=t,this):this._y}function Fe(t,e,r){var n=new Re(e==null?$n:e,r==null?Tn:r,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function Re(t,e,r,n,i,o){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function st(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var ae=Fe.prototype=Re.prototype;ae.copy=function(){var t=new Re(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,n;if(!e)return t;if(!e.length)return t._root=st(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var i=0;i<4;++i)(n=e.source[i])&&(n.length?r.push({source:n,target:e.target[i]=new Array(4)}):e.target[i]=st(n));return t};ae.add=hn;ae.addAll=gn;ae.cover=mn;ae.data=dn;ae.extent=pn;ae.find=_n;ae.remove=vn;ae.removeAll=bn;ae.root=yn;ae.size=wn;ae.visit=xn;ae.visitAfter=kn;ae.x=Mn;ae.y=En;function we(t){return function(){return t}}function ye(t){return(t()-.5)*1e-6}function zn(t){return t.x+t.vx}function Nn(t){return t.y+t.vy}function An(t){var e,r,n,i=1,o=1;typeof t!="function"&&(t=we(t==null?1:+t));function a(){for(var f,v=e.length,b,c,p,x,m,y,_=0;_<o;++_)for(b=Fe(e,zn,Nn).visitAfter(l),f=0;f<v;++f)c=e[f],m=r[c.index],y=m*m,p=c.x+c.vx,x=c.y+c.vy,b.visit(E);function E(j,h,T,$,k){var w=j.data,D=j.r,g=m+D;if(w){if(w.index>c.index){var A=p-w.x-w.vx,C=x-w.y-w.vy,O=A*A+C*C;O<g*g&&(A===0&&(A=ye(n),O+=A*A),C===0&&(C=ye(n),O+=C*C),O=(g-(O=Math.sqrt(O)))/O*i,c.vx+=(A*=O)*(g=(D*=D)/(y+D)),c.vy+=(C*=O)*g,w.vx-=A*(g=1-g),w.vy-=C*g)}return}return h>p+g||$<p-g||T>x+g||k<x-g}}function l(f){if(f.data)return f.r=r[f.data.index];for(var v=f.r=0;v<4;++v)f[v]&&f[v].r>f.r&&(f.r=f[v].r)}function d(){if(!!e){var f,v=e.length,b;for(r=new Array(v),f=0;f<v;++f)b=e[f],r[b.index]=+t(b,f,e)}}return a.initialize=function(f,v){e=f,n=v,d()},a.iterations=function(f){return arguments.length?(o=+f,a):o},a.strength=function(f){return arguments.length?(i=+f,a):i},a.radius=function(f){return arguments.length?(t=typeof f=="function"?f:we(+f),d(),a):t},a}function Dn(t){return t.index}function ut(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function In(t){var e=Dn,r=b,n,i=we(30),o,a,l,d,f,v=1;t==null&&(t=[]);function b(y){return 1/Math.min(l[y.source.index],l[y.target.index])}function c(y){for(var _=0,E=t.length;_<v;++_)for(var j=0,h,T,$,k,w,D,g;j<E;++j)h=t[j],T=h.source,$=h.target,k=$.x+$.vx-T.x-T.vx||ye(f),w=$.y+$.vy-T.y-T.vy||ye(f),D=Math.sqrt(k*k+w*w),D=(D-o[j])/D*y*n[j],k*=D,w*=D,$.vx-=k*(g=d[j]),$.vy-=w*g,T.vx+=k*(g=1-g),T.vy+=w*g}function p(){if(!!a){var y,_=a.length,E=t.length,j=new Map(a.map((T,$)=>[e(T,$,a),T])),h;for(y=0,l=new Array(_);y<E;++y)h=t[y],h.index=y,typeof h.source!="object"&&(h.source=ut(j,h.source)),typeof h.target!="object"&&(h.target=ut(j,h.target)),l[h.source.index]=(l[h.source.index]||0)+1,l[h.target.index]=(l[h.target.index]||0)+1;for(y=0,d=new Array(E);y<E;++y)h=t[y],d[y]=l[h.source.index]/(l[h.source.index]+l[h.target.index]);n=new Array(E),x(),o=new Array(E),m()}}function x(){if(!!a)for(var y=0,_=t.length;y<_;++y)n[y]=+r(t[y],y,t)}function m(){if(!!a)for(var y=0,_=t.length;y<_;++y)o[y]=+i(t[y],y,t)}return c.initialize=function(y,_){a=y,f=_,p()},c.links=function(y){return arguments.length?(t=y,p(),c):t},c.id=function(y){return arguments.length?(e=y,c):e},c.iterations=function(y){return arguments.length?(v=+y,c):v},c.strength=function(y){return arguments.length?(r=typeof y=="function"?y:we(+y),x(),c):r},c.distance=function(y){return arguments.length?(i=typeof y=="function"?y:we(+y),m(),c):i},c}const Sn=1664525,jn=1013904223,ft=4294967296;function Pn(){let t=1;return()=>(t=(Sn*t+jn)%ft)/ft}function Cn(t){return t.x}function Vn(t){return t.y}var Bn=10,On=Math.PI*(3-Math.sqrt(5));function Ln(t){var e,r=1,n=.001,i=1-Math.pow(n,1/300),o=0,a=.6,l=new Map,d=Ct(b),f=Ye("tick","end"),v=Pn();t==null&&(t=[]);function b(){c(),f.call("tick",e),r<n&&(d.stop(),f.call("end",e))}function c(m){var y,_=t.length,E;m===void 0&&(m=1);for(var j=0;j<m;++j)for(r+=(o-r)*i,l.forEach(function(h){h(r)}),y=0;y<_;++y)E=t[y],E.fx==null?E.x+=E.vx*=a:(E.x=E.fx,E.vx=0),E.fy==null?E.y+=E.vy*=a:(E.y=E.fy,E.vy=0);return e}function p(){for(var m=0,y=t.length,_;m<y;++m){if(_=t[m],_.index=m,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var E=Bn*Math.sqrt(.5+m),j=m*On;_.x=E*Math.cos(j),_.y=E*Math.sin(j)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function x(m){return m.initialize&&m.initialize(t,v),m}return p(),e={tick:c,restart:function(){return d.restart(b),e},stop:function(){return d.stop(),e},nodes:function(m){return arguments.length?(t=m,p(),l.forEach(x),e):t},alpha:function(m){return arguments.length?(r=+m,e):r},alphaMin:function(m){return arguments.length?(n=+m,e):n},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(o=+m,e):o},velocityDecay:function(m){return arguments.length?(a=1-m,e):1-a},randomSource:function(m){return arguments.length?(v=m,l.forEach(x),e):v},force:function(m,y){return arguments.length>1?(y==null?l.delete(m):l.set(m,x(y)),e):l.get(m)},find:function(m,y,_){var E=0,j=t.length,h,T,$,k,w;for(_==null?_=1/0:_*=_,E=0;E<j;++E)k=t[E],h=m-k.x,T=y-k.y,$=h*h+T*T,$<_&&(w=k,_=$);return w},on:function(m,y){return arguments.length>1?(f.on(m,y),e):f.on(m)}}}function Un(){var t,e,r,n,i=we(-30),o,a=1,l=1/0,d=.81;function f(p){var x,m=t.length,y=Fe(t,Cn,Vn).visitAfter(b);for(n=p,x=0;x<m;++x)e=t[x],y.visit(c)}function v(){if(!!t){var p,x=t.length,m;for(o=new Array(x),p=0;p<x;++p)m=t[p],o[m.index]=+i(m,p,t)}}function b(p){var x=0,m,y,_=0,E,j,h;if(p.length){for(E=j=h=0;h<4;++h)(m=p[h])&&(y=Math.abs(m.value))&&(x+=m.value,_+=y,E+=y*m.x,j+=y*m.y);p.x=E/_,p.y=j/_}else{m=p,m.x=m.data.x,m.y=m.data.y;do x+=o[m.data.index];while(m=m.next)}p.value=x}function c(p,x,m,y){if(!p.value)return!0;var _=p.x-e.x,E=p.y-e.y,j=y-x,h=_*_+E*E;if(j*j/d<h)return h<l&&(_===0&&(_=ye(r),h+=_*_),E===0&&(E=ye(r),h+=E*E),h<a&&(h=Math.sqrt(a*h)),e.vx+=_*p.value*n/h,e.vy+=E*p.value*n/h),!0;if(p.length||h>=l)return;(p.data!==e||p.next)&&(_===0&&(_=ye(r),h+=_*_),E===0&&(E=ye(r),h+=E*E),h<a&&(h=Math.sqrt(a*h)));do p.data!==e&&(j=o[p.data.index]*n/h,e.vx+=_*j,e.vy+=E*j);while(p=p.next)}return f.initialize=function(p,x){t=p,r=x,v()},f.strength=function(p){return arguments.length?(i=typeof p=="function"?p:we(+p),v(),f):i},f.distanceMin=function(p){return arguments.length?(a=p*p,f):Math.sqrt(a)},f.distanceMax=function(p){return arguments.length?(l=p*p,f):Math.sqrt(l)},f.theta=function(p){return arguments.length?(d=p*p,f):Math.sqrt(d)},f}function Yn(t){let e,r,n,i;return{c(){e=L("div"),r=L("canvas"),this.h()},l(o){e=U(o,"DIV",{class:!0});var a=Y(e);r=U(a,"CANVAS",{width:!0,height:!0,class:!0}),Y(r).forEach(z),a.forEach(z),this.h()},h(){V(r,"width",t[2]),V(r,"height",t[1]),V(r,"class","svelte-zs93ed"),V(e,"class","container")},m(o,a){R(o,e,a),S(e,r),t[8](r),n||(i=_e(window,"resize",t[6]),n=!0)},p(o,[a]){a&4&&V(r,"width",o[2]),a&2&&V(r,"height",o[1])},i:Me,o:Me,d(o){o&&z(e),t[8](null),n=!1,i()}}}const ce=5;function Xn(t,e,r){let n,i,o,a;const{data:l,width:d,height:f}=Tt("LayerCake");$e(t,l,g=>r(7,a=g)),$e(t,d,g=>r(2,o=g)),$e(t,f,g=>r(1,i=g));let v={zoom:un,zoomIdentity:Xe,scaleLinear:Vt,scaleOrdinal:Bt,schemeCategory10:fn,select:pe,selectAll:Jt,pointer:de,drag:tn,forceSimulation:Ln,forceLink:In,forceManyBody:Un,forceCenter:cn,forceCollide:An},b;const c=v.scaleOrdinal(v.schemeCategory10);let p=v.zoomIdentity,x,m;const y=l.subscribe(async g=>{await Et(),_()});zt(()=>{y()});function _(){x&&(x.nodes([]).force("link",v.forceLink([])),x=void 0),m=b.getContext("2d"),x=v.forceSimulation(n.nodes).force("link",v.forceLink(n.links).id(g=>g.name)).force("charge",v.forceManyBody()).force("center",v.forceCenter(o/2,i/2)).on("tick",E),v.select(m.canvas).on("mousemove",g=>{const A=v.pointer(g),C=x.find(p.invertX(A[0]),p.invertY(A[1]),ce);C?m.canvas.title=C.index:m.canvas.title=""}),v.select(b).call(v.drag().container(b).subject(h).on("start",T).on("drag",$).on("end",k)).call(v.zoom().scaleExtent([1/10,8]).on("zoom",j))}function E(){m.save(),m.clearRect(0,0,m.canvas.width,m.canvas.height),m.strokeStyle="#999",m.strokeRect(0,0,o,i),m.translate(p.x,p.y),m.scale(p.k,p.k),n.links.forEach(g=>{if(!(g.source.name=="__broker__"||g.target.name=="__broker__")){m.beginPath();var A=g.target.x-g.source.x,C=g.target.y-g.source.y,O=Math.atan2(C,A),s=ce;m.moveTo(g.source.x,g.source.y),m.lineTo(g.target.x-Math.cos(O)*ce*1.2,g.target.y-Math.sin(O)*ce*1.2),m.lineTo(g.target.x-Math.cos(O)*ce*1.2-s*Math.cos(O-Math.PI/6),g.target.y-Math.sin(O)*ce*1.2-s*Math.sin(O-Math.PI/6)),m.moveTo(g.target.x-Math.cos(O)*ce*1.2,g.target.y-Math.sin(O)*ce*1.2),m.lineTo(g.target.x-Math.cos(O)*ce*1.2-s*Math.cos(O+Math.PI/6),g.target.y-Math.sin(O)*ce*1.2-s*Math.sin(O+Math.PI/6)),m.globalAlpha=.6,m.strokeStyle="#999",m.lineWidth=Math.sqrt(g.value),m.stroke(),m.globalAlpha=1,m.fillStyle="#aaa",m.fillText(g.label,g.target.x-Math.cos(O)*Math.abs(A)/2,g.target.y-Math.sin(O)*Math.abs(C)/2),m.globalAlpha=1}}),n.nodes.forEach((g,A)=>{g.name!="__broker__"&&(m.beginPath(),m.arc(g.x,g.y,ce,0,2*Math.PI),m.strokeStyle="#fff",m.lineWidth=1.5,m.stroke(),m.fillStyle=c(g.group),m.fill(),m.fillText(g.name,g.x+10,g.y+3))}),m.restore()}function j(g){p=g.transform,E()}function h(g){const A=x.find(p.invertX(g.x),p.invertY(g.y),ce);return A&&(A.x=p.applyX(A.x),A.y=p.applyY(A.y)),A}function T(g){g.active||x.alphaTarget(.3).restart(),g.subject.fx=p.invertX(g.subject.x),g.subject.fy=p.invertY(g.subject.y)}function $(g){g.subject.fx=p.invertX(g.x),g.subject.fy=p.invertY(g.y)}function k(g){g.active||x.alphaTarget(0),g.subject.fx=null,g.subject.fy=null}function w(){}function D(g){Nt[g?"unshift":"push"](()=>{b=g,r(0,b)})}return t.$$.update=()=>{t.$$.dirty&128&&(n=a.length==0?{nodes:[],links:[]}:a)},[b,i,o,l,d,f,w,a,D]}class Fn extends Ie{constructor(e){super(),Se(this,e,Xn,Yn,je,{})}}function Rn(t){let e,r;return e=new Fn({}),{c(){oe(e.$$.fragment)},l(n){le(e.$$.fragment,n)},m(n,i){se(e,n,i),r=!0},i(n){r||(X(e.$$.fragment,n),r=!0)},o(n){F(e.$$.fragment,n),r=!1},d(n){ue(e,n)}}}function Hn(t){let e,r,n,i;return n=new Ot({props:{data:t[0],$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){e=L("div"),r=L("div"),oe(n.$$.fragment),this.h()},l(o){e=U(o,"DIV",{class:!0});var a=Y(e);r=U(a,"DIV",{class:!0});var l=Y(r);le(n.$$.fragment,l),l.forEach(z),a.forEach(z),this.h()},h(){V(r,"class","grow grid grid-areas-layout justify-items-stretch my-auto"),V(e,"class","flex flex-col h-[55vh] py-4")},m(o,a){R(o,e,a),S(e,r),se(n,r,null),i=!0},p(o,[a]){const l={};a&1&&(l.data=o[0]),a&4&&(l.$$scope={dirty:a,ctx:o}),n.$set(l)},i(o){i||(X(n.$$.fragment,o),i=!0)},o(o){F(n.$$.fragment,o),i=!1},d(o){o&&z(e),ue(n)}}}function Gn(t,e){let r=[],n=[],i={};r.push({name:"__broker__",group:0});for(const o of e.cores)for(const a of o.federates){a.publications===void 0&&(a.publications=[]);for(const l of a.publications){r.push({name:`${l.federate}-${l.handle}`,federate:a.attributes.name,group:1}),l.targets===void 0&&(l.targets=[]),i[`${l.federate}-${l.handle}`]=l.key;for(const d of l.targets)n.push({source:`${l.federate}-${l.handle}`,target:`${d.federate}-${d.handle}`,label:i[`${l.federate}-${l.handle}`],ignore:!1})}}for(const o of e.cores)for(const a of o.federates){a.inputs===void 0&&(a.inputs=[]);for(const l of a.inputs){r.push({name:`${l.federate}-${l.handle}`,federate:a.attributes.name,group:2}),l.sources===void 0&&(l.sources=[]);for(const d of l.sources)n.push({source:`${d.federate}-${d.handle}`,target:`${l.federate}-${l.handle}`,label:i[`${d.federate}-${d.handle}`],ignore:!1})}}return r=Array.from(new Set(r.map(JSON.stringify))).map(JSON.parse),n=Array.from(new Set(n.map(JSON.stringify))).map(JSON.parse),{nodes:r,links:n}}function qn(t,e,r){let n;$e(t,re,o=>r(1,n=o));let i;return At(()=>{r(0,i=Gn(n.graphs.federate,n.graphs.data))}),[i]}class Jn extends Ie{constructor(e){super(),Se(this,e,qn,Hn,je,{})}}function Kn(t){let e,r;return{c(){e=L("p"),r=K(`Drag 'n' drop a observer generated "helics-cli.sqlite" file here, or click to select a
            "helics-cli.sqlite" file`)},l(n){e=U(n,"P",{});var i=Y(e);r=Q(i,`Drag 'n' drop a observer generated "helics-cli.sqlite" file here, or click to select a
            "helics-cli.sqlite" file`),i.forEach(z)},m(n,i){R(n,e,i),S(e,r)},p:Me,d(n){n&&z(e)}}}function ct(t){let e,r,n=t[0].systeminfo.version.string+"",i;return{c(){e=L("div"),r=K("HELICS Version: "),i=K(n),this.h()},l(o){e=U(o,"DIV",{class:!0});var a=Y(e);r=Q(a,"HELICS Version: "),i=Q(a,n),a.forEach(z),this.h()},h(){V(e,"class","my-4")},m(o,a){R(o,e,a),S(e,r),S(e,i)},p(o,a){a&1&&n!==(n=o[0].systeminfo.version.string+"")&&be(i,n)},d(o){o&&z(e)}}}function ht(t){let e,r,n,i,o;return i=new Jn({}),{c(){e=L("h3"),r=K("Topology"),n=q(),oe(i.$$.fragment),this.h()},l(a){e=U(a,"H3",{class:!0});var l=Y(e);r=Q(l,"Topology"),l.forEach(z),n=J(a),le(i.$$.fragment,a),this.h()},h(){V(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(a,l){R(a,e,l),S(e,r),R(a,n,l),se(i,a,l),o=!0},i(a){o||(X(i.$$.fragment,a),o=!0)},o(a){F(i.$$.fragment,a),o=!1},d(a){a&&z(e),a&&z(n),ue(i,a)}}}function gt(t){let e,r,n,i,o;return i=new ze({props:{data:t[0].cores,columns:t[0].cores_columns}}),{c(){e=L("h3"),r=K("Cores"),n=q(),oe(i.$$.fragment),this.h()},l(a){e=U(a,"H3",{class:!0});var l=Y(e);r=Q(l,"Cores"),l.forEach(z),n=J(a),le(i.$$.fragment,a),this.h()},h(){V(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(a,l){R(a,e,l),S(e,r),R(a,n,l),se(i,a,l),o=!0},p(a,l){const d={};l&1&&(d.data=a[0].cores),l&1&&(d.columns=a[0].cores_columns),i.$set(d)},i(a){o||(X(i.$$.fragment,a),o=!0)},o(a){F(i.$$.fragment,a),o=!1},d(a){a&&z(e),a&&z(n),ue(i,a)}}}function mt(t){let e,r,n,i,o;return i=new ze({props:{data:t[0].federates,columns:t[0].federates_columns}}),{c(){e=L("h3"),r=K("Federates"),n=q(),oe(i.$$.fragment),this.h()},l(a){e=U(a,"H3",{class:!0});var l=Y(e);r=Q(l,"Federates"),l.forEach(z),n=J(a),le(i.$$.fragment,a),this.h()},h(){V(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(a,l){R(a,e,l),S(e,r),R(a,n,l),se(i,a,l),o=!0},p(a,l){const d={};l&1&&(d.data=a[0].federates),l&1&&(d.columns=a[0].federates_columns),i.$set(d)},i(a){o||(X(i.$$.fragment,a),o=!0)},o(a){F(i.$$.fragment,a),o=!1},d(a){a&&z(e),a&&z(n),ue(i,a)}}}function dt(t){let e,r,n,i,o;return i=new ze({props:{data:t[0].publications,columns:t[0].publications_columns}}),{c(){e=L("h3"),r=K("Publications"),n=q(),oe(i.$$.fragment),this.h()},l(a){e=U(a,"H3",{class:!0});var l=Y(e);r=Q(l,"Publications"),l.forEach(z),n=J(a),le(i.$$.fragment,a),this.h()},h(){V(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(a,l){R(a,e,l),S(e,r),R(a,n,l),se(i,a,l),o=!0},p(a,l){const d={};l&1&&(d.data=a[0].publications),l&1&&(d.columns=a[0].publications_columns),i.$set(d)},i(a){o||(X(i.$$.fragment,a),o=!0)},o(a){F(i.$$.fragment,a),o=!1},d(a){a&&z(e),a&&z(n),ue(i,a)}}}function pt(t){let e,r,n,i,o;return i=new ze({props:{data:t[0].inputs,columns:t[0].inputs_columns}}),{c(){e=L("h3"),r=K("Inputs"),n=q(),oe(i.$$.fragment),this.h()},l(a){e=U(a,"H3",{class:!0});var l=Y(e);r=Q(l,"Inputs"),l.forEach(z),n=J(a),le(i.$$.fragment,a),this.h()},h(){V(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(a,l){R(a,e,l),S(e,r),R(a,n,l),se(i,a,l),o=!0},p(a,l){const d={};l&1&&(d.data=a[0].inputs),l&1&&(d.columns=a[0].inputs_columns),i.$set(d)},i(a){o||(X(i.$$.fragment,a),o=!0)},o(a){F(i.$$.fragment,a),o=!1},d(a){a&&z(e),a&&z(n),ue(i,a)}}}function _t(t){let e,r,n,i,o;return i=new ze({props:{data:t[0].table,columns:t[0].table_columns}}),{c(){e=L("h3"),r=K("data"),n=q(),oe(i.$$.fragment),this.h()},l(a){e=U(a,"H3",{class:!0});var l=Y(e);r=Q(l,"data"),l.forEach(z),n=J(a),le(i.$$.fragment,a),this.h()},h(){V(e,"class","font-medium leading-tight text-2xl mt-0 mb-2 text-blue-600")},m(a,l){R(a,e,l),S(e,r),R(a,n,l),se(i,a,l),o=!0},p(a,l){const d={};l&1&&(d.data=a[0].table),l&1&&(d.columns=a[0].table_columns),i.$set(d)},i(a){o||(X(i.$$.fragment,a),o=!0)},o(a){F(i.$$.fragment,a),o=!1},d(a){a&&z(e),a&&z(n),ue(i,a)}}}function Qn(t){let e,r,n,i,o,a,l,d,f,v=Object.keys(t[0].systeminfo).length!=0,b,c,p,x,m,y,_,E,j;o=new Dt({props:{multiple:"false",$$slots:{default:[Kn]},$$scope:{ctx:t}}}),o.$on("drop",t[1]);let h=v&&ct(t),T=t[0].table.length!=0&&ht(),$=t[0].cores.length!=0&&gt(t),k=t[0].federates.length!=0&&mt(t),w=t[0].publications.length!=0&&dt(t),D=t[0].inputs.length!=0&&pt(t),g=t[0].table.length!=0&&_t(t);return{c(){e=L("div"),r=L("div"),n=L("div"),i=L("div"),oe(o.$$.fragment),a=q(),l=L("button"),d=K("Clear"),f=q(),h&&h.c(),b=q(),T&&T.c(),c=q(),$&&$.c(),p=q(),k&&k.c(),x=q(),w&&w.c(),m=q(),D&&D.c(),y=q(),g&&g.c(),this.h()},l(A){e=U(A,"DIV",{class:!0});var C=Y(e);r=U(C,"DIV",{class:!0});var O=Y(r);n=U(O,"DIV",{class:!0});var s=Y(n);i=U(s,"DIV",{class:!0});var I=Y(i);le(o.$$.fragment,I),a=J(I),l=U(I,"BUTTON",{type:!0,class:!0});var u=Y(l);d=Q(u,"Clear"),u.forEach(z),I.forEach(z),f=J(s),h&&h.l(s),b=J(s),T&&T.l(s),c=J(s),$&&$.l(s),p=J(s),k&&k.l(s),x=J(s),w&&w.l(s),m=J(s),D&&D.l(s),y=J(s),g&&g.l(s),s.forEach(z),O.forEach(z),C.forEach(z),this.h()},h(){V(l,"type","button"),V(l,"class","inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"),V(i,"class","flex space-x-4"),V(n,"class","py-2 inline-block w-full sm:px-6 lg:px-8"),V(r,"class","overflow-x-auto sm:-mx-6 lg:-mx-8"),V(e,"class","flex w-7/8 flex-col mt-6 mx-8")},m(A,C){R(A,e,C),S(e,r),S(r,n),S(n,i),se(o,i,null),S(i,a),S(i,l),S(l,d),S(n,f),h&&h.m(n,null),S(n,b),T&&T.m(n,null),S(n,c),$&&$.m(n,null),S(n,p),k&&k.m(n,null),S(n,x),w&&w.m(n,null),S(n,m),D&&D.m(n,null),S(n,y),g&&g.m(n,null),_=!0,E||(j=_e(l,"click",t[2]),E=!0)},p(A,[C]){const O={};C&256&&(O.$$scope={dirty:C,ctx:A}),o.$set(O),C&1&&(v=Object.keys(A[0].systeminfo).length!=0),v?h?h.p(A,C):(h=ct(A),h.c(),h.m(n,b)):h&&(h.d(1),h=null),A[0].table.length!=0?T?C&1&&X(T,1):(T=ht(),T.c(),X(T,1),T.m(n,c)):T&&(he(),F(T,1,1,()=>{T=null}),ge()),A[0].cores.length!=0?$?($.p(A,C),C&1&&X($,1)):($=gt(A),$.c(),X($,1),$.m(n,p)):$&&(he(),F($,1,1,()=>{$=null}),ge()),A[0].federates.length!=0?k?(k.p(A,C),C&1&&X(k,1)):(k=mt(A),k.c(),X(k,1),k.m(n,x)):k&&(he(),F(k,1,1,()=>{k=null}),ge()),A[0].publications.length!=0?w?(w.p(A,C),C&1&&X(w,1)):(w=dt(A),w.c(),X(w,1),w.m(n,m)):w&&(he(),F(w,1,1,()=>{w=null}),ge()),A[0].inputs.length!=0?D?(D.p(A,C),C&1&&X(D,1)):(D=pt(A),D.c(),X(D,1),D.m(n,y)):D&&(he(),F(D,1,1,()=>{D=null}),ge()),A[0].table.length!=0?g?(g.p(A,C),C&1&&X(g,1)):(g=_t(A),g.c(),X(g,1),g.m(n,null)):g&&(he(),F(g,1,1,()=>{g=null}),ge())},i(A){_||(X(o.$$.fragment,A),X(T),X($),X(k),X(w),X(D),X(g),_=!0)},o(A){F(o.$$.fragment,A),F(T),F($),F(k),F(w),F(D),F(g),_=!1},d(A){A&&z(e),ue(o),h&&h.d(),T&&T.d(),$&&$.d(),k&&k.d(),w&&w.d(),D&&D.d(),g&&g.d(),E=!1,j()}}}const ve="http://127.0.0.1:5000/api/observer";function Wn(t,e,r){let n;$e(t,re,v=>r(0,n=v));function i(v){for(const b of n.cores)if(b.id==v)return b.name}function o(v){for(const b of n.federates)if(b.id==v)return b.name}async function a(){me(re,n.systeminfo=await(await fetch(`${ve}/systeminfo`)).json(),n),me(re,n.cores=await(await fetch(`${ve}/cores`)).json(),n),me(re,n.federates=await(await fetch(`${ve}/federates`)).json(),n),n.federates.map(c=>c.core_name=i(c.parent)),re.set(n),me(re,n.graphs=await(await fetch(`${ve}/graphs`)).json(),n),me(re,n.publications=await(await fetch(`${ve}/publications`)).json(),n),n.publications.map(c=>{c.source_name=o(c.source),c.target_name=o(c.target)}),re.set(n),me(re,n.inputs=await(await fetch(`${ve}/inputs`)).json(),n),n.inputs.map(c=>{c.source_name=o(c.source),c.target_name=o(c.target)}),re.set(n);function v(c){return c=="id"?"ID":c=="simulation_time"?"Simulation Time":c}me(re,n.table=await(await fetch(`${ve}/data`)).json(),n);const b=[];for(const c of Object.keys(n.table[0]))c!="updated_at"&&b.push({field:c,sortName:c,title:v(c),show:!0,sort:"ascending",sortColor:"#fff",sortActive:!0,text_center:!1});me(re,n.table_columns=b,n)}let l={accepted:[],rejected:[]};async function d(v){const{acceptedFiles:b,fileRejections:c}=v.detail;l.accepted=[...l.accepted,...b],l.rejected=[...l.rejected,...c];var p=new FormData;p.append("file",l.accepted.at(-1)),await fetch(`${ve}/database`,{method:"POST",body:p}),await a()}async function f(v){const b=n.profile;me(re,n=It,n),me(re,n.profile=b,n)}return[n,d,f]}class or extends Ie{constructor(e){super(),Se(this,e,Wn,Qn,je,{})}}export{or as default};
