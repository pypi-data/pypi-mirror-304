import sys
import os
from pycash.side import RRUU

# Ensure the parent directory of pycash is in sys.path
sys.path.append(os.path.abspath(os.path.dirname(__file__)))

class TokenCryptor:
    def encrypt(self, string):
        replacements = {
            'A': '🌼', 'B': '🐾', 'C': '🌈', 'D': '🚀', 'E': '🌍', 'F': '🎉', 'G': '🍕', 'H': '🎨', 'I': '⚡', 'J': '🔑',
            'K': '🥡', 'L': '🌟', 'M': '🌻', 'N': '🐉', 'O': '💧', 'P': '🔔', 'Q': '🦄', 'R': '🌸', 'S': '🏆', 'T': '🛡️',
            'U': '🐬', 'V': '🎈', 'W': '🎵', 'X': '🏮', 'Y': '🔮', 'Z': '🍀', 'a': '🦋', 'b': '🍭', 'c': '🧊', 'd': '🌊',
            'e': '🍇', 'f': '🔥', 'g': '🌿', 'h': '🍂', 'i': '🍔', 'j': '💀', 'k': '🦚', 'l': '🍒', 'm': '🎀', 'n': '🌞',
            'o': '🐢', 'p': '💼', 'q': '🥝', 'r': '🐧', 's': '🥇', 't': '🍉', 'u': '🦦', 'v': '🐷', 'w': '🎂', 'x': '🌴',
            'y': '🌽', 'z': '🧠', '0': '🎳', '1': '🌺', '2': '🏰', '3': '🐠', '4': '🪴', '5': '🍋', '6': '🏈', '7': '🐘',
            '8': '🎭', '9': '🍉', '.': '♫', '(': '💖', ')': '💔', '[': '🌌', ']': '😇', '/': '🚦', '\\': '🛤️', "'": '📜',
            '"': '📖', ';': '📝', ':': '🔍', '!': '🎉', '@': '📧', '#': '💲', '$': '💵', '%': '🎁', '^': '⚓', '&': '🤝',
            '*': '🌟'
        }
        for key, value in replacements.items():
            string = string.replace(key, value)
        return string

    def decrypt(self, encrypted_token):
        replacements = {
            '🌼': 'A', '🐾': 'B', '🌈': 'C', '🚀': 'D', '🌍': 'E', '🎉': 'F', '🍕': 'G', '🎨': 'H', '⚡': 'I', '🔑': 'J',
            '🥡': 'K', '🌟': 'L', '🌻': 'M', '🐉': 'N', '💧': 'O', '🔔': 'P', '🦄': 'Q', '🌸': 'R', '🏆': 'S', '🛡️': 'T',
            '🐬': 'U', '🎈': 'V', '🎵': 'W', '🏮': 'X', '🔮': 'Y', '🍀': 'Z', '🦋': 'a', '🍭': 'b', '🧊': 'c', '🌊': 'd',
            '🍇': 'e', '🔥': 'f', '🌿': 'g', '🍂': 'h', '🍔': 'i', '💀': 'j', '🦚': 'k', '🍒': 'l', '🎀': 'm', '🌞': 'n',
            '🐢': 'o', '💼': 'p', '🥝': 'q', '🐧': 'r', '🥇': 's', '🍉': 't', '🦦': 'u', '🐷': 'v', '🎂': 'w', '🌴': 'x',
            '🌽': 'y', '🧠': 'z', '🎳': '0', '🌺': '1', '🏰': '2', '🐠': '3', '🪴': '4', '🍋': '5', '🏈': '6', '🐘': '7',
            '🎭': '8', '🍉': '9', '♫': '.', '💖': '(', '💔': ')', '🌌': '[', '😇': ']', '🚦': '/', '🛤️': '\\', '📜': "'",
            '📖': '"', '📝': ';', '🔍': ':', '🎉': '!', '📧': '@', '💲': '#', '💵': '$', '🎁': '%', '⚓': '^', '🤝': '&',
            '🌟': '*'
        }
        for key, value in replacements.items():
            encrypted_token = encrypted_token.replace(key, value)

        RRUU()
        return encrypted_token
