'use strict';

var ie = require('xregexp');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var ie__default = /*#__PURE__*/_interopDefault(ie);

var Gu=typeof global=="object"&&global&&global.Object===Object&&global,vn=Gu;var Ku=typeof self=="object"&&self&&self.Object===Object&&self,Wu=vn||Ku||Function("return this")(),Z=Wu;var $u=Z.Symbol,ae=$u;var Ta=Object.prototype,Vu=Ta.hasOwnProperty,ju=Ta.toString,Br=ae?ae.toStringTag:void 0;function Hu(t){var e=Vu.call(t,Br),r=t[Br];try{t[Br]=void 0;var n=!0;}catch{}var o=ju.call(t);return n&&(e?t[Br]=r:delete t[Br]),o}var Ea=Hu;var zu=Object.prototype,Xu=zu.toString;function Yu(t){return Xu.call(t)}var Aa=Yu;var qu="[object Null]",Qu="[object Undefined]",Ia=ae?ae.toStringTag:void 0;function Zu(t){return t==null?t===void 0?Qu:qu:Ia&&Ia in Object(t)?Ea(t):Aa(t)}var me=Zu;function Ju(t){return t!=null&&typeof t=="object"}var X=Ju;var ef="[object Symbol]";function tf(t){return typeof t=="symbol"||X(t)&&me(t)==ef}var dt=tf;function rf(t,e){for(var r=-1,n=t==null?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var Ge=rf;var nf=Array.isArray,I=nf;var of=1/0,ya=ae?ae.prototype:void 0,Sa=ya?ya.toString:void 0;function Ra(t){if(typeof t=="string")return t;if(I(t))return Ge(t,Ra)+"";if(dt(t))return Sa?Sa.call(t):"";var e=t+"";return e=="0"&&1/t==-of?"-0":e}var Oa=Ra;var af=/\s/;function sf(t){for(var e=t.length;e--&&af.test(t.charAt(e)););return e}var Na=sf;var lf=/^\s+/;function cf(t){return t&&t.slice(0,Na(t)+1).replace(lf,"")}var _a=cf;function uf(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $=uf;var Ca=0/0,ff=/^[-+]0x[0-9a-f]+$/i,pf=/^0b[01]+$/i,mf=/^0o[0-7]+$/i,hf=parseInt;function df(t){if(typeof t=="number")return t;if(dt(t))return Ca;if($(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$(e)?e+"":e;}if(typeof t!="string")return t===0?t:+t;t=_a(t);var r=pf.test(t);return r||mf.test(t)?hf(t.slice(2),r?2:8):ff.test(t)?Ca:+t}var ba=df;var La=1/0,gf=17976931348623157e292;function xf(t){if(!t)return t===0?t:0;if(t=ba(t),t===La||t===-La){var e=t<0?-1:1;return e*gf}return t===t?t:0}var va=xf;function Tf(t){var e=va(t),r=e%1;return e===e?r?e-r:e:0}var Ke=Tf;function Ef(t){return t}var ve=Ef;var Af="[object AsyncFunction]",If="[object Function]",yf="[object GeneratorFunction]",Sf="[object Proxy]";function Rf(t){if(!$(t))return !1;var e=me(t);return e==If||e==yf||e==Af||e==Sf}var he=Rf;var Of=Z["__core-js_shared__"],kn=Of;var ka=function(){var t=/[^.]+$/.exec(kn&&kn.keys&&kn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Nf(t){return !!ka&&ka in t}var Pa=Nf;var _f=Function.prototype,Cf=_f.toString;function bf(t){if(t!=null){try{return Cf.call(t)}catch{}try{return t+""}catch{}}return ""}var ot=bf;var Lf=/[\\^$.*+?()[\]{}|]/g,vf=/^\[object .+?Constructor\]$/,kf=Function.prototype,Pf=Object.prototype,Mf=kf.toString,wf=Pf.hasOwnProperty,Ff=RegExp("^"+Mf.call(wf).replace(Lf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Uf(t){if(!$(t)||Pa(t))return !1;var e=he(t)?Ff:vf;return e.test(ot(t))}var Ma=Uf;function Df(t,e){return t==null?void 0:t[e]}var wa=Df;function Bf(t,e){var r=wa(t,e);return Ma(r)?r:void 0}var Ie=Bf;var Gf=Ie(Z,"WeakMap"),Pn=Gf;var Fa=Object.create,Kf=function(){function t(){}return function(e){if(!$(e))return {};if(Fa)return Fa(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Ua=Kf;function Wf(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Da=Wf;function $f(){}var V=$f;function Vf(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Ba=Vf;var jf=800,Hf=16,zf=Date.now;function Xf(t){var e=0,r=0;return function(){var n=zf(),o=Hf-(n-r);if(r=n,o>0){if(++e>=jf)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ga=Xf;function Yf(t){return function(){return t}}var Ka=Yf;var qf=function(){try{var t=Ie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),qt=qf;var Qf=qt?function(t,e){return qt(t,"toString",{configurable:!0,enumerable:!1,value:Ka(e),writable:!0})}:ve,Wa=Qf;var Zf=Ga(Wa),$a=Zf;function Jf(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Mn=Jf;function ep(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return -1}var wn=ep;function tp(t){return t!==t}var Va=tp;function rp(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return -1}var ja=rp;function np(t,e,r){return e===e?ja(t,e,r):wn(t,Va,r)}var Qt=np;function op(t,e){var r=t==null?0:t.length;return !!r&&Qt(t,e,0)>-1}var Fn=op;var ip=9007199254740991,ap=/^(?:0|[1-9]\d*)$/;function sp(t,e){var r=typeof t;return e=e??ip,!!e&&(r=="number"||r!="symbol"&&ap.test(t))&&t>-1&&t%1==0&&t<e}var gt=sp;function lp(t,e,r){e=="__proto__"&&qt?qt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r;}var Zt=lp;function cp(t,e){return t===e||t!==t&&e!==e}var We=cp;var up=Object.prototype,fp=up.hasOwnProperty;function pp(t,e,r){var n=t[e];(!(fp.call(t,e)&&We(n,r))||r===void 0&&!(e in t))&&Zt(t,e,r);}var xt=pp;function mp(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),o?Zt(r,s,l):xt(r,s,l);}return r}var $e=mp;var Ha=Math.max;function hp(t,e,r){return e=Ha(e===void 0?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Ha(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=r(a),Da(t,this,s)}}var za=hp;function dp(t,e){return $a(za(t,e,ve),t+"")}var Jt=dp;var gp=9007199254740991;function xp(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gp}var er=xp;function Tp(t){return t!=null&&er(t.length)&&!he(t)}var J=Tp;function Ep(t,e,r){if(!$(r))return !1;var n=typeof e;return (n=="number"?J(r)&&gt(e,r.length):n=="string"&&e in r)?We(r[e],t):!1}var Tt=Ep;function Ap(t){return Jt(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,a&&Tt(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var s=r[n];s&&t(e,s,n,i);}return e})}var Xa=Ap;var Ip=Object.prototype;function yp(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ip;return t===r}var Ve=yp;function Sp(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Ya=Sp;var Rp="[object Arguments]";function Op(t){return X(t)&&me(t)==Rp}var ai=Op;var qa=Object.prototype,Np=qa.hasOwnProperty,_p=qa.propertyIsEnumerable,Cp=ai(function(){return arguments}())?ai:function(t){return X(t)&&Np.call(t,"callee")&&!_p.call(t,"callee")},Et=Cp;function bp(){return !1}var Qa=bp;var es=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Za=es&&typeof module=="object"&&module&&!module.nodeType&&module,Lp=Za&&Za.exports===es,Ja=Lp?Z.Buffer:void 0,vp=Ja?Ja.isBuffer:void 0,kp=vp||Qa,it=kp;var Pp="[object Arguments]",Mp="[object Array]",wp="[object Boolean]",Fp="[object Date]",Up="[object Error]",Dp="[object Function]",Bp="[object Map]",Gp="[object Number]",Kp="[object Object]",Wp="[object RegExp]",$p="[object Set]",Vp="[object String]",jp="[object WeakMap]",Hp="[object ArrayBuffer]",zp="[object DataView]",Xp="[object Float32Array]",Yp="[object Float64Array]",qp="[object Int8Array]",Qp="[object Int16Array]",Zp="[object Int32Array]",Jp="[object Uint8Array]",em="[object Uint8ClampedArray]",tm="[object Uint16Array]",rm="[object Uint32Array]",B={};B[Xp]=B[Yp]=B[qp]=B[Qp]=B[Zp]=B[Jp]=B[em]=B[tm]=B[rm]=!0;B[Pp]=B[Mp]=B[Hp]=B[wp]=B[zp]=B[Fp]=B[Up]=B[Dp]=B[Bp]=B[Gp]=B[Kp]=B[Wp]=B[$p]=B[Vp]=B[jp]=!1;function nm(t){return X(t)&&er(t.length)&&!!B[me(t)]}var ts=nm;function om(t){return function(e){return t(e)}}var je=om;var rs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gr=rs&&typeof module=="object"&&module&&!module.nodeType&&module,im=Gr&&Gr.exports===rs,si=im&&vn.process,am=function(){try{var t=Gr&&Gr.require&&Gr.require("util").types;return t||si&&si.binding&&si.binding("util")}catch{}}(),ke=am;var ns=ke&&ke.isTypedArray,sm=ns?je(ns):ts,tr=sm;var lm=Object.prototype,cm=lm.hasOwnProperty;function um(t,e){var r=I(t),n=!r&&Et(t),o=!r&&!n&&it(t),i=!r&&!n&&!o&&tr(t),a=r||n||o||i,s=a?Ya(t.length,String):[],l=s.length;for(var c in t)(e||cm.call(t,c))&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gt(c,l)))&&s.push(c);return s}var Un=um;function fm(t,e){return function(r){return t(e(r))}}var Dn=fm;var pm=Dn(Object.keys,Object),os=pm;var mm=Object.prototype,hm=mm.hasOwnProperty;function dm(t){if(!Ve(t))return os(t);var e=[];for(var r in Object(t))hm.call(t,r)&&r!="constructor"&&e.push(r);return e}var Bn=dm;function gm(t){return J(t)?Un(t):Bn(t)}var M=gm;var xm=Object.prototype,Tm=xm.hasOwnProperty,Em=Xa(function(t,e){if(Ve(e)||J(e)){$e(e,M(e),t);return}for(var r in e)Tm.call(e,r)&&xt(t,r,e[r]);}),le=Em;function Am(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var is=Am;var Im=Object.prototype,ym=Im.hasOwnProperty;function Sm(t){if(!$(t))return is(t);var e=Ve(t),r=[];for(var n in t)n=="constructor"&&(e||!ym.call(t,n))||r.push(n);return r}var as=Sm;function Rm(t){return J(t)?Un(t,!0):as(t)}var At=Rm;var Om=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nm=/^\w*$/;function _m(t,e){if(I(t))return !1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||dt(t)?!0:Nm.test(t)||!Om.test(t)||e!=null&&t in Object(e)}var rr=_m;var Cm=Ie(Object,"create"),at=Cm;function bm(){this.__data__=at?at(null):{},this.size=0;}var ss=bm;function Lm(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ls=Lm;var vm="__lodash_hash_undefined__",km=Object.prototype,Pm=km.hasOwnProperty;function Mm(t){var e=this.__data__;if(at){var r=e[t];return r===vm?void 0:r}return Pm.call(e,t)?e[t]:void 0}var cs=Mm;var wm=Object.prototype,Fm=wm.hasOwnProperty;function Um(t){var e=this.__data__;return at?e[t]!==void 0:Fm.call(e,t)}var us=Um;var Dm="__lodash_hash_undefined__";function Bm(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=at&&e===void 0?Dm:e,this}var fs=Bm;function nr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1]);}}nr.prototype.clear=ss;nr.prototype.delete=ls;nr.prototype.get=cs;nr.prototype.has=us;nr.prototype.set=fs;var li=nr;function Gm(){this.__data__=[],this.size=0;}var ps=Gm;function Km(t,e){for(var r=t.length;r--;)if(We(t[r][0],e))return r;return -1}var It=Km;var Wm=Array.prototype,$m=Wm.splice;function Vm(t){var e=this.__data__,r=It(e,t);if(r<0)return !1;var n=e.length-1;return r==n?e.pop():$m.call(e,r,1),--this.size,!0}var ms=Vm;function jm(t){var e=this.__data__,r=It(e,t);return r<0?void 0:e[r][1]}var hs=jm;function Hm(t){return It(this.__data__,t)>-1}var ds=Hm;function zm(t,e){var r=this.__data__,n=It(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var gs=zm;function or(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1]);}}or.prototype.clear=ps;or.prototype.delete=ms;or.prototype.get=hs;or.prototype.has=ds;or.prototype.set=gs;var yt=or;var Xm=Ie(Z,"Map"),St=Xm;function Ym(){this.size=0,this.__data__={hash:new li,map:new(St||yt),string:new li};}var xs=Ym;function qm(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ts=qm;function Qm(t,e){var r=t.__data__;return Ts(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Rt=Qm;function Zm(t){var e=Rt(this,t).delete(t);return this.size-=e?1:0,e}var Es=Zm;function Jm(t){return Rt(this,t).get(t)}var As=Jm;function eh(t){return Rt(this,t).has(t)}var Is=eh;function th(t,e){var r=Rt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ys=th;function ir(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1]);}}ir.prototype.clear=xs;ir.prototype.delete=Es;ir.prototype.get=As;ir.prototype.has=Is;ir.prototype.set=ys;var Ft=ir;var rh="Expected a function";function ci(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rh);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(ci.Cache||Ft),r}ci.Cache=Ft;var Ss=ci;var nh=500;function oh(t){var e=Ss(t,function(n){return r.size===nh&&r.clear(),n}),r=e.cache;return e}var Rs=oh;var ih=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ah=/\\(\\)?/g,sh=Rs(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ih,function(r,n,o,i){e.push(o?i.replace(ah,"$1"):n||r);}),e}),Os=sh;function lh(t){return t==null?"":Oa(t)}var Ns=lh;function ch(t,e){return I(t)?t:rr(t,e)?[t]:Os(Ns(t))}var Ot=ch;var uh=1/0;function fh(t){if(typeof t=="string"||dt(t))return t;var e=t+"";return e=="0"&&1/t==-uh?"-0":e}var He=fh;function ph(t,e){e=Ot(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[He(e[r++])];return r&&r==n?t:void 0}var ar=ph;function mh(t,e,r){var n=t==null?void 0:ar(t,e);return n===void 0?r:n}var _s=mh;function hh(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var sr=hh;var Cs=ae?ae.isConcatSpreadable:void 0;function dh(t){return I(t)||Et(t)||!!(Cs&&t&&t[Cs])}var bs=dh;function Ls(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=bs),o||(o=[]);++i<a;){var s=t[i];e>0&&r(s)?e>1?Ls(s,e-1,r,n,o):sr(o,s):n||(o[o.length]=s);}return o}var lr=Ls;function gh(t){var e=t==null?0:t.length;return e?lr(t,1):[]}var re=gh;var xh=Dn(Object.getPrototypeOf,Object),Gn=xh;function Th(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}var Kn=Th;function Eh(t,e,r,n){var o=-1,i=t==null?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}var vs=Eh;function Ah(){this.__data__=new yt,this.size=0;}var ks=Ah;function Ih(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Ps=Ih;function yh(t){return this.__data__.get(t)}var Ms=yh;function Sh(t){return this.__data__.has(t)}var ws=Sh;var Rh=200;function Oh(t,e){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!St||n.length<Rh-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ft(n);}return r.set(t,e),this.size=r.size,this}var Fs=Oh;function cr(t){var e=this.__data__=new yt(t);this.size=e.size;}cr.prototype.clear=ks;cr.prototype.delete=Ps;cr.prototype.get=Ms;cr.prototype.has=ws;cr.prototype.set=Fs;var Nt=cr;function Nh(t,e){return t&&$e(e,M(e),t)}var Us=Nh;function _h(t,e){return t&&$e(e,At(e),t)}var Ds=_h;var Ws=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bs=Ws&&typeof module=="object"&&module&&!module.nodeType&&module,Ch=Bs&&Bs.exports===Ws,Gs=Ch?Z.Buffer:void 0,Ks=Gs?Gs.allocUnsafe:void 0;function bh(t,e){if(e)return t.slice();var r=t.length,n=Ks?Ks(r):new t.constructor(r);return t.copy(n),n}var $s=bh;function Lh(t,e){for(var r=-1,n=t==null?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a);}return i}var ur=Lh;function vh(){return []}var Wn=vh;var kh=Object.prototype,Ph=kh.propertyIsEnumerable,Vs=Object.getOwnPropertySymbols,Mh=Vs?function(t){return t==null?[]:(t=Object(t),ur(Vs(t),function(e){return Ph.call(t,e)}))}:Wn,fr=Mh;function wh(t,e){return $e(t,fr(t),e)}var js=wh;var Fh=Object.getOwnPropertySymbols,Uh=Fh?function(t){for(var e=[];t;)sr(e,fr(t)),t=Gn(t);return e}:Wn,$n=Uh;function Dh(t,e){return $e(t,$n(t),e)}var Hs=Dh;function Bh(t,e,r){var n=e(t);return I(t)?n:sr(n,r(t))}var Vn=Bh;function Gh(t){return Vn(t,M,fr)}var Kr=Gh;function Kh(t){return Vn(t,At,$n)}var jn=Kh;var Wh=Ie(Z,"DataView"),Hn=Wh;var $h=Ie(Z,"Promise"),zn=$h;var Vh=Ie(Z,"Set"),_t=Vh;var zs="[object Map]",jh="[object Object]",Xs="[object Promise]",Ys="[object Set]",qs="[object WeakMap]",Qs="[object DataView]",Hh=ot(Hn),zh=ot(St),Xh=ot(zn),Yh=ot(_t),qh=ot(Pn),Ut=me;(Hn&&Ut(new Hn(new ArrayBuffer(1)))!=Qs||St&&Ut(new St)!=zs||zn&&Ut(zn.resolve())!=Xs||_t&&Ut(new _t)!=Ys||Pn&&Ut(new Pn)!=qs)&&(Ut=function(t){var e=me(t),r=e==jh?t.constructor:void 0,n=r?ot(r):"";if(n)switch(n){case Hh:return Qs;case zh:return zs;case Xh:return Xs;case Yh:return Ys;case qh:return qs}return e});var Fe=Ut;var Qh=Object.prototype,Zh=Qh.hasOwnProperty;function Jh(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Zh.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Zs=Jh;var ed=Z.Uint8Array,pr=ed;function td(t){var e=new t.constructor(t.byteLength);return new pr(e).set(new pr(t)),e}var mr=td;function rd(t,e){var r=e?mr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Js=rd;var nd=/\w*$/;function od(t){var e=new t.constructor(t.source,nd.exec(t));return e.lastIndex=t.lastIndex,e}var el=od;var tl=ae?ae.prototype:void 0,rl=tl?tl.valueOf:void 0;function id(t){return rl?Object(rl.call(t)):{}}var nl=id;function ad(t,e){var r=e?mr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var ol=ad;var sd="[object Boolean]",ld="[object Date]",cd="[object Map]",ud="[object Number]",fd="[object RegExp]",pd="[object Set]",md="[object String]",hd="[object Symbol]",dd="[object ArrayBuffer]",gd="[object DataView]",xd="[object Float32Array]",Td="[object Float64Array]",Ed="[object Int8Array]",Ad="[object Int16Array]",Id="[object Int32Array]",yd="[object Uint8Array]",Sd="[object Uint8ClampedArray]",Rd="[object Uint16Array]",Od="[object Uint32Array]";function Nd(t,e,r){var n=t.constructor;switch(e){case dd:return mr(t);case sd:case ld:return new n(+t);case gd:return Js(t,r);case xd:case Td:case Ed:case Ad:case Id:case yd:case Sd:case Rd:case Od:return ol(t,r);case cd:return new n;case ud:case md:return new n(t);case fd:return el(t);case pd:return new n;case hd:return nl(t)}}var il=Nd;function _d(t){return typeof t.constructor=="function"&&!Ve(t)?Ua(Gn(t)):{}}var al=_d;var Cd="[object Map]";function bd(t){return X(t)&&Fe(t)==Cd}var sl=bd;var ll=ke&&ke.isMap,Ld=ll?je(ll):sl,cl=Ld;var vd="[object Set]";function kd(t){return X(t)&&Fe(t)==vd}var ul=kd;var fl=ke&&ke.isSet,Pd=fl?je(fl):ul,pl=Pd;var Md=1,wd=2,Fd=4,ml="[object Arguments]",Ud="[object Array]",Dd="[object Boolean]",Bd="[object Date]",Gd="[object Error]",hl="[object Function]",Kd="[object GeneratorFunction]",Wd="[object Map]",$d="[object Number]",dl="[object Object]",Vd="[object RegExp]",jd="[object Set]",Hd="[object String]",zd="[object Symbol]",Xd="[object WeakMap]",Yd="[object ArrayBuffer]",qd="[object DataView]",Qd="[object Float32Array]",Zd="[object Float64Array]",Jd="[object Int8Array]",eg="[object Int16Array]",tg="[object Int32Array]",rg="[object Uint8Array]",ng="[object Uint8ClampedArray]",og="[object Uint16Array]",ig="[object Uint32Array]",w={};w[ml]=w[Ud]=w[Yd]=w[qd]=w[Dd]=w[Bd]=w[Qd]=w[Zd]=w[Jd]=w[eg]=w[tg]=w[Wd]=w[$d]=w[dl]=w[Vd]=w[jd]=w[Hd]=w[zd]=w[rg]=w[ng]=w[og]=w[ig]=!0;w[Gd]=w[hl]=w[Xd]=!1;function Xn(t,e,r,n,o,i){var a,s=e&Md,l=e&wd,c=e&Fd;if(r&&(a=o?r(t,n,o,i):r(t)),a!==void 0)return a;if(!$(t))return t;var u=I(t);if(u){if(a=Zs(t),!s)return Ba(t,a)}else {var f=Fe(t),p=f==hl||f==Kd;if(it(t))return $s(t,s);if(f==dl||f==ml||p&&!o){if(a=l||p?{}:al(t),!s)return l?Hs(t,Ds(a,t)):js(t,Us(a,t))}else {if(!w[f])return o?t:{};a=il(t,f,s);}}i||(i=new Nt);var T=i.get(t);if(T)return T;i.set(t,a),pl(t)?t.forEach(function(O){a.add(Xn(O,e,r,O,t,i));}):cl(t)&&t.forEach(function(O,A){a.set(A,Xn(O,e,r,A,t,i));});var y=c?l?jn:Kr:l?At:M,S=u?void 0:y(t);return Mn(S||t,function(O,A){S&&(A=O,O=t[A]),xt(a,A,Xn(O,e,r,A,t,i));}),a}var gl=Xn;var ag=4;function sg(t){return gl(t,ag)}var F=sg;function lg(t){for(var e=-1,r=t==null?0:t.length,n=0,o=[];++e<r;){var i=t[e];i&&(o[n++]=i);}return o}var ze=lg;var cg="__lodash_hash_undefined__";function ug(t){return this.__data__.set(t,cg),this}var xl=ug;function fg(t){return this.__data__.has(t)}var Tl=fg;function Yn(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ft;++e<r;)this.add(t[e]);}Yn.prototype.add=Yn.prototype.push=xl;Yn.prototype.has=Tl;var hr=Yn;function pg(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return !0;return !1}var qn=pg;function mg(t,e){return t.has(e)}var dr=mg;var hg=1,dg=2;function gg(t,e,r,n,o,i){var a=r&hg,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return !1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var f=-1,p=!0,T=r&dg?new hr:void 0;for(i.set(t,e),i.set(e,t);++f<s;){var y=t[f],S=e[f];if(n)var O=a?n(S,y,f,e,t,i):n(y,S,f,t,e,i);if(O!==void 0){if(O)continue;p=!1;break}if(T){if(!qn(e,function(A,g){if(!dr(T,g)&&(y===A||o(y,A,r,n,i)))return T.push(g)})){p=!1;break}}else if(!(y===S||o(y,S,r,n,i))){p=!1;break}}return i.delete(t),i.delete(e),p}var Qn=gg;function xg(t){var e=-1,r=Array(t.size);return t.forEach(function(n,o){r[++e]=[o,n];}),r}var El=xg;function Tg(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n;}),r}var gr=Tg;var Eg=1,Ag=2,Ig="[object Boolean]",yg="[object Date]",Sg="[object Error]",Rg="[object Map]",Og="[object Number]",Ng="[object RegExp]",_g="[object Set]",Cg="[object String]",bg="[object Symbol]",Lg="[object ArrayBuffer]",vg="[object DataView]",Al=ae?ae.prototype:void 0,ui=Al?Al.valueOf:void 0;function kg(t,e,r,n,o,i,a){switch(r){case vg:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return !1;t=t.buffer,e=e.buffer;case Lg:return !(t.byteLength!=e.byteLength||!i(new pr(t),new pr(e)));case Ig:case yg:case Og:return We(+t,+e);case Sg:return t.name==e.name&&t.message==e.message;case Ng:case Cg:return t==e+"";case Rg:var s=El;case _g:var l=n&Eg;if(s||(s=gr),t.size!=e.size&&!l)return !1;var c=a.get(t);if(c)return c==e;n|=Ag,a.set(t,e);var u=Qn(s(t),s(e),n,o,i,a);return a.delete(t),u;case bg:if(ui)return ui.call(t)==ui.call(e)}return !1}var Il=kg;var Pg=1,Mg=Object.prototype,wg=Mg.hasOwnProperty;function Fg(t,e,r,n,o,i){var a=r&Pg,s=Kr(t),l=s.length,c=Kr(e),u=c.length;if(l!=u&&!a)return !1;for(var f=l;f--;){var p=s[f];if(!(a?p in e:wg.call(e,p)))return !1}var T=i.get(t),y=i.get(e);if(T&&y)return T==e&&y==t;var S=!0;i.set(t,e),i.set(e,t);for(var O=a;++f<l;){p=s[f];var A=t[p],g=e[p];if(n)var m=a?n(g,A,p,e,t,i):n(A,g,p,t,e,i);if(!(m===void 0?A===g||o(A,g,r,n,i):m)){S=!1;break}O||(O=p=="constructor");}if(S&&!O){var N=t.constructor,_=e.constructor;N!=_&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof _=="function"&&_ instanceof _)&&(S=!1);}return i.delete(t),i.delete(e),S}var yl=Fg;var Ug=1,Sl="[object Arguments]",Rl="[object Array]",Zn="[object Object]",Dg=Object.prototype,Ol=Dg.hasOwnProperty;function Bg(t,e,r,n,o,i){var a=I(t),s=I(e),l=a?Rl:Fe(t),c=s?Rl:Fe(e);l=l==Sl?Zn:l,c=c==Sl?Zn:c;var u=l==Zn,f=c==Zn,p=l==c;if(p&&it(t)){if(!it(e))return !1;a=!0,u=!1;}if(p&&!u)return i||(i=new Nt),a||tr(t)?Qn(t,e,r,n,o,i):Il(t,e,l,r,n,o,i);if(!(r&Ug)){var T=u&&Ol.call(t,"__wrapped__"),y=f&&Ol.call(e,"__wrapped__");if(T||y){var S=T?t.value():t,O=y?e.value():e;return i||(i=new Nt),o(S,O,r,n,i)}}return p?(i||(i=new Nt),yl(t,e,r,n,o,i)):!1}var Nl=Bg;function _l(t,e,r,n,o){return t===e?!0:t==null||e==null||!X(t)&&!X(e)?t!==t&&e!==e:Nl(t,e,r,n,_l,o)}var Jn=_l;var Gg=1,Kg=2;function Wg(t,e,r,n){var o=r.length,i=o,a=!n;if(t==null)return !i;for(t=Object(t);o--;){var s=r[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return !1}for(;++o<i;){s=r[o];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return !1}else {var f=new Nt;if(n)var p=n(c,u,l,t,e,f);if(!(p===void 0?Jn(u,c,Gg|Kg,n,f):p))return !1}}return !0}var Cl=Wg;function $g(t){return t===t&&!$(t)}var eo=$g;function Vg(t){for(var e=M(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,eo(o)];}return e}var bl=Vg;function jg(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var to=jg;function Hg(t){var e=bl(t);return e.length==1&&e[0][2]?to(e[0][0],e[0][1]):function(r){return r===t||Cl(r,t,e)}}var Ll=Hg;function zg(t,e){return t!=null&&e in Object(t)}var vl=zg;function Xg(t,e,r){e=Ot(e,t);for(var n=-1,o=e.length,i=!1;++n<o;){var a=He(e[n]);if(!(i=t!=null&&r(t,a)))break;t=t[a];}return i||++n!=o?i:(o=t==null?0:t.length,!!o&&er(o)&&gt(a,o)&&(I(t)||Et(t)))}var ro=Xg;function Yg(t,e){return t!=null&&ro(t,e,vl)}var kl=Yg;var qg=1,Qg=2;function Zg(t,e){return rr(t)&&eo(e)?to(He(t),e):function(r){var n=_s(r,t);return n===void 0&&n===e?kl(r,t):Jn(e,n,qg|Qg)}}var Pl=Zg;function Jg(t){return function(e){return e==null?void 0:e[t]}}var Ml=Jg;function ex(t){return function(e){return ar(e,t)}}var wl=ex;function tx(t){return rr(t)?Ml(He(t)):wl(t)}var Fl=tx;function rx(t){return typeof t=="function"?t:t==null?ve:typeof t=="object"?I(t)?Pl(t[0],t[1]):Ll(t):Fl(t)}var ee=rx;function nx(t,e,r,n){for(var o=-1,i=t==null?0:t.length;++o<i;){var a=t[o];e(n,a,r(a),t);}return n}var Ul=nx;function ox(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++o];if(r(i[l],l,i)===!1)break}return e}}var Dl=ox;var ix=Dl(),Bl=ix;function ax(t,e){return t&&Bl(t,e,M)}var Gl=ax;function sx(t,e){return function(r,n){if(r==null)return r;if(!J(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&n(a[i],i,a)!==!1;);return r}}var Kl=sx;var lx=Kl(Gl),ye=lx;function cx(t,e,r,n){return ye(t,function(o,i,a){e(n,o,r(o),a);}),n}var Wl=cx;function ux(t,e){return function(r,n){var o=I(r)?Ul:Wl,i=e?e():{};return o(r,t,ee(n),i)}}var $l=ux;var Vl=Object.prototype,fx=Vl.hasOwnProperty,px=Jt(function(t,e){t=Object(t);var r=-1,n=e.length,o=n>2?e[2]:void 0;for(o&&Tt(e[0],e[1],o)&&(n=1);++r<n;)for(var i=e[r],a=At(i),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(u===void 0||We(u,Vl[c])&&!fx.call(t,c))&&(t[c]=i[c]);}return t}),xr=px;function mx(t){return X(t)&&J(t)}var fi=mx;function hx(t,e,r){for(var n=-1,o=t==null?0:t.length;++n<o;)if(r(e,t[n]))return !0;return !1}var no=hx;var dx=200;function gx(t,e,r,n){var o=-1,i=Fn,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;r&&(e=Ge(e,je(r))),n?(i=no,a=!1):e.length>=dx&&(i=dr,a=!1,e=new hr(e));e:for(;++o<s;){var u=t[o],f=r==null?u:r(u);if(u=n||u!==0?u:0,a&&f===f){for(var p=c;p--;)if(e[p]===f)continue e;l.push(u);}else i(e,f,n)||l.push(u);}return l}var jl=gx;var xx=Jt(function(t,e){return fi(t)?jl(t,lr(e,1,fi,!0)):[]}),Ct=xx;function Tx(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Xe=Tx;function Ex(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:Ke(e),Kn(t,e<0?0:e,n)):[]}var Y=Ex;function Ax(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:Ke(e),e=n-e,Kn(t,0,e<0?0:e)):[]}var st=Ax;function Ix(t){return typeof t=="function"?t:ve}var Hl=Ix;function yx(t,e){var r=I(t)?Mn:ye;return r(t,Hl(e))}var x=yx;function Sx(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return !1;return !0}var zl=Sx;function Rx(t,e){var r=!0;return ye(t,function(n,o,i){return r=!!e(n,o,i),r}),r}var Xl=Rx;function Ox(t,e,r){var n=I(t)?zl:Xl;return r&&Tt(t,e,r)&&(e=void 0),n(t,ee(e))}var ue=Ox;function Nx(t,e){var r=[];return ye(t,function(n,o,i){e(n,o,i)&&r.push(n);}),r}var oo=Nx;function _x(t,e){var r=I(t)?ur:oo;return r(t,ee(e))}var fe=_x;function Cx(t){return function(e,r,n){var o=Object(e);if(!J(e)){var i=ee(r);e=M(e),r=function(s){return i(o[s],s,o)};}var a=t(e,r,n);return a>-1?o[i?e[a]:a]:void 0}}var Yl=Cx;var bx=Math.max;function Lx(t,e,r){var n=t==null?0:t.length;if(!n)return -1;var o=r==null?0:Ke(r);return o<0&&(o=bx(n+o,0)),wn(t,ee(e),o)}var ql=Lx;var vx=Yl(ql),Ye=vx;function kx(t){return t&&t.length?t[0]:void 0}var se=kx;function Px(t,e){var r=-1,n=J(t)?Array(t.length):[];return ye(t,function(o,i,a){n[++r]=e(o,i,a);}),n}var Ql=Px;function Mx(t,e){var r=I(t)?Ge:Ql;return r(t,ee(e))}var d=Mx;function wx(t,e){return lr(d(t,e),1)}var de=wx;var Fx=Object.prototype,Ux=Fx.hasOwnProperty,Dx=$l(function(t,e,r){Ux.call(t,r)?t[r].push(e):Zt(t,r,[e]);}),pi=Dx;var Bx=Object.prototype,Gx=Bx.hasOwnProperty;function Kx(t,e){return t!=null&&Gx.call(t,e)}var Zl=Kx;function Wx(t,e){return t!=null&&ro(t,e,Zl)}var E=Wx;var $x="[object String]";function Vx(t){return typeof t=="string"||!I(t)&&X(t)&&me(t)==$x}var ne=Vx;function jx(t,e){return Ge(e,function(r){return t[r]})}var Jl=jx;function Hx(t){return t==null?[]:Jl(t,M(t))}var P=Hx;var zx=Math.max;function Xx(t,e,r,n){t=J(t)?t:P(t),r=r&&!n?Ke(r):0;var o=t.length;return r<0&&(r=zx(o+r,0)),ne(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&Qt(t,e,r)>-1}var K=Xx;var Yx=Math.max;function qx(t,e,r){var n=t==null?0:t.length;if(!n)return -1;var o=r==null?0:Ke(r);return o<0&&(o=Yx(n+o,0)),Qt(t,e,o)}var io=qx;var Qx="[object Map]",Zx="[object Set]",Jx=Object.prototype,eT=Jx.hasOwnProperty;function tT(t){if(t==null)return !0;if(J(t)&&(I(t)||typeof t=="string"||typeof t.splice=="function"||it(t)||tr(t)||Et(t)))return !t.length;var e=Fe(t);if(e==Qx||e==Zx)return !t.size;if(Ve(t))return !Bn(t).length;for(var r in t)if(eT.call(t,r))return !1;return !0}var C=tT;var rT="[object RegExp]";function nT(t){return X(t)&&me(t)==rT}var ec=nT;var tc=ke&&ke.isRegExp,oT=tc?je(tc):ec,Pe=oT;function iT(t){return t===void 0}var pe=iT;var aT="Expected a function";function sT(t){if(typeof t!="function")throw new TypeError(aT);return function(){var e=arguments;switch(e.length){case 0:return !t.call(this);case 1:return !t.call(this,e[0]);case 2:return !t.call(this,e[0],e[1]);case 3:return !t.call(this,e[0],e[1],e[2])}return !t.apply(this,e)}}var rc=sT;function lT(t,e,r,n){if(!$(t))return t;e=Ot(e,t);for(var o=-1,i=e.length,a=i-1,s=t;s!=null&&++o<i;){var l=He(e[o]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(o!=a){var u=s[l];c=n?n(u,l,s):void 0,c===void 0&&(c=$(u)?u:gt(e[o+1])?[]:{});}xt(s,l,c),s=s[l];}return t}var nc=lT;function cT(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],s=ar(t,a);r(s,a)&&nc(i,Ot(a,t),s);}return i}var oc=cT;function uT(t,e){if(t==null)return {};var r=Ge(jn(t),function(n){return [n]});return e=ee(e),oc(t,r,function(n,o){return e(n,o[0])})}var Se=uT;function fT(t,e,r,n,o){return o(t,function(i,a,s){r=n?(n=!1,i):e(r,i,a,s);}),r}var ic=fT;function pT(t,e,r){var n=I(t)?vs:ic,o=arguments.length<3;return n(t,ee(e),r,o,ye)}var te=pT;function mT(t,e){var r=I(t)?ur:oo;return r(t,rc(ee(e)))}var bt=mT;function hT(t,e){var r;return ye(t,function(n,o,i){return r=e(n,o,i),!r}),!!r}var ac=hT;function dT(t,e,r){var n=I(t)?qn:ac;return r&&Tt(t,e,r)&&(e=void 0),n(t,ee(e))}var Wr=dT;var gT=1/0,xT=_t&&1/gr(new _t([,-0]))[1]==gT?function(t){return new _t(t)}:V,sc=xT;var TT=200;function ET(t,e,r){var n=-1,o=Fn,i=t.length,a=!0,s=[],l=s;if(r)a=!1,o=no;else if(i>=TT){var c=e?null:sc(t);if(c)return gr(c);a=!1,o=dr,l=new hr;}else l=e?[]:s;e:for(;++n<i;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,a&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),s.push(u);}else o(l,f,r)||(l!==s&&l.push(f),s.push(u));}return s}var lc=ET;function AT(t){return t&&t.length?lc(t):[]}var Tr=AT;function Er(t){console&&console.error&&console.error(`Error: ${t}`);}function $r(t){console&&console.warn&&console.warn(`Warning: ${t}`);}function Vr(t){let e=new Date().getTime(),r=t();return {time:new Date().getTime()-e,value:r}}function jr(t){function e(){}e.prototype=t;let r=new e;function n(){return typeof r.bar}return n(),n(),t;}function IT(t){return yT(t)?t.LABEL:t.name}function yT(t){return ne(t.LABEL)&&t.LABEL!==""}var be=class{get definition(){return this._definition}set definition(e){this._definition=e;}constructor(e){this._definition=e;}accept(e){e.visit(this),x(this.definition,r=>{r.accept(e);});}},U=class extends be{constructor(e){super([]),this.idx=1,le(this,Se(e,r=>r!==void 0));}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this);}},ge=class extends be{constructor(e){super(e.definition),this.orgText="",le(this,Se(e,r=>r!==void 0));}},D=class extends be{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,le(this,Se(e,r=>r!==void 0));}},G=class extends be{constructor(e){super(e.definition),this.idx=1,le(this,Se(e,r=>r!==void 0));}},q=class extends be{constructor(e){super(e.definition),this.idx=1,le(this,Se(e,r=>r!==void 0));}},Q=class extends be{constructor(e){super(e.definition),this.idx=1,le(this,Se(e,r=>r!==void 0));}},k=class extends be{constructor(e){super(e.definition),this.idx=1,le(this,Se(e,r=>r!==void 0));}},H=class extends be{constructor(e){super(e.definition),this.idx=1,le(this,Se(e,r=>r!==void 0));}},z=class extends be{get definition(){return this._definition}set definition(e){this._definition=e;}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,le(this,Se(e,r=>r!==void 0));}},b=class{constructor(e){this.idx=1,le(this,Se(e,r=>r!==void 0));}accept(e){e.visit(this);}};function ao(t){return d(t,Ar)}function Ar(t){function e(r){return d(r,Ar)}if(t instanceof U){let r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return ne(t.label)&&(r.label=t.label),r}else {if(t instanceof D)return {type:"Alternative",definition:e(t.definition)};if(t instanceof G)return {type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof q)return {type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Q)return {type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Ar(new b({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof H)return {type:"RepetitionWithSeparator",idx:t.idx,separator:Ar(new b({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof k)return {type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof z)return {type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof b){let r={type:"Terminal",name:t.terminalType.name,label:IT(t.terminalType),idx:t.idx};ne(t.label)&&(r.terminalLabel=t.label);let n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=Pe(n)?n.source:n),r}else {if(t instanceof ge)return {type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}var xe=class{visit(e){let r=e;switch(r.constructor){case U:return this.visitNonTerminal(r);case D:return this.visitAlternative(r);case G:return this.visitOption(r);case q:return this.visitRepetitionMandatory(r);case Q:return this.visitRepetitionMandatoryWithSeparator(r);case H:return this.visitRepetitionWithSeparator(r);case k:return this.visitRepetition(r);case z:return this.visitAlternation(r);case b:return this.visitTerminal(r);case ge:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}};function mi(t){return t instanceof D||t instanceof G||t instanceof k||t instanceof q||t instanceof Q||t instanceof H||t instanceof b||t instanceof ge}function Dt(t,e=[]){return t instanceof G||t instanceof k||t instanceof H?!0:t instanceof z?Wr(t.definition,n=>Dt(n,e)):t instanceof U&&K(e,t)?!1:t instanceof be?(t instanceof U&&e.push(t),ue(t.definition,n=>Dt(n,e))):!1}function hi(t){return t instanceof z}function Re(t){if(t instanceof U)return "SUBRULE";if(t instanceof G)return "OPTION";if(t instanceof z)return "OR";if(t instanceof q)return "AT_LEAST_ONE";if(t instanceof Q)return "AT_LEAST_ONE_SEP";if(t instanceof H)return "MANY_SEP";if(t instanceof k)return "MANY";if(t instanceof b)return "CONSUME";throw Error("non exhaustive match")}var lt=class{walk(e,r=[]){x(e.definition,(n,o)=>{let i=Y(e.definition,o+1);if(n instanceof U)this.walkProdRef(n,i,r);else if(n instanceof b)this.walkTerminal(n,i,r);else if(n instanceof D)this.walkFlat(n,i,r);else if(n instanceof G)this.walkOption(n,i,r);else if(n instanceof q)this.walkAtLeastOne(n,i,r);else if(n instanceof Q)this.walkAtLeastOneSep(n,i,r);else if(n instanceof H)this.walkManySep(n,i,r);else if(n instanceof k)this.walkMany(n,i,r);else if(n instanceof z)this.walkOr(n,i,r);else throw Error("non exhaustive match")});}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){let o=r.concat(n);this.walk(e,o);}walkOption(e,r,n){let o=r.concat(n);this.walk(e,o);}walkAtLeastOne(e,r,n){let o=[new G({definition:e.definition})].concat(r,n);this.walk(e,o);}walkAtLeastOneSep(e,r,n){let o=cc(e,r,n);this.walk(e,o);}walkMany(e,r,n){let o=[new G({definition:e.definition})].concat(r,n);this.walk(e,o);}walkManySep(e,r,n){let o=cc(e,r,n);this.walk(e,o);}walkOr(e,r,n){let o=r.concat(n);x(e.definition,i=>{let a=new D({definition:[i]});this.walk(a,o);});}};function cc(t,e,r){return [new G({definition:[new b({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function Bt(t){if(t instanceof U)return Bt(t.referencedRule);if(t instanceof b)return OT(t);if(mi(t))return ST(t);if(hi(t))return RT(t);throw Error("non exhaustive match")}function ST(t){let e=[],r=t.definition,n=0,o=r.length>n,i,a=!0;for(;o&&a;)i=r[n],a=Dt(i),e=e.concat(Bt(i)),n=n+1,o=r.length>n;return Tr(e)}function RT(t){let e=d(t.definition,r=>Bt(r));return Tr(re(e))}function OT(t){return [t.terminalType]}var so="_~IN~_";var di=class extends lt{constructor(e){super(),this.topProd=e,this.follows={};}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){let o=NT(e.referencedRule,e.idx)+this.topProd.name,i=r.concat(n),a=new D({definition:i}),s=Bt(a);this.follows[o]=s;}};function uc(t){let e={};return x(t,r=>{let n=new di(r).startWalking();le(e,n);}),e}function NT(t,e){return t.name+e+so}function R(t){return t.charCodeAt(0)}function lo(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r);}):e.push(t);}function Ir(t,e){if(t[e]===!0)throw "duplicate flag "+e;t[e];t[e]=!0;}function Gt(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return !0}function Hr(){throw Error("Internal Error - Should never get here!")}function gi(t){return t.type==="Character"}var zr=[];for(let t=R("0");t<=R("9");t++)zr.push(t);var Xr=[R("_")].concat(zr);for(let t=R("a");t<=R("z");t++)Xr.push(t);for(let t=R("A");t<=R("Z");t++)Xr.push(t);var xi=[R(" "),R("\f"),R(`
`),R("\r"),R("	"),R("\v"),R("	"),R("\xA0"),R("\u1680"),R("\u2000"),R("\u2001"),R("\u2002"),R("\u2003"),R("\u2004"),R("\u2005"),R("\u2006"),R("\u2007"),R("\u2008"),R("\u2009"),R("\u200A"),R("\u2028"),R("\u2029"),R("\u202F"),R("\u205F"),R("\u3000"),R("\uFEFF")];var _T=/[0-9a-fA-F]/,co=/[0-9]/,CT=/[1-9]/,Yr=class{constructor(){this.idx=0,this.input="",this.groupIdx=0;}saveState(){return {idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx;}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Ir(n,"global");break;case"i":Ir(n,"ignoreCase");break;case"m":Ir(n,"multiLine");break;case"u":Ir(n,"unicode");break;case"y":Ir(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return {type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){let e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return {type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){let e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return {type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return {type:"StartAnchor",loc:this.loc(e)};case"$":return {type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return {type:"WordBoundary",loc:this.loc(e)};case"B":return {type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}Gt(r);let n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return Hr()}quantifier(e=!1){let r,n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let o=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:o,atMost:o};break;case",":let i;this.isDigit()?(i=this.integerIncludingZero(),r={atLeast:o,atMost:i}):r={atLeast:o,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;Gt(r);break}if(!(e===!0&&r===void 0)&&Gt(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let e,r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Gt(e)?(e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Hr()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[R(`
`),R("\r"),R("\u2028"),R("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return {type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=zr;break;case"D":e=zr,r=!0;break;case"s":e=xi;break;case"S":e=xi,r=!0;break;case"w":e=Xr;break;case"W":e=Xr,r=!0;break}return Gt(e)?{type:"Set",value:e,complement:r}:Hr()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=R("\f");break;case"n":e=R(`
`);break;case"r":e=R("\r");break;case"t":e=R("	");break;case"v":e=R("\v");break}return Gt(e)?{type:"Character",value:e}:Hr()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return {type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:R("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return {type:"Character",value:R(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return {type:"Character",value:R(e)}}}characterClass(){let e=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let n=this.classAtom();n.type==="Character";if(gi(n)&&this.isRangeDash()){this.consumeChar("-");let i=this.classAtom();i.type==="Character";if(gi(i)){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value});}else lo(n.value,e),e.push(R("-")),lo(i.value,e);}else lo(n.value,e);}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:R("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(CT.test(e)===!1)throw Error("Expecting a positive integer");for(;co.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(co.test(e)===!1)throw Error("Expecting an integer");for(;co.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return {type:"Character",value:R(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return !0;default:return !1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return co.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return !1;default:return !0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return !0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return !0;default:return !1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return !0;case"\\":switch(this.peekChar(1)){case"b":case"B":return !0;default:return !1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return !1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return !1}finally{this.restoreState(e);}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return !1;default:return !0}}parseHexDigits(e){let r="";for(let o=0;o<e;o++){let i=this.popChar();if(_T.test(i)===!1)throw Error("Expecting a HexDecimal digits");r+=i;}return {type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++;}loc(e){return {begin:e,end:this.idx}}};var Lt=class{visitChildren(e){for(let r in e){let n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(o=>{this.visit(o);},this));}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e);}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}};var uo={},bT=new Yr;function yr(t){let e=t.toString();if(uo.hasOwnProperty(e))return uo[e];{let r=bT.pattern(e);return uo[e]=r,r}}function fc(){uo={};}var mc="Complement Sets are not supported for first char optimization",qr=`Unable to use "first char" lexer optimizations:
`;function hc(t,e=!1){try{let r=yr(t);return Ti(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===mc)e&&$r(`${qr}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else {let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Er(`${qr}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n);}}return []}function Ti(t,e,r){switch(t.type){case"Disjunction":for(let o=0;o<t.value.length;o++)Ti(t.value[o],e,r);break;case"Alternative":let n=t.value;for(let o=0;o<n.length;o++){let i=n[o];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let a=i;switch(a.type){case"Character":fo(a.value,e,r);break;case"Set":if(a.complement===!0)throw Error(mc);x(a.value,l=>{if(typeof l=="number")fo(l,e,r);else {let c=l;if(r===!0)for(let u=c.from;u<=c.to;u++)fo(u,e,r);else {for(let u=c.from;u<=c.to&&u<Sr;u++)fo(u,e,r);if(c.to>=Sr){let u=c.from>=Sr?c.from:Sr,f=c.to,p=qe(u),T=qe(f);for(let y=p;y<=T;y++)e[y]=y;}}}});break;case"Group":Ti(a.value,e,r);break;default:throw Error("Non Exhaustive Match")}let s=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&Ei(a)===!1||a.type!=="Group"&&s===!1)break}break;default:throw Error("non exhaustive match!")}return P(e)}function fo(t,e,r){let n=qe(t);e[n]=n,r===!0&&LT(t,e);}function LT(t,e){let r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){let o=qe(n.charCodeAt(0));e[o]=o;}else {let o=r.toLowerCase();if(o!==r){let i=qe(o.charCodeAt(0));e[i]=i;}}}function pc(t,e){return Ye(t.value,r=>{if(typeof r=="number")return K(e,r);{let n=r;return Ye(e,o=>n.from<=o&&o<=n.to)!==void 0}})}function Ei(t){let e=t.quantifier;return e&&e.atLeast===0?!0:t.value?I(t.value)?ue(t.value,Ei):Ei(t.value):!1}var Ai=class extends Lt{constructor(e){super(),this.targetCharCodes=e,this.found=!1;}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e);}}visitCharacter(e){K(this.targetCharCodes,e.value)&&(this.found=!0);}visitSet(e){e.complement?pc(e,this.targetCharCodes)===void 0&&(this.found=!0):pc(e,this.targetCharCodes)!==void 0&&(this.found=!0);}};function po(t,e){if(e instanceof RegExp){let r=yr(e),n=new Ai(t);return n.visit(r),n.found}else return Ye(e,r=>K(t,r.charCodeAt(0)))!==void 0}var Kt="PATTERN",Rr="defaultMode",mo="modes",yi=typeof new RegExp("(?:)").sticky=="boolean";function xc(t,e){e=xr(e,{useSticky:yi,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(g,m)=>m()});let r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{XT();});let n;r("Reject Lexer.NA",()=>{n=bt(t,g=>g[Kt]===L.NA);});let o=!1,i;r("Transform Patterns",()=>{o=!1,i=d(n,g=>{let m=g[Kt];if(Pe(m)){let N=m.source;return N.length===1&&N!=="^"&&N!=="$"&&N!=="."&&!m.ignoreCase?N:N.length===2&&N[0]==="\\"&&!K(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],N[1])?N[1]:e.useSticky?gc(m):dc(m)}else {if(he(m))return o=!0,{exec:m};if(typeof m=="object")return o=!0,m;if(typeof m=="string"){if(m.length===1)return m;{let N=m.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),_=new RegExp(N);return e.useSticky?gc(_):dc(_)}}else throw Error("non exhaustive match")}});});let a,s,l,c,u;r("misc mapping",()=>{a=d(n,g=>g.tokenTypeIdx),s=d(n,g=>{let m=g.GROUP;if(m!==L.SKIPPED){if(ne(m))return m;if(pe(m))return !1;throw Error("non exhaustive match")}}),l=d(n,g=>{let m=g.LONGER_ALT;if(m)return I(m)?d(m,_=>io(n,_)):[io(n,m)]}),c=d(n,g=>g.PUSH_MODE),u=d(n,g=>E(g,"POP_MODE"));});let f;r("Line Terminator Handling",()=>{let g=Oc(e.lineTerminatorCharacters);f=d(n,m=>!1),e.positionTracking!=="onlyOffset"&&(f=d(n,m=>E(m,"LINE_BREAKS")?!!m.LINE_BREAKS:Rc(m,g)===!1&&po(g,m.PATTERN)));});let p,T,y,S;r("Misc Mapping #2",()=>{p=d(n,yc),T=d(i,HT),y=te(n,(g,m)=>{let N=m.GROUP;return ne(N)&&N!==L.SKIPPED&&(g[N]=[]),g},{}),S=d(i,(g,m)=>({pattern:i[m],longerAlt:l[m],canLineTerminator:f[m],isCustom:p[m],short:T[m],group:s[m],push:c[m],pop:u[m],tokenTypeIdx:a[m],tokenType:n[m]}));});let O=!0,A=[];return e.safeMode||r("First Char Optimization",()=>{A=te(n,(g,m,N)=>{if(typeof m.PATTERN=="string"){let _=m.PATTERN.charCodeAt(0),_e=qe(_);Ii(g,_e,S[N]);}else if(I(m.START_CHARS_HINT)){let _;x(m.START_CHARS_HINT,_e=>{let ri=typeof _e=="string"?_e.charCodeAt(0):_e,Be=qe(ri);_!==Be&&(_=Be,Ii(g,Be,S[N]));});}else if(Pe(m.PATTERN))if(m.PATTERN.unicode)O=!1,e.ensureOptimizations&&Er(`${qr}	Unable to analyze < ${m.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else {let _=hc(m.PATTERN,e.ensureOptimizations);C(_)&&(O=!1),x(_,_e=>{Ii(g,_e,S[N]);});}else e.ensureOptimizations&&Er(`${qr}	TokenType: <${m.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),O=!1;return g},[]);}),{emptyGroups:y,patternIdxToConfig:S,charCodeToPatternIdxToConfig:A,hasCustom:o,canBeOptimized:O}}function Tc(t,e){let r=[],n=kT(t);r=r.concat(n.errors);let o=PT(n.valid),i=o.valid;return r=r.concat(o.errors),r=r.concat(vT(i)),r=r.concat(KT(i)),r=r.concat(WT(i,e)),r=r.concat($T(i)),r}function vT(t){let e=[],r=fe(t,n=>Pe(n[Kt]));return e=e.concat(wT(r)),e=e.concat(DT(r)),e=e.concat(BT(r)),e=e.concat(GT(r)),e=e.concat(FT(r)),e}function kT(t){let e=fe(t,o=>!E(o,Kt)),r=d(e,o=>({message:"Token Type: ->"+o.name+"<- missing static 'PATTERN' property",type:W.MISSING_PATTERN,tokenTypes:[o]})),n=Ct(t,e);return {errors:r,valid:n}}function PT(t){let e=fe(t,o=>{let i=o[Kt];return !Pe(i)&&!he(i)&&!E(i,"exec")&&!ne(i)}),r=d(e,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:W.INVALID_PATTERN,tokenTypes:[o]})),n=Ct(t,e);return {errors:r,valid:n}}var MT=/[^\\][$]/;function wT(t){class e extends Lt{constructor(){super(...arguments),this.found=!1;}visitEndAnchor(i){this.found=!0;}}let r=fe(t,o=>{let i=o.PATTERN;try{let a=yr(i),s=new e;return s.visit(a),s.found}catch{return MT.test(i.source)}});return d(r,o=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+o.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:W.EOI_ANCHOR_FOUND,tokenTypes:[o]}))}function FT(t){let e=fe(t,n=>n.PATTERN.test(""));return d(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:W.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}var UT=/[^\\[][\^]|^\^/;function DT(t){class e extends Lt{constructor(){super(...arguments),this.found=!1;}visitStartAnchor(i){this.found=!0;}}let r=fe(t,o=>{let i=o.PATTERN;try{let a=yr(i),s=new e;return s.visit(a),s.found}catch{return UT.test(i.source)}});return d(r,o=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+o.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:W.SOI_ANCHOR_FOUND,tokenTypes:[o]}))}function BT(t){let e=fe(t,n=>{let o=n[Kt];return o instanceof RegExp&&(o.multiline||o.global)});return d(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:W.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function GT(t){let e=[],r=d(t,i=>te(t,(a,s)=>(i.PATTERN.source===s.PATTERN.source&&!K(e,s)&&s.PATTERN!==L.NA&&(e.push(s),a.push(s)),a),[]));r=ze(r);let n=fe(r,i=>i.length>1);return d(n,i=>{let a=d(i,l=>l.name);return {message:`The same RegExp pattern ->${se(i).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:W.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function KT(t){let e=fe(t,n=>{if(!E(n,"GROUP"))return !1;let o=n.GROUP;return o!==L.SKIPPED&&o!==L.NA&&!ne(o)});return d(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:W.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function WT(t,e){let r=fe(t,o=>o.PUSH_MODE!==void 0&&!K(e,o.PUSH_MODE));return d(r,o=>({message:`Token Type: ->${o.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${o.PUSH_MODE}<-which does not exist`,type:W.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[o]}))}function $T(t){let e=[],r=te(t,(n,o,i)=>{let a=o.PATTERN;return a===L.NA||(ne(a)?n.push({str:a,idx:i,tokenType:o}):Pe(a)&&jT(a)&&n.push({str:a.source,idx:i,tokenType:o})),n},[]);return x(t,(n,o)=>{x(r,({str:i,idx:a,tokenType:s})=>{if(o<a&&VT(i,n.PATTERN)){let l=`Token: ->${s.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:W.UNREACHABLE_PATTERN,tokenTypes:[n,s]});}});}),e}function VT(t,e){if(Pe(e)){let r=e.exec(t);return r!==null&&r.index===0}else {if(he(e))return e(t,0,[],{});if(E(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function jT(t){return Ye([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>t.source.indexOf(r)!==-1)===void 0}function dc(t){let e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function gc(t){let e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function Ec(t,e,r){let n=[];return E(t,Rr)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Rr+`> property in its definition
`,type:W.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),E(t,mo)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+mo+`> property in its definition
`,type:W.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),E(t,mo)&&E(t,Rr)&&!E(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Rr}: <${t.defaultMode}>which does not exist
`,type:W.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),E(t,mo)&&x(t.modes,(o,i)=>{x(o,(a,s)=>{if(pe(a))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${i}> at index: <${s}>
`,type:W.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(E(a,"LONGER_ALT")){let l=I(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];x(l,c=>{!pe(c)&&!K(o,c)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${a.name}> outside of mode <${i}>
`,type:W.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE});});}});}),n}function Ac(t,e,r){let n=[],o=!1,i=ze(re(P(t.modes))),a=bt(i,l=>l[Kt]===L.NA),s=Oc(r);return e&&x(a,l=>{let c=Rc(l,s);if(c!==!1){let f={message:zT(l,c),type:c.issue,tokenType:l};n.push(f);}else E(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(o=!0):po(s,l.PATTERN)&&(o=!0);}),e&&!o&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:W.NO_LINE_BREAKS_FLAGS}),n}function Ic(t){let e={},r=M(t);return x(r,n=>{let o=t[n];if(I(o))e[n]=[];else throw Error("non exhaustive match")}),e}function yc(t){let e=t.PATTERN;if(Pe(e))return !1;if(he(e))return !0;if(E(e,"exec"))return !0;if(ne(e))return !1;throw Error("non exhaustive match")}function HT(t){return ne(t)&&t.length===1?t.charCodeAt(0):!1}var Sc={test:function(t){let e=t.length;for(let r=this.lastIndex;r<e;r++){let n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return !1},lastIndex:0};function Rc(t,e){if(E(t,"LINE_BREAKS"))return !1;if(Pe(t.PATTERN)){try{po(e,t.PATTERN);}catch(r){return {issue:W.IDENTIFY_TERMINATOR,errMsg:r.message}}return !1}else {if(ne(t.PATTERN))return !1;if(yc(t))return {issue:W.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function zT(t,e){if(e.issue===W.IDENTIFY_TERMINATOR)return `Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===W.CUSTOM_LINE_BREAK)return `Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Oc(t){return d(t,r=>ne(r)?r.charCodeAt(0):r)}function Ii(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r);}var Sr=256,ho=[];function qe(t){return t<Sr?t:ho[t]}function XT(){if(C(ho)){ho=new Array(65536);for(let t=0;t<65536;t++)ho[t]=t>255?255+~~(t/255):t;}}function ct(t,e){let r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}function Or(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}var Nc=1,Cc={};function ut(t){let e=YT(t);qT(e),ZT(e),QT(e),x(e,r=>{r.isParent=r.categoryMatches.length>0;});}function YT(t){let e=F(t),r=t,n=!0;for(;n;){r=ze(re(d(r,i=>i.CATEGORIES)));let o=Ct(r,e);e=e.concat(o),C(o)?n=!1:r=o;}return e}function qT(t){x(t,e=>{Si(e)||(Cc[Nc]=e,e.tokenTypeIdx=Nc++),_c(e)&&!I(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),_c(e)||(e.CATEGORIES=[]),JT(e)||(e.categoryMatches=[]),eE(e)||(e.categoryMatchesMap={});});}function QT(t){x(t,e=>{e.categoryMatches=[],x(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(Cc[n].tokenTypeIdx);});});}function ZT(t){x(t,e=>{bc([],e);});}function bc(t,e){x(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0;}),x(e.CATEGORIES,r=>{let n=t.concat(e);K(n,r)||bc(n,r);});}function Si(t){return E(t,"tokenTypeIdx")}function _c(t){return E(t,"CATEGORIES")}function JT(t){return E(t,"categoryMatches")}function eE(t){return E(t,"categoryMatchesMap")}function Lc(t){return E(t,"tokenTypeIdx")}var Ri={buildUnableToPopLexerModeMessage(t){return `Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,n,o){return `unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};var W;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";})(W||(W={}));var Qr={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Ri,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Qr);var L=class{constructor(e,r=Qr){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(o,i)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${o}>`);let{time:s,value:l}=Vr(i),c=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${a}<-- <${o}> time: ${s}ms`),this.traceInitIndent--,l}else return i()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=le({},Qr,r);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let o,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Qr.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Sc;else if(this.config.lineTerminatorCharacters===Qr.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),I(e)?o={modes:{defaultMode:F(e)},defaultMode:Rr}:(i=!1,o=F(e));}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Ec(o,this.trackStartLines,this.config.lineTerminatorCharacters));}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Ac(o,this.trackStartLines,this.config.lineTerminatorCharacters));})),o.modes=o.modes?o.modes:{},x(o.modes,(s,l)=>{o.modes[l]=bt(s,c=>pe(c));});let a=M(o.modes);if(x(o.modes,(s,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Tc(s,a));}),C(this.lexerDefinitionErrors)){ut(s);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=xc(s,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT});}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=le({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized;}});}),this.defaultMode=o.defaultMode,!C(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let l=d(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}x(this.lexerDefinitionWarning,s=>{$r(s.message);}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(yi?(this.chopInput=ve,this.match=this.matchWithTest):(this.updateLastIndex=V,this.match=this.matchWithExec),i&&(this.handleModes=V),this.trackStartLines===!1&&(this.computeNewColumn=ve),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=V),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom);}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let s=te(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(r.ensureOptimizations&&!C(s))throw Error(`Lexer Modes: < ${s.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{fc();}),this.TRACE_INIT("toFastProperties",()=>{jr(this);});});}tokenize(e,r=this.defaultMode){if(!C(this.lexerDefinitionErrors)){let o=d(this.lexerDefinitionErrors,i=>i.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+o)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,o,i,a,s,l,c,u,f,p,T,y,S,A,g,m=e,N=m.length,_=0,_e=0,ri=this.hasCustom?0:Math.floor(e.length/10),Be=new Array(ri),ni=[],wr=this.trackStartLines?1:void 0,pt=this.trackStartLines?1:void 0,Fr=Ic(this.emptyGroups),Du=this.trackStartLines,oi=this.config.lineTerminatorsPattern,bn=0,mt=[],Ur=[],Ln=[],pa=[];Object.freeze(pa);let Dr;function ma(){return mt}function ha(ce){let Le=qe(ce),Yt=Ur[Le];return Yt===void 0?pa:Yt}let Bu=ce=>{if(Ln.length===1&&ce.tokenType.PUSH_MODE===void 0){let Le=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ce);ni.push({offset:ce.startOffset,line:ce.startLine,column:ce.startColumn,length:ce.image.length,message:Le});}else {Ln.pop();let Le=Xe(Ln);mt=this.patternIdxToConfig[Le],Ur=this.charCodeToPatternIdxToConfig[Le],bn=mt.length;let Yt=this.canModeBeOptimized[Le]&&this.config.safeMode===!1;Ur&&Yt?Dr=ha:Dr=ma;}};function da(ce){Ln.push(ce),Ur=this.charCodeToPatternIdxToConfig[ce],mt=this.patternIdxToConfig[ce],bn=mt.length,bn=mt.length;let Le=this.canModeBeOptimized[ce]&&this.config.safeMode===!1;Ur&&Le?Dr=ha:Dr=ma;}da.call(this,r);let we,ga=this.config.recoveryEnabled;for(;_<N;){l=null;let ce=m.charCodeAt(_),Le=Dr(ce),Yt=Le.length;for(n=0;n<Yt;n++){we=Le[n];let Ce=we.pattern;c=null;let rt=we.short;if(rt!==!1?ce===rt&&(l=Ce):we.isCustom===!0?(g=Ce.exec(m,_,Be,Fr),g!==null?(l=g[0],g.payload!==void 0&&(c=g.payload)):l=null):(this.updateLastIndex(Ce,_),l=this.match(Ce,e,_)),l!==null){if(s=we.longerAlt,s!==void 0){let ht=s.length;for(i=0;i<ht;i++){let nt=mt[s[i]],wt=nt.pattern;if(u=null,nt.isCustom===!0?(g=wt.exec(m,_,Be,Fr),g!==null?(a=g[0],g.payload!==void 0&&(u=g.payload)):a=null):(this.updateLastIndex(wt,_),a=this.match(wt,e,_)),a&&a.length>l.length){l=a,c=u,we=nt;break}}}break}}if(l!==null){if(f=l.length,p=we.group,p!==void 0&&(T=we.tokenTypeIdx,y=this.createTokenInstance(l,_,T,we.tokenType,wr,pt,f),this.handlePayload(y,c),p===!1?_e=this.addToken(Be,_e,y):Fr[p].push(y)),e=this.chopInput(e,f),_=_+f,pt=this.computeNewColumn(pt,f),Du===!0&&we.canLineTerminator===!0){let Ce=0,rt,ht;oi.lastIndex=0;do rt=oi.test(l),rt===!0&&(ht=oi.lastIndex-1,Ce++);while(rt===!0);Ce!==0&&(wr=wr+Ce,pt=f-ht,this.updateTokenEndLineColumnLocation(y,p,ht,Ce,wr,pt,f));}this.handleModes(we,Bu,da,y);}else {let Ce=_,rt=wr,ht=pt,nt=ga===!1;for(;nt===!1&&_<N;)for(e=this.chopInput(e,1),_++,o=0;o<bn;o++){let wt=mt[o],ii=wt.pattern,xa=wt.short;if(xa!==!1?m.charCodeAt(_)===xa&&(nt=!0):wt.isCustom===!0?nt=ii.exec(m,_,Be,Fr)!==null:(this.updateLastIndex(ii,_),nt=ii.exec(e)!==null),nt===!0)break}if(S=_-Ce,pt=this.computeNewColumn(pt,S),A=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(m,Ce,S,rt,ht),ni.push({offset:Ce,line:rt,column:ht,length:S,message:A}),ga===!1)break}}return this.hasCustom||(Be.length=_e),{tokens:Be,groups:Fr,errors:ni}}handleModes(e,r,n,o){if(e.pop===!0){let i=e.push;r(o),i!==void 0&&n.call(this,i);}else e.push!==void 0&&n.call(this,e.push);}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r;}updateTokenEndLineColumnLocation(e,r,n,o,i,a,s){let l,c;r!==void 0&&(l=n===s-1,c=l?-1:0,o===1&&l===!0||(e.endLine=i+c,e.endColumn=a-1+-c));}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,o){return {image:e,startOffset:r,tokenTypeIdx:n,tokenType:o}}createStartOnlyToken(e,r,n,o,i,a){return {image:e,startOffset:r,startLine:i,startColumn:a,tokenTypeIdx:n,tokenType:o}}createFullToken(e,r,n,o,i,a,s){return {image:e,startOffset:r,endOffset:r+s-1,startLine:i,endLine:i,startColumn:a,endColumn:a+s-1,tokenTypeIdx:n,tokenType:o}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r);}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){let n=e.exec(r);return n!==null?n[0]:null}};L.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";L.NA=/NOT_APPLICABLE/;function Wt(t){return Oi(t)?t.LABEL:t.name}function Oi(t){return ne(t.LABEL)&&t.LABEL!==""}var tE="parent",vc="categories",kc="label",Pc="group",Mc="push_mode",wc="pop_mode",Fc="longer_alt",Uc="line_breaks",Dc="start_chars_hint";function h(t){return rE(t)}function rE(t){let e=t.pattern,r={};if(r.name=t.name,pe(e)||(r.PATTERN=e),E(t,tE))throw `The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return E(t,vc)&&(r.CATEGORIES=t[vc]),ut([r]),E(t,kc)&&(r.LABEL=t[kc]),E(t,Pc)&&(r.GROUP=t[Pc]),E(t,wc)&&(r.POP_MODE=t[wc]),E(t,Mc)&&(r.PUSH_MODE=t[Mc]),E(t,Fc)&&(r.LONGER_ALT=t[Fc]),E(t,Uc)&&(r.LINE_BREAKS=t[Uc]),E(t,Dc)&&(r.START_CHARS_HINT=t[Dc]),r}var Ue=h({name:"EOF",pattern:L.NA});ut([Ue]);function $t(t,e,r,n,o,i,a,s){return {image:e,startOffset:r,endOffset:n,startLine:o,endLine:i,startColumn:a,endColumn:s,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Ni(t,e){return ct(t,e)}var go={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:n}){return `Expecting ${Oi(t)?`--> ${Wt(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return "Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:o}){let i="Expecting: ",s=`
but found: '`+se(e).image+"'";if(n)return i+n+s;{let l=te(t,(p,T)=>p.concat(T),[]),c=d(l,p=>`[${d(p,T=>Wt(T)).join(", ")}]`),f=`one of these possible Token sequences:
${d(c,(p,T)=>`  ${T+1}. ${p}`).join(`
`)}`;return i+f+s}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){let o="Expecting: ",a=`
but found: '`+se(e).image+"'";if(r)return o+r+a;{let l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${d(t,c=>`[${d(c,u=>Wt(u)).join(",")}]`).join(" ,")}>`;return o+l+a}}};Object.freeze(go);var Bc={buildRuleNotFoundError(t,e){return "Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},De={buildDuplicateFoundError(t,e){function r(u){return u instanceof b?u.terminalType.name:u instanceof U?u.nonTerminalName:""}let n=t.name,o=se(e),i=o.idx,a=Re(o),s=r(o),l=i>0,c=`->${a}${l?i:""}<- ${s?`with argument: ->${s}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return `Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){let e=d(t.prefixPath,o=>Wt(o)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return `Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){let e=d(t.prefixPath,o=>Wt(o)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx,n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=Re(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return "deprecated"},buildEmptyAlternationError(t){return `Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return `An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){let e=t.topLevelRule.name,r=d(t.leftRecursionPath,i=>i.name),n=`${e} --> ${r.concat([e]).join(" --> ")}`;return `Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return "deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof ge?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function Gc(t,e){let r=new _i(t,e);return r.resolveRefs(),r.errors}var _i=class extends xe{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[];}resolveRefs(){x(P(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this);});}visitNonTerminal(e){let r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else {let n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:oe.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName});}}};var Ci=class extends lt{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1;}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=F(this.path.ruleStack).reverse(),this.occurrenceStack=F(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r);}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let o=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,o);}}updateExpectedNext(){C(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop());}},xo=class extends Ci{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence;}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let o=r.concat(n),i=new D({definition:o});this.possibleTokTypes=Bt(i),this.found=!0;}}},Nr=class extends lt{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0};}startWalking(){return this.walk(this.topRule),this.result}},To=class extends Nr{walkMany(e,r,n){if(e.idx===this.occurrence){let o=se(r.concat(n));this.result.isEndOfRule=o===void 0,o instanceof b&&(this.result.token=o.terminalType,this.result.occurrence=o.idx);}else super.walkMany(e,r,n);}},Zr=class extends Nr{walkManySep(e,r,n){if(e.idx===this.occurrence){let o=se(r.concat(n));this.result.isEndOfRule=o===void 0,o instanceof b&&(this.result.token=o.terminalType,this.result.occurrence=o.idx);}else super.walkManySep(e,r,n);}},Eo=class extends Nr{walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){let o=se(r.concat(n));this.result.isEndOfRule=o===void 0,o instanceof b&&(this.result.token=o.terminalType,this.result.occurrence=o.idx);}else super.walkAtLeastOne(e,r,n);}},Jr=class extends Nr{walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){let o=se(r.concat(n));this.result.isEndOfRule=o===void 0,o instanceof b&&(this.result.token=o.terminalType,this.result.occurrence=o.idx);}else super.walkAtLeastOneSep(e,r,n);}};function Ao(t,e,r=[]){r=F(r);let n=[],o=0;function i(s){return s.concat(Y(t,o+1))}function a(s){let l=Ao(i(s),e,r);return n.concat(l)}for(;r.length<e&&o<t.length;){let s=t[o];if(s instanceof D)return a(s.definition);if(s instanceof U)return a(s.definition);if(s instanceof G)n=a(s.definition);else if(s instanceof q){let l=s.definition.concat([new k({definition:s.definition})]);return a(l)}else if(s instanceof Q){let l=[new D({definition:s.definition}),new k({definition:[new b({terminalType:s.separator})].concat(s.definition)})];return a(l)}else if(s instanceof H){let l=s.definition.concat([new k({definition:[new b({terminalType:s.separator})].concat(s.definition)})]);n=a(l);}else if(s instanceof k){let l=s.definition.concat([new k({definition:s.definition})]);n=a(l);}else {if(s instanceof z)return x(s.definition,l=>{C(l.definition)===!1&&(n=a(l.definition));}),n;if(s instanceof b)r.push(s.terminalType);else throw Error("non exhaustive match")}o++;}return n.push({partialPath:r,suffixDef:Y(t,o)}),n}function Io(t,e,r,n){let o="EXIT_NONE_TERMINAL",i=[o],a="EXIT_ALTERNATIVE",s=!1,l=e.length,c=l-n-1,u=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!C(f);){let p=f.pop();if(p===a){s&&Xe(f).idx<=c&&f.pop();continue}let T=p.def,y=p.idx,S=p.ruleStack,O=p.occurrenceStack;if(C(T))continue;let A=T[0];if(A===o){let g={idx:y,def:Y(T),ruleStack:st(S),occurrenceStack:st(O)};f.push(g);}else if(A instanceof b)if(y<l-1){let g=y+1,m=e[g];if(r(m,A.terminalType)){let N={idx:g,def:Y(T),ruleStack:S,occurrenceStack:O};f.push(N);}}else if(y===l-1)u.push({nextTokenType:A.terminalType,nextTokenOccurrence:A.idx,ruleStack:S,occurrenceStack:O}),s=!0;else throw Error("non exhaustive match");else if(A instanceof U){let g=F(S);g.push(A.nonTerminalName);let m=F(O);m.push(A.idx);let N={idx:y,def:A.definition.concat(i,Y(T)),ruleStack:g,occurrenceStack:m};f.push(N);}else if(A instanceof G){let g={idx:y,def:Y(T),ruleStack:S,occurrenceStack:O};f.push(g),f.push(a);let m={idx:y,def:A.definition.concat(Y(T)),ruleStack:S,occurrenceStack:O};f.push(m);}else if(A instanceof q){let g=new k({definition:A.definition,idx:A.idx}),m=A.definition.concat([g],Y(T)),N={idx:y,def:m,ruleStack:S,occurrenceStack:O};f.push(N);}else if(A instanceof Q){let g=new b({terminalType:A.separator}),m=new k({definition:[g].concat(A.definition),idx:A.idx}),N=A.definition.concat([m],Y(T)),_={idx:y,def:N,ruleStack:S,occurrenceStack:O};f.push(_);}else if(A instanceof H){let g={idx:y,def:Y(T),ruleStack:S,occurrenceStack:O};f.push(g),f.push(a);let m=new b({terminalType:A.separator}),N=new k({definition:[m].concat(A.definition),idx:A.idx}),_=A.definition.concat([N],Y(T)),_e={idx:y,def:_,ruleStack:S,occurrenceStack:O};f.push(_e);}else if(A instanceof k){let g={idx:y,def:Y(T),ruleStack:S,occurrenceStack:O};f.push(g),f.push(a);let m=new k({definition:A.definition,idx:A.idx}),N=A.definition.concat([m],Y(T)),_={idx:y,def:N,ruleStack:S,occurrenceStack:O};f.push(_);}else if(A instanceof z)for(let g=A.definition.length-1;g>=0;g--){let m=A.definition[g],N={idx:y,def:m.definition.concat(Y(T)),ruleStack:S,occurrenceStack:O};f.push(N),f.push(a);}else if(A instanceof D)f.push({idx:y,def:A.definition.concat(Y(T)),ruleStack:S,occurrenceStack:O});else if(A instanceof ge)f.push(nE(A,y,S,O));else throw Error("non exhaustive match")}return u}function nE(t,e,r,n){let o=F(r);o.push(t.name);let i=F(n);return i.push(1),{idx:e,def:t.definition,ruleStack:o,occurrenceStack:i}}var j;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION";})(j||(j={}));function So(t){if(t instanceof G||t==="Option")return j.OPTION;if(t instanceof k||t==="Repetition")return j.REPETITION;if(t instanceof q||t==="RepetitionMandatory")return j.REPETITION_MANDATORY;if(t instanceof Q||t==="RepetitionMandatoryWithSeparator")return j.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof H||t==="RepetitionWithSeparator")return j.REPETITION_WITH_SEPARATOR;if(t instanceof z||t==="Alternation")return j.ALTERNATION;throw Error("non exhaustive match")}function Wc(t,e,r,n,o,i){let a=en(t,e,r),s=Xc(a)?Or:ct;return i(a,n,s,o)}function $c(t,e,r,n,o,i){let a=tn(t,e,o,r),s=Xc(a)?Or:ct;return i(a[0],s,n)}function Vc(t,e,r,n){let o=t.length,i=ue(t,a=>ue(a,s=>s.length===1));if(e)return function(a){let s=d(a,l=>l.GATE);for(let l=0;l<o;l++){let c=t[l],u=c.length,f=s[l];if(!(f!==void 0&&f.call(this)===!1))e:for(let p=0;p<u;p++){let T=c[p],y=T.length;for(let S=0;S<y;S++){let O=this.LA(S+1);if(r(O,T[S])===!1)continue e}return l}}};if(i&&!n){let a=d(t,l=>re(l)),s=te(a,(l,c,u)=>(x(c,f=>{E(l,f.tokenTypeIdx)||(l[f.tokenTypeIdx]=u),x(f.categoryMatches,p=>{E(l,p)||(l[p]=u);});}),l),{});return function(){let l=this.LA(1);return s[l.tokenTypeIdx]}}else return function(){for(let a=0;a<o;a++){let s=t[a],l=s.length;e:for(let c=0;c<l;c++){let u=s[c],f=u.length;for(let p=0;p<f;p++){let T=this.LA(p+1);if(r(T,u[p])===!1)continue e}return a}}}}function jc(t,e,r){let n=ue(t,i=>i.length===1),o=t.length;if(n&&!r){let i=re(t);if(i.length===1&&C(i[0].categoryMatches)){let s=i[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else {let a=te(i,(s,l,c)=>(s[l.tokenTypeIdx]=!0,x(l.categoryMatches,u=>{s[u]=!0;}),s),[]);return function(){let s=this.LA(1);return a[s.tokenTypeIdx]===!0}}}else return function(){e:for(let i=0;i<o;i++){let a=t[i],s=a.length;for(let l=0;l<s;l++){let c=this.LA(l+1);if(e(c,a[l])===!1)continue e}return !0}return !1}}var Li=class extends lt{constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n;}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,o){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(o),!0):!1}walkOption(e,r,n){this.checkIsTarget(e,j.OPTION,r,n)||super.walkOption(e,r,n);}walkAtLeastOne(e,r,n){this.checkIsTarget(e,j.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n);}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,j.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n);}walkMany(e,r,n){this.checkIsTarget(e,j.REPETITION,r,n)||super.walkOption(e,r,n);}walkManySep(e,r,n){this.checkIsTarget(e,j.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n);}},yo=class extends xe{constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[];}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition);}visitOption(e){this.checkIsTarget(e,j.OPTION);}visitRepetition(e){this.checkIsTarget(e,j.REPETITION);}visitRepetitionMandatory(e){this.checkIsTarget(e,j.REPETITION_MANDATORY);}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,j.REPETITION_MANDATORY_WITH_SEPARATOR);}visitRepetitionWithSeparator(e){this.checkIsTarget(e,j.REPETITION_WITH_SEPARATOR);}visitAlternation(e){this.checkIsTarget(e,j.ALTERNATION);}};function Kc(t){let e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function bi(t){let e=[""];for(let r=0;r<t.length;r++){let n=t[r],o=[];for(let i=0;i<e.length;i++){let a=e[i];o.push(a+"_"+n.tokenTypeIdx);for(let s=0;s<n.categoryMatches.length;s++){let l="_"+n.categoryMatches[s];o.push(a+l);}}e=o;}return e}function oE(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;let o=t[n];for(let i=0;i<e.length;i++){let a=e[i];if(o[a]===!0)return !1}}return !0}function Hc(t,e){let r=d(t,a=>Ao([a],1)),n=Kc(r.length),o=d(r,a=>{let s={};return x(a,l=>{let c=bi(l.partialPath);x(c,u=>{s[u]=!0;});}),s}),i=r;for(let a=1;a<=e;a++){let s=i;i=Kc(s.length);for(let l=0;l<s.length;l++){let c=s[l];for(let u=0;u<c.length;u++){let f=c[u].partialPath,p=c[u].suffixDef,T=bi(f);if(oE(o,T,l)||C(p)||f.length===e){let S=n[l];if(Ro(S,f)===!1){S.push(f);for(let O=0;O<T.length;O++){let A=T[O];o[l][A]=!0;}}}else {let S=Ao(p,a+1,f);i[l]=i[l].concat(S),x(S,O=>{let A=bi(O.partialPath);x(A,g=>{o[l][g]=!0;});});}}}}return n}function en(t,e,r,n){let o=new yo(t,j.ALTERNATION,n);return e.accept(o),Hc(o.result,r)}function tn(t,e,r,n){let o=new yo(t,r);e.accept(o);let i=o.result,s=new Li(e,t,r).startWalking(),l=new D({definition:i}),c=new D({definition:s});return Hc([l,c],n)}function Ro(t,e){e:for(let r=0;r<t.length;r++){let n=t[r];if(n.length===e.length){for(let o=0;o<n.length;o++){let i=e[o],a=n[o];if((i===a||a.categoryMatchesMap[i.tokenTypeIdx]!==void 0)===!1)continue e}return !0}}return !1}function zc(t,e){return t.length<e.length&&ue(t,(r,n)=>{let o=e[n];return r===o||o.categoryMatchesMap[r.tokenTypeIdx]})}function Xc(t){return ue(t,e=>ue(e,r=>ue(r,n=>C(n.categoryMatches))))}function Yc(t){let e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return d(e,r=>Object.assign({type:oe.CUSTOM_LOOKAHEAD_VALIDATION},r))}function qc(t,e,r,n){let o=de(t,l=>iE(l,r)),i=fE(t,e,r),a=de(t,l=>lE(l,r)),s=de(t,l=>sE(l,t,n,r));return o.concat(i,a,s)}function iE(t,e){let r=new vi;t.accept(r);let n=r.allProductions,o=pi(n,aE),i=Se(o,s=>s.length>1);return d(P(i),s=>{let l=se(s),c=e.buildDuplicateFoundError(t,s),u=Re(l),f={message:c,type:oe.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:l.idx},p=Qc(l);return p&&(f.parameter=p),f})}function aE(t){return `${Re(t)}_#_${t.idx}_#_${Qc(t)}`}function Qc(t){return t instanceof b?t.terminalType.name:t instanceof U?t.nonTerminalName:""}var vi=class extends xe{constructor(){super(...arguments),this.allProductions=[];}visitNonTerminal(e){this.allProductions.push(e);}visitOption(e){this.allProductions.push(e);}visitRepetitionWithSeparator(e){this.allProductions.push(e);}visitRepetitionMandatory(e){this.allProductions.push(e);}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e);}visitRepetition(e){this.allProductions.push(e);}visitAlternation(e){this.allProductions.push(e);}visitTerminal(e){this.allProductions.push(e);}};function sE(t,e,r,n){let o=[];if(te(e,(a,s)=>s.name===t.name?a+1:a,0)>1){let a=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});o.push({message:a,type:oe.DUPLICATE_RULE_NAME,ruleName:t.name});}return o}function Zc(t,e,r){let n=[],o;return K(e,t)||(o=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:o,type:oe.INVALID_RULE_OVERRIDE,ruleName:t})),n}function Pi(t,e,r,n=[]){let o=[],i=Oo(e.definition);if(C(i))return [];{let a=t.name;K(i,t)&&o.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:oe.LEFT_RECURSION,ruleName:a});let l=Ct(i,n.concat([t])),c=de(l,u=>{let f=F(n);return f.push(u),Pi(t,u,r,f)});return o.concat(c)}}function Oo(t){let e=[];if(C(t))return e;let r=se(t);if(r instanceof U)e.push(r.referencedRule);else if(r instanceof D||r instanceof G||r instanceof q||r instanceof Q||r instanceof H||r instanceof k)e=e.concat(Oo(r.definition));else if(r instanceof z)e=re(d(r.definition,i=>Oo(i.definition)));else if(!(r instanceof b))throw Error("non exhaustive match");let n=Dt(r),o=t.length>1;if(n&&o){let i=Y(t);return e.concat(Oo(i))}else return e}var rn=class extends xe{constructor(){super(...arguments),this.alternations=[];}visitAlternation(e){this.alternations.push(e);}};function Jc(t,e){let r=new rn;t.accept(r);let n=r.alternations;return de(n,i=>{let a=st(i.definition);return de(a,(s,l)=>{let c=Io([s],[],ct,1);return C(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:i,emptyChoiceIdx:l}),type:oe.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:i.idx,alternative:l+1}]:[]})})}function eu(t,e,r){let n=new rn;t.accept(n);let o=n.alternations;return o=bt(o,a=>a.ignoreAmbiguities===!0),de(o,a=>{let s=a.idx,l=a.maxLookahead||e,c=en(s,t,l,a),u=cE(c,a,t,r),f=uE(c,a,t,r);return u.concat(f)})}var ki=class extends xe{constructor(){super(...arguments),this.allProductions=[];}visitRepetitionWithSeparator(e){this.allProductions.push(e);}visitRepetitionMandatory(e){this.allProductions.push(e);}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e);}visitRepetition(e){this.allProductions.push(e);}};function lE(t,e){let r=new rn;t.accept(r);let n=r.alternations;return de(n,i=>i.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:i}),type:oe.TOO_MANY_ALTS,ruleName:t.name,occurrence:i.idx}]:[])}function tu(t,e,r){let n=[];return x(t,o=>{let i=new ki;o.accept(i);let a=i.allProductions;x(a,s=>{let l=So(s),c=s.maxLookahead||e,u=s.idx,p=tn(u,o,l,c)[0];if(C(re(p))){let T=r.buildEmptyRepetitionError({topLevelRule:o,repetition:s});n.push({message:T,type:oe.NO_NON_EMPTY_LOOKAHEAD,ruleName:o.name});}});}),n}function cE(t,e,r,n){let o=[],i=te(t,(s,l,c)=>(e.definition[c].ignoreAmbiguities===!0||x(l,u=>{let f=[c];x(t,(p,T)=>{c!==T&&Ro(p,u)&&e.definition[T].ignoreAmbiguities!==!0&&f.push(T);}),f.length>1&&!Ro(o,u)&&(o.push(u),s.push({alts:f,path:u}));}),s),[]);return d(i,s=>{let l=d(s.alts,u=>u+1);return {message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:l,prefixPath:s.path}),type:oe.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:s.alts}})}function uE(t,e,r,n){let o=te(t,(a,s,l)=>{let c=d(s,u=>({idx:l,path:u}));return a.concat(c)},[]);return ze(de(o,a=>{if(e.definition[a.idx].ignoreAmbiguities===!0)return [];let l=a.idx,c=a.path,u=fe(o,p=>e.definition[p.idx].ignoreAmbiguities!==!0&&p.idx<l&&zc(p.path,c));return d(u,p=>{let T=[p.idx+1,l+1],y=e.idx===0?"":e.idx;return {message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:T,prefixPath:p.path}),type:oe.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:y,alternatives:T}})}))}function fE(t,e,r){let n=[],o=d(e,i=>i.name);return x(t,i=>{let a=i.name;if(K(o,a)){let s=r.buildNamespaceConflictError(i);n.push({message:s,type:oe.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a});}}),n}function ru(t){let e=xr(t,{errMsgProvider:Bc}),r={};return x(t.rules,n=>{r[n.name]=n;}),Gc(r,e.errMsgProvider)}function nu(t){return t=xr(t,{errMsgProvider:De}),qc(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}var ou="MismatchedTokenException",iu="NoViableAltException",au="EarlyExitException",su="NotAllInputParsedException",lu=[ou,iu,au,su];Object.freeze(lu);function vt(t){return K(lu,t.name)}var _r=class extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);}},Vt=class extends _r{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=ou;}},nn=class extends _r{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=iu;}},on=class extends _r{constructor(e,r){super(e,r),this.name=su;}},an=class extends _r{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=au;}};var Mi={},Fi="InRuleRecoveryException",wi=class extends Error{constructor(e){super(e),this.name=Fi;}},No=class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=E(e,"recoveryEnabled")?e.recoveryEnabled:Te.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=pE);}getTokenToInsert(e){let r=$t(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return !0}canTokenTypeBeDeletedInRecovery(e){return !0}tryInRepetitionRecovery(e,r,n,o){let i=this.findReSyncTokenType(),a=this.exportLexerState(),s=[],l=!1,c=this.LA(1),u=this.LA(1),f=()=>{let p=this.LA(0),T=this.errorMessageProvider.buildMismatchTokenMessage({expected:o,actual:c,previous:p,ruleName:this.getCurrRuleFullName()}),y=new Vt(T,c,this.LA(0));y.resyncedTokens=st(s),this.SAVE_ERROR(y);};for(;!l;)if(this.tokenMatcher(u,o)){f();return}else if(n.call(this)){f(),e.apply(this,r);return}else this.tokenMatcher(u,i)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,s));this.importLexerState(a);}shouldInRepetitionRecoveryBeTried(e,r,n){return !(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){let n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new wi("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||C(r))return !1;let n=this.LA(1);return Ye(r,i=>this.tokenMatcher(n,i))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){let r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return K(n,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),r=this.LA(1),n=2;for(;;){let o=Ye(e,i=>Ni(r,i));if(o!==void 0)return o;r=this.LA(n),n++;}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Mi;let e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return {ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return d(e,(n,o)=>o===0?Mi:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[o],inRule:this.shortRuleNameToFullName(e[o-1])})}flattenFollowSet(){let e=d(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return re(e)}getFollowSetFromFollowKey(e){if(e===Mi)return [Ue];let r=e.ruleName+e.idxInCallingRule+so+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,Ue)||r.push(e),r}reSyncTo(e){let r=[],n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return st(r)}attemptInRepetitionRecovery(e,r,n,o,i,a,s){}getCurrentGrammarPath(e,r){let n=this.getHumanReadableRuleStack(),o=F(this.RULE_OCCURRENCE_STACK);return {ruleStack:n,occurrenceStack:o,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return d(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}};function pE(t,e,r,n,o,i,a){let s=this.getKeyForAutomaticLookahead(n,o),l=this.firstAfterRepMap[s];if(l===void 0){let p=this.getCurrRuleFullName(),T=this.getGAstProductions()[p];l=new i(T,o).startWalking(),this.firstAfterRepMap[s]=l;}let c=l.token,u=l.occurrence,f=l.isEndOfRule;this.RULE_STACK.length===1&&f&&c===void 0&&(c=Ue,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,a)&&this.tryInRepetitionRecovery(t,e,r,c);}function _o(t,e,r){return r|e|t}var sn=class{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:Te.maxLookahead;}validate(e){let r=this.validateNoLeftRecursion(e.rules);if(C(r)){let n=this.validateEmptyOrAlternatives(e.rules),o=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return [...r,...n,...o,...i]}return r}validateNoLeftRecursion(e){return de(e,r=>Pi(r,r,De))}validateEmptyOrAlternatives(e){return de(e,r=>Jc(r,De))}validateAmbiguousAlternationAlternatives(e,r){return de(e,n=>eu(n,r,De))}validateSomeNonEmptyLookaheadPath(e,r){return tu(e,r,De)}buildLookaheadForAlternation(e){return Wc(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Vc)}buildLookaheadForOptional(e){return $c(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,So(e.prodType),jc)}};var bo=class{initLooksAhead(e){this.dynamicTokensEnabled=E(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Te.dynamicTokensEnabled,this.maxLookahead=E(e,"maxLookahead")?e.maxLookahead:Te.maxLookahead,this.lookaheadStrategy=E(e,"lookaheadStrategy")?e.lookaheadStrategy:new sn({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map;}preComputeLookaheadFunctions(e){x(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:n,repetition:o,option:i,repetitionMandatory:a,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:l}=mE(r);x(n,c=>{let u=c.idx===0?"":c.idx;this.TRACE_INIT(`${Re(c)}${u}`,()=>{let f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:r,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=_o(this.fullRuleNameToShort[r.name],256,c.idx);this.setLaFuncCache(p,f);});}),x(o,c=>{this.computeLookaheadFunc(r,c.idx,768,"Repetition",c.maxLookahead,Re(c));}),x(i,c=>{this.computeLookaheadFunc(r,c.idx,512,"Option",c.maxLookahead,Re(c));}),x(a,c=>{this.computeLookaheadFunc(r,c.idx,1024,"RepetitionMandatory",c.maxLookahead,Re(c));}),x(s,c=>{this.computeLookaheadFunc(r,c.idx,1536,"RepetitionMandatoryWithSeparator",c.maxLookahead,Re(c));}),x(l,c=>{this.computeLookaheadFunc(r,c.idx,1280,"RepetitionWithSeparator",c.maxLookahead,Re(c));});});});}computeLookaheadFunc(e,r,n,o,i,a){this.TRACE_INIT(`${a}${r===0?"":r}`,()=>{let s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:o}),l=_o(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,s);});}getKeyForAutomaticLookahead(e,r){let n=this.getLastExplicitRuleShortName();return _o(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r);}},Ui=class extends xe{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]};}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]};}visitOption(e){this.dslMethods.option.push(e);}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e);}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e);}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e);}visitRepetition(e){this.dslMethods.repetition.push(e);}visitAlternation(e){this.dslMethods.alternation.push(e);}},Co=new Ui;function mE(t){Co.reset(),t.accept(Co);let e=Co.dslMethods;return Co.reset(),e}function Gi(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset);}function Ki(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine);}function cu(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e);}function uu(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r);}var hE="name";function Wi(t,e){Object.defineProperty(t,hE,{enumerable:!1,configurable:!0,writable:!1,value:e});}function dE(t,e){let r=M(t),n=r.length;for(let o=0;o<n;o++){let i=r[o],a=t[i],s=a.length;for(let l=0;l<s;l++){let c=a[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e);}}}function fu(t,e){let r=function(){};Wi(r,t+"BaseSemantics");let n={visit:function(o,i){if(I(o)&&(o=o[0]),!pe(o))return this[o.name](o.children,i)},validateVisitor:function(){let o=gE(this,e);if(!C(o)){let i=d(o,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${i.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}function pu(t,e,r){let n=function(){};Wi(n,t+"BaseSemanticsWithDefaults");let o=Object.create(r.prototype);return x(e,i=>{o[i]=dE;}),n.prototype=o,n.prototype.constructor=n,n}var $i;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD";})($i||($i={}));function gE(t,e){return xE(t,e)}function xE(t,e){let r=fe(e,o=>he(t[o])===!1),n=d(r,o=>({msg:`Missing visitor method: <${o}> on ${t.constructor.name} CST Visitor.`,type:$i.MISSING_METHOD,methodName:o}));return ze(n)}var Po=class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=E(e,"nodeLocationTracking")?e.nodeLocationTracking:Te.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=V,this.cstFinallyStateUpdate=V,this.cstPostTerminal=V,this.cstPostNonTerminal=V,this.cstPostRule=V;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=V,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=V,this.setNodeLocationFromNode=V,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Gi,this.setNodeLocationFromNode=Gi,this.cstPostRule=V,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=V,this.setNodeLocationFromNode=V,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=V,this.setNodeLocationFromNode=V,this.cstPostRule=V,this.setInitialNodeLocation=V;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN};}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN};}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN};}setInitialNodeLocationFullRegular(e){let r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN};}cstInvocationStateUpdate(e){let r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r);}cstFinallyStateUpdate(){this.CST_STACK.pop();}cstPostRuleFull(e){let r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN);}cstPostRuleOnlyOffset(e){let r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN;}cstPostTerminal(e,r){let n=this.CST_STACK[this.CST_STACK.length-1];cu(n,r,e),this.setNodeLocationFromToken(n.location,r);}cstPostNonTerminal(e,r){let n=this.CST_STACK[this.CST_STACK.length-1];uu(n,r,e),this.setNodeLocationFromNode(n.location,e.location);}getBaseCstVisitorConstructor(){if(pe(this.baseCstVisitorConstructor)){let e=fu(this.className,M(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(pe(this.baseCstVisitorWithDefaultsConstructor)){let e=pu(this.className,M(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}};var Mo=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1;}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length;}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Cr}LA(e){let r=this.currIdx+e;return r<0||this.tokVectorLength<=r?Cr:this.tokVector[r]}consumeToken(){this.currIdx++;}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e;}resetLexerState(){this.currIdx=-1;}moveToTerminatedState(){this.currIdx=this.tokVector.length-1;}getLexerPosition(){return this.exportLexerState()}};var wo=class{ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e);}MANY1(e){this.manyInternal(1,e);}MANY2(e){this.manyInternal(2,e);}MANY3(e){this.manyInternal(3,e);}MANY4(e){this.manyInternal(4,e);}MANY5(e){this.manyInternal(5,e);}MANY6(e){this.manyInternal(6,e);}MANY7(e){this.manyInternal(7,e);}MANY8(e){this.manyInternal(8,e);}MANY9(e){this.manyInternal(9,e);}MANY_SEP(e){this.manySepFirstInternal(0,e);}MANY_SEP1(e){this.manySepFirstInternal(1,e);}MANY_SEP2(e){this.manySepFirstInternal(2,e);}MANY_SEP3(e){this.manySepFirstInternal(3,e);}MANY_SEP4(e){this.manySepFirstInternal(4,e);}MANY_SEP5(e){this.manySepFirstInternal(5,e);}MANY_SEP6(e){this.manySepFirstInternal(6,e);}MANY_SEP7(e){this.manySepFirstInternal(7,e);}MANY_SEP8(e){this.manySepFirstInternal(8,e);}MANY_SEP9(e){this.manySepFirstInternal(9,e);}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e);}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e);}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e);}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e);}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e);}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e);}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e);}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e);}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e);}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e);}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e);}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e);}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e);}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e);}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e);}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e);}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e);}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e);}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e);}RULE(e,r,n=br){if(K(this.definedRulesNames,e)){let a={message:De.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:oe.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(a);}this.definedRulesNames.push(e);let o=this.defineRule(e,r,n);return this[e]=o,o}OVERRIDE_RULE(e,r,n=br){let o=Zc(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(o);let i=this.defineRule(e,r,n);return this[e]=i,i}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return e.apply(this,r),!0}catch(o){if(vt(o))return !1;throw o}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop();}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return ao(P(this.gastProductionsCache))}};var Fo=class{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Or,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},E(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(I(e)){if(C(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(I(e))this.tokensMap=te(e,(i,a)=>(i[a.name]=a,i),{});else if(E(e,"modes")&&ue(re(P(e.modes)),Lc)){let i=re(P(e.modes)),a=Tr(i);this.tokensMap=te(a,(s,l)=>(s[l.name]=l,s),{});}else if($(e))this.tokensMap=F(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Ue;let n=E(e,"modes")?re(P(e.modes)):P(e),o=ue(n,i=>C(i.categoryMatches));this.tokenMatcher=o?Or:ct,ut(P(this.tokensMap));}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let o=E(n,"resyncEnabled")?n.resyncEnabled:br.resyncEnabled,i=E(n,"recoveryValueFunc")?n.recoveryValueFunc:br.recoveryValueFunc,a=this.ruleShortNameIdx<<4+8;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let s;return this.outputCst===!0?s=function(...u){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),r.apply(this,u);let f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}catch(f){return this.invokeRuleCatch(f,o,i)}finally{this.ruleFinallyStateUpdate();}}:s=function(...u){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),r.apply(this,u)}catch(f){return this.invokeRuleCatch(f,o,i)}finally{this.ruleFinallyStateUpdate();}},Object.assign(s,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){let o=this.RULE_STACK.length===1,i=r&&!this.isBackTracking()&&this.recoveryEnabled;if(vt(e)){let a=e;if(i){let s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(a.resyncedTokens=this.reSyncTo(s),this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(e);else {if(this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l;}throw a}}else {if(o)return this.moveToTerminatedState(),n(e);throw a}}else throw e}optionInternal(e,r){let n=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let o=this.getLaFuncFromCache(n),i;if(typeof e!="function"){i=e.DEF;let a=e.GATE;if(a!==void 0){let s=o;o=()=>a.call(this)&&s.call(this);}}else i=e;if(o.call(this)===!0)return i.call(this)}atLeastOneInternal(e,r){let n=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let o=this.getLaFuncFromCache(n),i;if(typeof r!="function"){i=r.DEF;let a=r.GATE;if(a!==void 0){let s=o;o=()=>a.call(this)&&s.call(this);}}else i=r;if(o.call(this)===!0){let a=this.doSingleRepetition(i);for(;o.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i);}else throw this.raiseEarlyExitException(e,j.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],o,1024,e,Eo);}atLeastOneSepFirstInternal(e,r){let n=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,r,n);}atLeastOneSepFirstInternalLogic(e,r,n){let o=r.DEF,i=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){o.call(this);let s=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,s,o,Jr],s,1536,e,Jr);}else throw this.raiseEarlyExitException(e,j.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){let n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let o=this.getLaFuncFromCache(n),i;if(typeof r!="function"){i=r.DEF;let s=r.GATE;if(s!==void 0){let l=o;o=()=>s.call(this)&&l.call(this);}}else i=r;let a=!0;for(;o.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],o,768,e,To,a);}manySepFirstInternal(e,r){let n=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,r,n);}manySepFirstInternalLogic(e,r,n){let o=r.DEF,i=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){o.call(this);let s=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,s,o,Zr],s,1280,e,Zr);}}repetitionSepSecondInternal(e,r,n,o,i){for(;n();)this.CONSUME(r),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,o,i],n,1536,e,i);}doSingleRepetition(e){let r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){let n=this.getKeyForAutomaticLookahead(256,r),o=I(e)?e:e.DEF,a=this.getLaFuncFromCache(n).call(this,o);if(a!==void 0)return o[a].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG);}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new on(r,e));}}subruleInternal(e,r,n){let o;try{let i=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,o=e.apply(this,i),this.cstPostNonTerminal(o,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),o}catch(i){throw this.subruleInternalError(i,n,e.ruleName)}}subruleInternalError(e,r,n){throw vt(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let o;try{let i=this.LA(1);this.tokenMatcher(i,e)===!0?(this.consumeToken(),o=i):this.consumeInternalError(e,i,n);}catch(i){o=this.consumeInternalRecovery(e,r,i);}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,o),o}consumeInternalError(e,r,n){let o,i=this.LA(0);throw n!==void 0&&n.ERR_MSG?o=n.ERR_MSG:o=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Vt(o,r,i))}consumeInternalRecovery(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let o=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,o)}catch(i){throw i.name===Fi?n:i}}else throw n}saveRecogState(){let e=this.errors,r=F(this.RULE_STACK);return {errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK;}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r);}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Ue)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[];}};var Uo=class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=E(e,"errorMessageProvider")?e.errorMessageProvider:Te.errorMessageProvider;}SAVE_ERROR(e){if(vt(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:F(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return F(this._errors)}set errors(e){this._errors=e;}raiseEarlyExitException(e,r,n){let o=this.getCurrRuleFullName(),i=this.getGAstProductions()[o],s=tn(e,i,r,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));let c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:o});throw this.SAVE_ERROR(new an(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){let n=this.getCurrRuleFullName(),o=this.getGAstProductions()[n],i=en(e,o,this.maxLookahead),a=[];for(let c=1;c<=this.maxLookahead;c++)a.push(this.LA(c));let s=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:a,previous:s,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new nn(l,this.LA(1),s))}};var Do=class{initContentAssist(){}computeContentAssist(e,r){let n=this.gastProductionsCache[e];if(pe(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Io([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let r=se(e.ruleStack),o=this.getGAstProductions()[r];return new xo(o,e).startWalking()}};var Ko={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Ko);var mu=!0,hu=Math.pow(2,8)-1,gu=h({name:"RECORDING_PHASE_TOKEN",pattern:L.NA});ut([gu]);var xu=$t(gu,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(xu);var EE={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},Bo=class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1;}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let r=e>0?e:"";this[`CONSUME${r}`]=function(n,o){return this.consumeInternalRecord(n,e,o)},this[`SUBRULE${r}`]=function(n,o){return this.subruleInternalRecord(n,e,o)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n);},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n);},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n);},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n);};}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r);},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r);},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD;});}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let r=0;r<10;r++){let n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`];}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA;});}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return ()=>!0}LA_RECORD(e){return Cr}topLevelRuleRecord(e,r){try{let n=new ge({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`;}catch{throw n}throw n}}optionInternalRecord(e,r){return cn.call(this,G,e,r)}atLeastOneInternalRecord(e,r){cn.call(this,q,r,e);}atLeastOneSepFirstInternalRecord(e,r){cn.call(this,Q,r,e,mu);}manyInternalRecord(e,r){cn.call(this,k,r,e);}manySepFirstInternalRecord(e,r){cn.call(this,H,r,e,mu);}orInternalRecord(e,r){return AE.call(this,e,r)}subruleInternalRecord(e,r,n){if(Go(r),!e||E(e,"ruleName")===!1){let s=new Error(`<SUBRULE${du(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let o=Xe(this.recordingProdStack),i=e.ruleName,a=new U({idx:r,nonTerminalName:i,label:n==null?void 0:n.LABEL,referencedRule:void 0});return o.definition.push(a),this.outputCst?EE:Ko}consumeInternalRecord(e,r,n){if(Go(r),!Si(e)){let a=new Error(`<CONSUME${du(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}let o=Xe(this.recordingProdStack),i=new b({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return o.definition.push(i),xu}};function cn(t,e,r,n=!1){Go(r);let o=Xe(this.recordingProdStack),i=he(e)?e:e.DEF,a=new t({definition:[],idx:r});return n&&(a.separator=e.SEP),E(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),i.call(this),o.definition.push(a),this.recordingProdStack.pop(),Ko}function AE(t,e){Go(e);let r=Xe(this.recordingProdStack),n=I(t)===!1,o=n===!1?t:t.DEF,i=new z({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});E(t,"MAX_LOOKAHEAD")&&(i.maxLookahead=t.MAX_LOOKAHEAD);let a=Wr(o,s=>he(s.GATE));return i.hasPredicates=a,r.definition.push(i),x(o,s=>{let l=new D({definition:[]});i.definition.push(l),E(s,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=s.IGNORE_AMBIGUITIES:E(s,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),s.ALT.call(this),this.recordingProdStack.pop();}),Ko}function du(t){return t===0?"":`${t}`}function Go(t){if(t<0||t>hu){let e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${hu+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}var Wo=class{initPerformanceTracer(e){if(E(e,"traceInitPerf")){let r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r;}else this.traceInitMaxIdent=0,this.traceInitPerf=Te.traceInitPerf;this.traceInitIndent=-1;}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);let{time:o,value:i}=Vr(r),a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${n}<-- <${e}> time: ${o}ms`),this.traceInitIndent--,i}else return r()}};function Tu(t,e){e.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(o=>{if(o==="constructor")return;let i=Object.getOwnPropertyDescriptor(n,o);i&&(i.get||i.set)?Object.defineProperty(t.prototype,o,i):t.prototype[o]=r.prototype[o];});});}var Cr=$t(Ue,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Cr);var Te=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:go,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),br=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0}),oe;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION";})(oe||(oe={}));var un=class t{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{jr(this);}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),x(this.definedRulesNames,o=>{let a=this[o].originalGrammarAction,s;this.TRACE_INIT(`${o} Rule`,()=>{s=this.topLevelRuleRecord(o,a);}),this.gastProductionsCache[o]=s;});}finally{this.disableRecording();}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=ru({rules:P(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n);}),this.TRACE_INIT("Grammar Validations",()=>{if(C(n)&&this.skipValidations===!1){let o=nu({rules:P(this.gastProductionsCache),tokenTypes:P(this.tokensMap),errMsgProvider:De,grammarName:r}),i=Yc({lookaheadStrategy:this.lookaheadStrategy,rules:P(this.gastProductionsCache),tokenTypes:P(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(o,i);}}),C(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let o=uc(P(this.gastProductionsCache));this.resyncFollows=o;}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var o,i;(i=(o=this.lookaheadStrategy).initialize)===null||i===void 0||i.call(o,{rules:P(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(P(this.gastProductionsCache));})),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!C(this.definitionErrors))throw e=d(this.definitionErrors,o=>o.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)});}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),E(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=E(r,"skipValidations")?r.skipValidations:Te.skipValidations;}};un.DEFER_DEFINITION_ERRORS_HANDLING=!1;Tu(un,[No,bo,Po,Mo,Fo,wo,Uo,Do,Bo,Wo]);var fn=class extends un{constructor(e,r=Te){let n=F(r);n.outputCst=!0,super(e,n);}};var ji=class{debug=!1;enableDebug(){this.debug=!0;}isDebug(){return this.debug}},Lr=new ji;var yE=/]/,pn=h({name:"ArrayClose",pattern:yE,label:"]",pop_mode:!0});var SE=/\[/,mn=h({name:"ArrayOpen",pattern:SE,label:"[",push_mode:"Array"});var RE=/,/,hn=h({name:"Comma",pattern:RE,label:","});var dn=h({name:"ArrayTableClose",pattern:/]]/,label:"]]",push_mode:"Value"});var gn=h({name:"ArrayTableOpen",pattern:/\[\[/,label:"[["});var $o=new Map,Qe=(t,e,r)=>{let n=$o[e.tokenType.name];if(n)return n(t,e,r)},v=(t,e)=>{$o[t.name]=e;};var Ze=h({name:"Boolean",pattern:L.NA});v(Ze,Qe);var Je=/[ \t]/,et=/[\x80-\uD7FF]|[\uE000-\uFFFF]/,Ee=/\r\n|\n/,Tn=/"/,Hi=/\\/,Oe=/[0-9]/,zi=ie__default.default.build("{{digit}}|[A-Fa-f]",{digit:Oe}),OE=ie__default.default.build('["\\\\bfnrt]|u{{hexDigit}}{4}|U{{hexDigit}}{8}',{hexDigit:zi}),Vo=ie__default.default.build("{{escape}}{{escapeSeqChar}}",{escape:Hi,escapeSeqChar:OE}),En=/'/,Ht=/_/,jo=/-/,Ho=/\+/,NE=/[1-9]/,_E=ie__default.default.build("{{digit1_9}}({{digit}}|{{underscore}}{{digit}})+|{{digit}}",{digit1_9:NE,digit:Oe,underscore:Ht}),zo=ie__default.default.build("({{minus}}|{{plus}})?{{unsignedDecimalInteger}}",{minus:jo,plus:Ho,unsignedDecimalInteger:_E});var Me=class extends Error{constructor(e){super(e),this.name="SyntaxParseError";}},Xo=class extends Me{errors;constructor(e){super(`Syntax error
`+e.map(r=>r.message).join(`
`)),this.errors=e;}},Yo=class extends Me{errors;constructor(e){super(`Syntax error
`+e.map(r=>r.message).join(`
`)),this.errors=e;}},qo=class extends Me{constructor(e){super(e);}};var Eu=ie__default.default.build("{{digit}}{4}",{digit:Oe}),Au=ie__default.default.build("{{digit}}{2}",{digit:Oe}),Iu=ie__default.default.build("{{digit}}{2}",{digit:Oe}),yu=/[Tt ]/,Xi=ie__default.default.build("{{digit}}{2}",{digit:Oe}),Yi=ie__default.default.build("{{digit}}{2}",{digit:Oe}),Su=ie__default.default.build("{{digit}}{2}",{digit:Oe}),CE=ie__default.default.build("\\.{{digit}}+",{digit:Oe}),bE=ie__default.default.build("[+-]{{timeHour}}:{{timeMinute}}",{timeHour:Xi,timeMinute:Yi}),LE=ie__default.default.build("[Zz]|{{timeNumOffset}}",{timeNumOffset:bE}),qi=ie__default.default.build("{{timeHour}}:{{timeMinute}}:{{timeSecond}}{{timeSecFrac}}?",{timeHour:Xi,timeMinute:Yi,timeSecond:Su,timeSecFrac:CE}),Qi=ie__default.default.build("{{dateFullYear}}-{{dateMonth}}-{{dateMDay}}",{dateFullYear:Eu,dateMonth:Au,dateMDay:Iu}),vE=ie__default.default.build("{{partialTime}}{{timeOffset}}",{partialTime:qi,timeOffset:LE}),kE=ie__default.default.build("{{fullDate}}{{timeDelim}}{{fullTime}}",{fullDate:Qi,timeDelim:yu,fullTime:vE}),PE=ie__default.default.build("{{fullDate}}{{timeDelim}}{{partialTime}}",{fullDate:Qi,timeDelim:yu,partialTime:qi}),ME=Qi,Ru=qi,wE=ie__default.default.build("{{offsetDateTime}}|{{localDateTime}}|{{localDate}}|{{localTime}}",{offsetDateTime:kE,localDateTime:PE,localDate:ME,localTime:Ru}),kt=h({name:"DateTime",pattern:wE}),FE=t=>{let e=ie__default.default.build("({{dateFullYear}})-({{dateMonth}})-({{dateMDay}})",{dateFullYear:Eu,dateMonth:Au,dateMDay:Iu}),r=ie__default.default.exec(t,e);if(r){let n=Number(r[1]),o=Number(r[2]),i=Number(r[3]),a=new Date(n,o-1,i);return a.getFullYear()===n&&a.getMonth()+1===o&&a.getDate()===i}return !0},UE=t=>{let e=ie__default.default.build("({{timeHour}}):({{timeMinute}}):({{timeSecond}})",{timeHour:Xi,timeMinute:Yi,timeSecond:Su}),r=ie__default.default.exec(t,e);if(r){let n=Number(r[1]),o=Number(r[2]),i=Number(r[3]),a=new Date(0,0,0,n,o,i);return a.getHours()===n&&a.getMinutes()===o&&a.getSeconds()===i}return !0},DE=t=>FE(t)&&UE(t);v(kt,t=>{var r;if(!DE(t))throw new Me(`Invalid date time: ${t}`);return ((r=t.match(Ru))==null?void 0:r.index)===0?t:new Date(t)});var An=h({name:"DotSeparator",pattern:/\./,label:"."});var vr=h({name:"ExpressionNewLine",pattern:Ee});var BE=zo,Ou=ie__default.default.build("{{digit}}({{digit}}|{{underscore}}{{digit}})*",{digit:Oe,underscore:Ht}),GE=ie__default.default.build("({{minus}}|{{plus}})?{{zeroPrefixableInt}}",{minus:jo,plus:Ho,zeroPrefixableInt:Ou}),KE=ie__default.default.build("[Ee]{{floatExpPart}}",{floatExpPart:GE}),WE=/\./,$E=ie__default.default.build("{{decimalPoint}}{{zeroPrefixableInt}}",{decimalPoint:WE,zeroPrefixableInt:Ou}),VE=/inf/,jE=/nan/,HE=ie__default.default.build("({{minus}}|{{plus}})?({{inf}}|{{nan}})",{minus:jo,plus:Ho,inf:VE,nan:jE}),zE=ie__default.default.build("{{floatIntPart}}({{exp}}|{{frac}}{{exp}}?)|{{specialFloat}}",{floatIntPart:BE,exp:KE,frac:$E,specialFloat:HE}),Pt=h({name:"Float",pattern:zE}),XE=t=>t==="inf"||t==="+inf"?1/0:t==="-inf"?-1/0:t==="nan"||t==="+nan"||t==="-nan"?NaN:null;v(Pt,t=>{let e=XE(t);if(e!==null)return e;let r=t.replace(/_/g,"");return parseFloat(r)});var YE=/}/,Pr=h({name:"InlineTableClose",pattern:YE,label:"}",pop_mode:!0});var qE=/{/,In=h({name:"InlineTableOpen",pattern:qE,label:"{",push_mode:"InlineTable"});var QE=/,/,yn=h({name:"InlineTableSep",pattern:QE,label:",",pop_mode:!0,push_mode:"InlineTable"});var tt=h({name:"Integer",pattern:L.NA});v(tt,Qe);var zt=h({name:"KeyValueSeparator",pattern:/=/,label:"=",push_mode:"Value"});var Sn=h({name:"Newline",pattern:Ee,pop_mode:!0});var Ae=h({name:"SimpleKey",pattern:L.NA});v(Ae,Qe);var Rn=h({name:"StdTableClose",pattern:/]/,label:"]",push_mode:"Value"});var On=h({name:"StdTableOpen",pattern:/\[/,label:"["});var Ne=h({name:"String",pattern:L.NA});v(Ne,Qe);var JE=ie__default.default.build("{{whiteSpaceChar}}+",{whiteSpaceChar:Je}),Zi=h({name:"WhiteSpace",pattern:JE,group:L.SKIPPED});var eA=ie__default.default.build("^{{whiteSpaceChar}}*{{newline}}(?:{{whiteSpaceChar}}|{{newline}})*",{whiteSpaceChar:Je,newline:Ee}),tA=t=>{let e=ie__default.default.exec(t,eA);return e?e[0].length:0},Qo=t=>{let e="";for(let r=0;r<t.length;r++){let n=t[r];if(n==="\\"){r++;let o=tA(t.slice(r));if(o>0){r+=o-1;continue}switch(t[r]){case"b":e+="\b";break;case"t":e+="	";break;case"n":e+=`
`;break;case"f":e+="\f";break;case"r":e+="\r";break;case'"':e+='"';break;case"\\":e+="\\";break;case"u":{let i=t.slice(r+1,r+5),a=parseInt(i,16);if(a>55295&&a<57344)throw new Me(`Invalid Unicode code point: \\u${i}`);e+=String.fromCodePoint(a),r+=4;break}case"U":{let i=t.slice(r+1,r+9),a=parseInt(i,16);if(a>1114111)throw new Me(`Invalid Unicode code point: \\U${i}`);e+=String.fromCodePoint(a),r+=8;break}case t.match(/^[0-7]{1,3}$/):}}else e+=n;}return e},Zo=t=>t.substring(3,t.length-3).replace(/^(\r\n|\n)/,"");var rA=ie__default.default.build("{{quotationMark}}{3}",{quotationMark:Tn}),nA=ie__default.default.build("{{whiteSpaceChar}}|!|[#-\\x5B]|[\\x5D-~]|{{nonAscii}}",{whiteSpaceChar:Je,nonAscii:et}),oA=ie__default.default.build("{{multiLineBasicUnescaped}}|{{escaped}}",{multiLineBasicUnescaped:nA,escaped:Vo}),iA=ie__default.default.build("{{whiteSpaceChar}}*",{whiteSpaceChar:Je}),aA=ie__default.default.build("{{escape}}{{whiteSpace}}{{newline}}({{whiteSpaceChar}}|{{newline}})*",{escape:Hi,whiteSpace:iA,newline:Ee,whiteSpaceChar:Je}),sA=ie__default.default.build("{{multiLineBasicChar}}|{{newline}}|{{multiLineBasicEscapedNewline}}",{multiLineBasicChar:oA,newline:Ee,multiLineBasicEscapedNewline:aA}),lA=ie__default.default.build("{{quotationMark}}{1,2}",{quotationMark:Tn}),cA=ie__default.default.build("{{multiLineBasicContent}}*({{multiLineBasicQuotes}}{{multiLineBasicContent}}+)*{{multiLineBasicQuotes}}?",{multiLineBasicContent:sA,multiLineBasicQuotes:lA}),Ji=h({name:"MultiLineBasicString",pattern:ie__default.default.build("{{multiLineBasicStringDelimiter}}{{newline}}?{{multiLineBasicBody}}{{multiLineBasicStringDelimiter}}",{multiLineBasicStringDelimiter:rA,newline:Ee,multiLineBasicBody:cA}),label:'"""MultiLineBasicString"""',categories:[Ne],line_breaks:!0});v(Ji,t=>{let e=Zo(t);return Qo(e)});var uA=ie__default.default.build("{{apostrophe}}{3}",{apostrophe:En}),fA=ie__default.default.build("	|[ -&]|[\\x28-~]|{{nonAscii}}",{nonAscii:et}),pA=ie__default.default.build("{{multiLineLiteralChar}}|{{newline}}",{multiLineLiteralChar:fA,newline:Ee}),mA=ie__default.default.build("{{apostrophe}}{1,2}",{apostrophe:En}),hA=ie__default.default.build("{{multiLineLiteralContent}}*({{multiLineLiteralQuotes}}{{multiLineLiteralContent}}+)*{{multiLineLiteralQuotes}}?",{multiLineLiteralContent:pA,multiLineLiteralQuotes:mA}),ea=h({name:"MultiLineLiteralString",pattern:ie__default.default.build("{{multiLineLiteralStringDelimiter}}{{newline}}?{{multiLineLiteralBody}}{{multiLineLiteralStringDelimiter}}",{multiLineLiteralStringDelimiter:uA,newline:Ee,multiLineLiteralBody:hA}),label:"'''MultiLineLiteralString'''",categories:[Ne],line_breaks:!0});v(ea,Zo);var Nn=h({name:"QuotedKey",pattern:L.NA,categories:[Ae]});v(Nn,Qe);var dA=ie__default.default.build("{{whiteSpaceChar}}|!|[#-\\x5B]|[\\x5D-~]|{{nonAscii}}",{whiteSpaceChar:Je,nonAscii:et}),gA=ie__default.default.build("{{basicUnescaped}}|{{escaped}}",{basicUnescaped:dA,escaped:Vo}),Jo=h({name:"BasicString",pattern:ie__default.default.build("{{quotationMark}}{{basicChar}}*{{quotationMark}}",{quotationMark:Tn,basicChar:gA}),label:'"BasicString"',categories:[Nn,Ne]});v(Jo,t=>{let e=t.slice(1,-1);return Qo(e)});var xA=ie__default.default.build("	|[ -&]|[\\x28-~]|{{nonAscii}}",{nonAscii:et}),ei=h({name:"LiteralString",pattern:ie__default.default.build("{{apostrophe}}{{literalChar}}*{{apostrophe}}",{apostrophe:En,literalChar:xA}),label:"'LiteralString'",categories:[Nn,Ne]});v(ei,t=>t.slice(1,-1));var TA=/0x/,EA=/0o/,AA=/0b/,IA=/[0-7]/,yA=/[01]/,SA=ie__default.default.build("{{hexPrefix}}{{hexDigit}}({{hexDigit}}|{{underscore}}{{hexDigit}})*",{hexPrefix:TA,hexDigit:zi,underscore:Ht}),RA=ie__default.default.build("{{octPrefix}}{{digit0_7}}({{digit0_7}}|{{underscore}}{{digit0_7}})*",{octPrefix:EA,digit0_7:IA,underscore:Ht}),OA=ie__default.default.build("{{binPrefix}}{{digit0_1}}({{digit0_1}}|{{underscore}}{{digit0_1}})*",{binPrefix:AA,digit0_1:yA,underscore:Ht}),NA=ie__default.default.build("{{hexInteger}}|{{octalInteger}}|{{binaryInteger}}",{hexInteger:SA,octalInteger:RA,binaryInteger:OA}),ra=h({name:"NonDecimalInteger",pattern:NA,categories:[tt]}),_A=(t,e)=>{let r=BigInt(0);for(let n=0;n<t.length;n++){let o=t[n],i=parseInt(o,e);r=r*BigInt(e)+BigInt(i);}return r},CA=t=>{if(t.startsWith("0x"))return 16;if(t.startsWith("0o"))return 8;if(t.startsWith("0b"))return 2};v(ra,t=>{let r=t.replace(/_/g,"").slice(2),n=CA(t),o=parseInt(r,n);return Number.isSafeInteger(o)?o:_A(r,n)});var na=h({name:"DecimalInteger",pattern:zo,categories:[tt]});v(na,t=>{let e=t.replace(/_/g,""),r=parseInt(e);return Number.isSafeInteger(r)?r||0:BigInt(e)});var LA=/[a-zA-Z]/,vA=ie__default.default.build("({{alpha}}|{{digit}}|-|_)+",{alpha:LA,digit:Oe}),oa=h({name:"UnquotedKey",pattern:vA,categories:[Ae]});v(oa,t=>t);var kA=/#/,PA=ie__default.default.build("	|[ -~]|{{nonAscii}}",{nonAscii:et}),MA=ie__default.default.build("{{commentStartChar}}{{nonEol}}*",{commentStartChar:kA,nonEol:PA}),ia=h({name:"Comment",pattern:MA,group:"comment"});var wA=/true/,aa=h({name:"True",pattern:wA,label:"true",categories:[Ze]});v(aa,()=>!0);var FA=/false/,sa=h({name:"False",pattern:FA,label:"false",categories:[Ze]});v(sa,()=>!1);var bu=h({name:"IgnoredNewline",pattern:Ee,group:L.SKIPPED});var Lu=h({name:"InlineTableKeyValSep",pattern:/=/,label:"=",push_mode:"Value",pop_mode:!0,categories:[zt]});var vu=[Zi,Jo,ei,oa,An,Ae],ku=[Zi,Ji,ea,Jo,ei,aa,sa,kt,Pt,ra,na,mn,In,ia],_n={modes:{Key:[ia,vr,zt,gn,dn,On,Rn,...vu],Value:[...ku,Sn,yn,Pr],Array:[...ku,bu,hn,pn],InlineTable:[...vu,Lu,Pr]},defaultMode:"Key"};var Pu=new L(_n,{ensureOptimizations:!0,skipValidations:!Lr.isDebug(),traceInitPerf:Lr.isDebug()});var la=class extends fn{toml=this.RULE("toml",()=>{this.MANY(()=>this.CONSUME(vr)),this.MANY1(()=>{this.SUBRULE1(this.expression),this.OPTION2(()=>{this.CONSUME1(Sn),this.MANY3(()=>this.CONSUME2(vr));});});});valueCache;dottedKey=this.RULE("dottedKey",()=>{this.CONSUME(Ae),this.AT_LEAST_ONE(()=>{this.CONSUME(An),this.CONSUME1(Ae);});});key=this.RULE("key",()=>{this.OR({MAX_LOOKAHEAD:2,DEF:[{ALT:()=>this.SUBRULE(this.dottedKey)},{ALT:()=>this.CONSUME(Ae)}]});});inlineTableKeyValues=this.RULE("inlineTableKeyValues",()=>{this.MANY_SEP({SEP:yn,DEF:()=>this.SUBRULE(this.keyValue)});});inlineTable=this.RULE("inlineTable",()=>{this.CONSUME(In),this.OPTION(()=>this.SUBRULE(this.inlineTableKeyValues)),this.CONSUME(Pr);});array=this.RULE("array",()=>{this.CONSUME(mn),this.OPTION(()=>this.SUBRULE(this.arrayValues)),this.CONSUME(pn);});value=this.RULE("value",()=>{this.OR(this.valueCache||(this.valueCache=[{ALT:()=>this.CONSUME(Ne)},{ALT:()=>this.CONSUME(Ze)},{ALT:()=>this.SUBRULE(this.array)},{ALT:()=>this.SUBRULE(this.inlineTable)},{ALT:()=>this.CONSUME(kt)},{ALT:()=>this.CONSUME(Pt)},{ALT:()=>this.CONSUME(tt)}]));});keyValue=this.RULE("keyValue",()=>{this.SUBRULE(this.key),this.CONSUME(zt),this.SUBRULE(this.value);});arrayValues=this.RULE("arrayValues",()=>{this.SUBRULE(this.value);let e=!0;this.MANY({GATE:()=>e,DEF:()=>{this.CONSUME(hn),this.OPTION(()=>this.SUBRULE1(this.value))||(e=!1);}});});stdTable=this.RULE("stdTable",()=>{this.CONSUME(On),this.SUBRULE(this.key),this.CONSUME(Rn);});arrayTable=this.RULE("arrayTable",()=>{this.CONSUME(gn),this.SUBRULE(this.key),this.CONSUME(dn);});table=this.RULE("table",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stdTable)},{ALT:()=>this.SUBRULE(this.arrayTable)}]);});expression=this.RULE("expression",()=>{this.OR([{ALT:()=>this.SUBRULE(this.keyValue)},{ALT:()=>this.SUBRULE(this.table)}]);});constructor(){super(_n,{traceInitPerf:Lr.isDebug(),maxLookahead:1,skipValidations:!Lr.isDebug()}),this.performSelfAnalysis();}},Xt=new la;var Mu=t=>t&&t.constructor===Object,ca=(t,e)=>{try{return t()}catch(r){if(r instanceof Mt)throw new qo(e)}},Mt=class extends Error{},UA=Xt.getBaseCstVisitorConstructor(),ua=Symbol("explicitlyDeclared"),wu=Symbol("implicitlyDeclared"),Cn=Symbol("notEditable"),fa=class extends UA{constructor(){super(),this.validateVisitor();}toml(e){var o;let r={},n=r;return (o=e.expression)==null||o.forEach(i=>n=this.visit(i,{current:n,root:r})),this.cleanInternalProperties(r),r}expression(e,{current:r,root:n}){if(e.keyValue)return this.visit(e.keyValue,r),r;if(e.table)return this.visit(e.table,n)}keyValue(e,r){let n=this.visit(e.key),o=this.visit(e.value);ca(()=>this.assignValue(n,o,r),`Cannot assign value to '${n.join(".")}'`);}key(e){return e.dottedKey?this.visit(e.dottedKey):[this.interpret(e,Ae)]}dottedKey(e){return this.interpret(e,Ae)}inlineTableKeyValues(e,r){e.keyValue&&e.keyValue.forEach(n=>this.visit(n,r));}inlineTable(e){let r={[Cn]:!0};return e.inlineTableKeyValues&&this.visit(e.inlineTableKeyValues,r),r}value(e){return e.array?this.visit(e.array):e.inlineTable?this.visit(e.inlineTable):this.interpret(e,Ne,Pt,Ze,kt,tt)}arrayValues(e,r){return e.value.forEach(n=>r.push(this.visit(n))),r}array(e){let r=[];return r[Cn]=!0,e.arrayValues?this.visit(e.arrayValues,r):r}table(e,r){if(e.stdTable)return this.visit(e.stdTable,r);if(e.arrayTable)return this.visit(e.arrayTable,r)}stdTable(e,r){let n=this.visit(e.key);return ca(()=>this.createTable(n,r),`Cannot create table '${n.join(".")}'`)}arrayTable(e,r){let n=this.visit(e.key);return ca(()=>{let o=this.getOrCreateArray(n,r);if(o[Cn])throw new Mt;let i={};return o.push(i),i},`Cannot create array table '${n.join(".")}'`)}cleanInternalProperties(e){for(let r of Object.getOwnPropertySymbols(e))delete e[r];for(let r in e)typeof e[r]=="object"&&this.cleanInternalProperties(e[r]),Array.isArray(e[r])&&e[r].forEach(n=>this.cleanInternalProperties(n));}interpret(e,...r){for(let n of r)if(e[n.name]){let o=e[n.name].map(i=>$o[n.name](i.image,i,n.name));return o.length===1?o[0]:o}}assignPrimitiveValue(e,r,n){if(e in n)throw new Mt;return Mu(r)&&(r[ua]=!0),n[e]=r,n}tryCreatingObject(e,r,n,o,i){if(r[e]){if(!Mu(r[e])||!i&&r[e][ua]||!o&&r[e][wu]||r[e][Cn])throw new Mt}else r[e]={},n&&(r[e][n]=!0);return r[e]}assignValue(e,r,n){let[o,...i]=e;return i.length>0?(this.tryCreatingObject(o,n,wu,!0,!1),this.assignValue(i,r,n[o])):this.assignPrimitiveValue(o,r,n)}createTable(e,r){let[n,...o]=e;if(o.length>0){if(Array.isArray(r[n])){if(r[n][Cn])throw new Mt;let i=r[n][r[n].length-1];return this.createTable(o,i)}return this.tryCreatingObject(n,r,null,!0,!0),this.createTable(o,r[n])}return this.tryCreatingObject(n,r,ua,!1,!1)}getOrCreateArray(e,r){let[n,...o]=e;if(o.length>0){if(Array.isArray(r[n])){let i=r[n][r[n].length-1];return this.getOrCreateArray(o,i)}return this.tryCreatingObject(n,r,null,!0,!0),this.getOrCreateArray(o,r[n])}if(r[n]&&!Array.isArray(r[n]))throw new Mt;return r[n]=r[n]||[],r[n]}},Fu=new fa;var Uu=t=>{let e=Pu.tokenize(t);if(e.errors.length>0)throw new Xo(e.errors);Xt.input=e.tokens;let r=Xt.toml();if(Xt.errors.length>0)throw new Yo(Xt.errors);return Fu.visit(r)};/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/

exports.SyntaxParseError = Me;
exports.load = Uu;
