import{aT as S,bm as h,c as k,c8 as B,E as C,B as p,A as g,_ as V,k as _,l as n,n as a,q as $,F as R,y as q,z as b,a as v,p as w,J as E,g as P,r as A,u as D}from"./main-DCaPxp2h.js";import{t as T}from"./VDialog-CQXjBvDZ.js";import{s as M,t as N}from"./VSelectionControl-BqB1JeKa.js";import{f as z}from"./forwardRefs-D1ZDjzWx.js";function U(){const e=S(!1);return h(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:k(()=>e.value?void 0:{transition:"none !important"}),isBooted:B(e)}}const I={name:"SubmitFooter",components:{ConfirmFooter:T},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...C(p,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...g(p,["clearErrors"])}},J={key:0,class:"errors"},L={key:1,class:"success"},j={key:2};function x(e,s,i,d,l,m){const c=_("ConfirmFooter");return n(),a("footer",null,[$("div",null,[e.errors&&e.errors.length>0?(n(),a("small",J,[(n(!0),a(R,null,q(e.errors,(u,t)=>(n(),a("div",{key:t},b(u),1))),128))])):e.success?(n(),a("small",L,b(e.success),1)):(n(),a("small",j,"Â "))]),v(c,{"confirm-text":m.confirmText,disabled:i.disabled,onConfirm:s[0]||(s[0]=u=>e.$emit("submit")),onCancel:s[1]||(s[1]=u=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const W=V(I,[["render",x],["__scopeId","data-v-d960409d"]]),G=w({...E(),...M()},"VForm"),X=P()({name:"VForm",props:G(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:i,emit:d}=s;const l=N(e),m=A();function c(t){t.preventDefault(),l.reset()}function u(t){const r=t,o=l.validate();r.then=o.then.bind(o),r.catch=o.catch.bind(o),r.finally=o.finally.bind(o),d("submit",r),r.defaultPrevented||o.then(y=>{var f;let{valid:F}=y;F&&((f=m.value)==null||f.submit())}),r.preventDefault()}return D(()=>{var t;return v("form",{ref:m,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:u},[(t=i.default)==null?void 0:t.call(i,l)])}),z(l,m)}});export{W as S,X as V,U as u};
