"use strict";(self.webpackChunkjupyterhub_comments=self.webpackChunkjupyterhub_comments||[]).push([[633],{633:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var o=n(909),r=n(480),a=n(710),c=n(456),s=n(345),i=n.n(s),m=n(200),l=n(460),d=n(473),u=n(354),p=n(500);async function h(e="",t={}){const n=u.ServerConnection.makeSettings(),o=d.URLExt.join(n.baseUrl,"jupyterhub-comments-server",e);let r;try{r=await u.ServerConnection.makeRequest(o,t,n)}catch(e){throw new u.ServerConnection.NetworkError(e)}let a=await r.text();if(a.length>0)try{a=JSON.parse(a)}catch(e){console.log("Not a JSON response body.",r)}if(!r.ok)throw new u.ServerConnection.ResponseError(r,a.message||a);return a}const f=(e,t,n,o,r,a,c,s,i,m)=>{const l={id:e||(0,p.v4)(),file_path:t,cell_id:n,editor_line:o,editor_line_text:r,username:a,timestamp:Date.now(),text:c,resolved:s,parent_id:i};h("comment",{body:JSON.stringify(l),method:"POST"}).then((e=>{e.error?console.error(`Error on POST /comment: ${e.error}`):m()})).catch((e=>{console.error(`Error on POST /jupyterhub-comments-server/comment ${l}.\n${e.message.error}`)}))};var v=n(511),g=n.n(v);const b=({text:e,disabled:t,onClick:n})=>i().createElement("button",{className:"jp-mod-styled jp-mod-reject jp-ArrayOperationsButton",onClick:e=>{n()},disabled:t,style:{cursor:"pointer"}},e);var x=n(72),E=n.n(x),k=n(825),j=n.n(k),C=n(659),y=n.n(C),_=n(56),w=n.n(_),T=n(540),S=n.n(T),N=n(113),I=n.n(N),A=n(48),P={};P.styleTagTransform=I(),P.setAttributes=w(),P.insert=y().bind(null,"head"),P.domAPI=j(),P.insertStyleElement=S(),E()(A.A,P),A.A&&A.A.locals&&A.A.locals;const L=({text:e,setText:t,isEditing:n,placeholder:o,disabled:r,setDisabled:a,handleSaveClick:c,handleCancelClick:m})=>{const l=(0,s.useRef)(null),d=e=>{e.style.height="auto",e.style.height=`${e.scrollHeight}px`};return(0,s.useEffect)((()=>{l.current&&(d(l.current),l.current.focus())}),[n]),i().createElement("textarea",{className:"jp-comments-comments-textarea",placeholder:o,ref:l,value:e,rows:2,onChange:e=>{const n=e.target.value;t(n),a(n.trim().length<1),d(e.target)},onKeyDown:n=>{if("Tab"===n.key){n.preventDefault();const o=l.current;if(!o)return;const r=o.selectionStart,a=o.selectionEnd,c=e.substring(0,r)+"\t"+e.substring(a);t(c),setTimeout((()=>{o.selectionStart=o.selectionEnd=r+1}),0)}else n.ctrlKey&&"Enter"===n.key?r||c():"Escape"===n.key&&m()}})};var R=n(837),O={};O.styleTagTransform=I(),O.setAttributes=w(),O.insert=y().bind(null,"head"),O.domAPI=j(),O.insertStyleElement=S(),E()(R.A,O),R.A&&R.A.locals&&R.A.locals;const U=({trans:e,text:t,isEditing:n,editedText:o,setEditedText:r,handleCancelClick:a,handleSaveClick:c})=>{const[m,l]=(0,s.useState)(!0);return n?i().createElement(i().Fragment,null,i().createElement(L,{text:o,placeholder:e.__("Comment"),setText:r,disabled:m,setDisabled:l,handleSaveClick:c,handleCancelClick:a}),i().createElement("div",{className:"jp-comments-jp-comments-comment-buttons"},i().createElement(b,{text:e.__("Cancel"),onClick:a}),i().createElement(b,{text:e.__("Save"),disabled:m,onClick:c}))):i().createElement("div",{className:"jp-comments-comment-text"},i().createElement(g(),{options:{overrides:{a:{component:({href:e,children:t})=>i().createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},t)},code:{component:({children:e,...t})=>i().createElement("code",{style:{whiteSpace:"pre-wrap"},...t},e)}}}},t))},M=({notebookTracker:e,editorTracker:t,trans:n,parentComment:o,childrenComments:r,fullUsername:a,username:c,hideResolved:m,updateComments:l})=>{const[d,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[v,g]=(0,s.useState)(!0),x=()=>{f("",o.file_path,o.cell_id,o.editor_line,o.editor_line_text,c,d,0,o.id,l),u(""),g(!0),h(!1)},E=()=>{u(""),h(!1)},k=t=>{var n;const r=o.cell_id;if(!r)return;const a=null===(n=e.currentWidget)||void 0===n?void 0:n.content;let c=!1;null==a||a.widgets.map((e=>{var t,n;e.model.id===r&&(c=!0,r!==(null===(t=a.activeCell)||void 0===t?void 0:t.model.id)&&(e.node.scrollIntoView({behavior:"smooth",block:"start"}),null===(n=e.editor)||void 0===n||n.focus()))}))},j=e=>{var n;const r=o.editor_line,a=null===(n=t.currentWidget)||void 0===n?void 0:n.content.editor;if(a){a.focus();const e=a.getLine(r);if(!e)return;a.setCursorPosition({line:r,column:0}),a.setSelection({start:{line:r,column:0},end:{line:r,column:e.length}})}};return m&&o.resolved?i().createElement(i().Fragment,null):i().createElement("div",{className:"jp-comments-thread-container","data-comment-id":o.id},i().createElement("div",{onClick:e=>{const t=e.target.tagName.toLowerCase();["button","textarea"].indexOf(t)<0&&(k(e),j(e))}},i().createElement(D,{trans:n,comment:o,currentUsername:c,updateComments:l,handleReplyClick:e=>(e=>{h(!p),g(!0),e.stopPropagation()})(e)}),r.map((e=>i().createElement(D,{key:e.id,trans:n,comment:e,currentUsername:c,updateComments:l,handleReplyClick:e=>{}})))),p&&i().createElement("div",null,i().createElement(L,{text:d,placeholder:n.__("Reply"),setText:u,disabled:v,setDisabled:g,handleSaveClick:x,handleCancelClick:E}),i().createElement("div",{className:"jp-comments-jp-comments-add-comment-form-button-container"},i().createElement(b,{text:n.__("Cancel"),onClick:E}),i().createElement(b,{text:n.__("Add"),disabled:v,onClick:x}))))},D=({trans:e,comment:t,currentUsername:n,updateComments:o,handleReplyClick:r})=>{const[a,c]=(0,s.useState)(!1),[m,u]=(0,s.useState)(t.text),[p,v]=(0,s.useState)(!1),g=(0,s.useRef)(null),b=(0,s.useRef)(null),x=t.username!==n;return(0,s.useEffect)((()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&b.current&&!b.current.contains(e.target)&&v(!1)};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}}),[]),i().createElement("div",{className:"jp-comments-comment-container"},i().createElement("div",{className:"jp-comments-comment-header"},i().createElement("div",null,i().createElement("div",{className:"jp-comments-comment-username"},t.full_username?t.full_username:t.username),i().createElement("div",{className:"jp-comments-comment-timestamp"},(e=>{const t=new Date(e),{year:n,month:o,day:r,hour:a,minute:c}={year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hour:t.getHours(),minute:t.getMinutes()};return n.toString()+"-"+(o>=10?o.toString():"0"+o)+"-"+(r>=10?r.toString():"0"+r)+", "+(a>=10?a.toString():"0"+a)+":"+(c>=10?c.toString():"0"+c)})(t.timestamp))),i().createElement("div",null,!t.parent_id&&i().createElement(i().Fragment,null,i().createElement(z,{tooltip:e.__("Reply"),icon:l.undoIcon,contextMenuButtonRef:b,onClick:e=>r(e)})),i().createElement(z,{tooltip:e.__("More"),icon:l.ellipsesIcon,contextMenuButtonRef:b,onClick:e=>(e=>{v(!p),e.stopPropagation()})(e)})),p&&i().createElement("div",{ref:g,className:"jp-comments-comment-context-menu-container"},!x&&i().createElement("button",{onClick:()=>{c(!0),u(t.text),v(!1)},className:"jp-comments-comment-context-menu-item"},e.__("Edit")),!x&&i().createElement("button",{onClick:()=>{c(!1),((e,t,n)=>{window.confirm(e.__("Delete comment?"))&&h("comment",{method:"DELETE",body:JSON.stringify({id:t})}).then((e=>{e.error?console.error(`Error on DELETE /comment: ${e.error}`):n()})).catch((e=>{console.error(`Error on DELETE /comment ${t}.\n${e.message}`,e)}))})(e,t.id,o),v(!1)},className:"jp-comments-comment-context-menu-item"},e.__("Delete")),!x&&i().createElement("button",{style:{display:"none"},onClick:()=>{v(!1);const e=d.PageConfig.getTreeShareUrl()+"/"+t.file_path+"?comment-id="+t.id;navigator.clipboard.writeText(e)},className:"jp-comments-comment-context-menu-item"},e.__("Copy link")),!t.parent_id&&i().createElement("button",{onClick:()=>{return e=0===t.resolved?1:0,f(t.id,t.file_path,t.cell_id,t.editor_line,t.editor_line_text,t.username,t.text,e,t.parent_id,o),c(!1),void v(!1);var e},className:"jp-comments-comment-context-menu-item"},0===t.resolved?e.__("Mark as resolved"):e.__("Re-open")))),i().createElement(U,{trans:e,text:t.text,isEditing:a,editedText:m,setEditedText:u,handleCancelClick:()=>{c(!1),v(!1),u(t.text)},handleSaveClick:()=>{t.text!==m&&f(t.id,t.file_path,t.cell_id,t.editor_line,t.editor_line_text,t.username,m,t.resolved,t.parent_id,o),c(!1),v(!1)}}))},z=({tooltip:e,icon:t,contextMenuButtonRef:n,onClick:o})=>i().createElement("div",{className:"jp-comments-comment-context-menu-element-container",onClick:e=>o(e),ref:n,title:e},i().createElement(l.ToolbarButtonComponent,{icon:t}));var $=n(667),W={};W.styleTagTransform=I(),W.setAttributes=w(),W.insert=y().bind(null,"head"),W.domAPI=j(),W.insertStyleElement=S(),E()($.A,W),$.A&&$.A.locals&&$.A.locals;const H=({notebookTracker:e,editorTracker:t,trans:n,username:o,fullUsername:r,filePath:a,fileName:c,updateComments:m,hideResolved:d,setHideResolved:u})=>{const[p,h]=(0,s.useState)(!0),[v,g]=(0,s.useState)(!1),[x,E]=(0,s.useState)(""),k=()=>{E(""),g(!1)},j=()=>{const{editorLine:n,editorLineText:r}=(()=>{var e,n;const o=null===(e=t.currentWidget)||void 0===e?void 0:e.content.editor;if(o){const e=o.getSelection();if(e){const t=o.getOffsetAt({line:null==e?void 0:e.start.line,column:0}),r=null===(n=o.getTokenAt(t))||void 0===n?void 0:n.value;return{editorLine:e.start.line,editorLineText:r}}}return{editorLine:0,editorLineText:""}})(),c=(()=>{var t,n;const o=null===(t=e.currentWidget)||void 0===t?void 0:t.content;return(null===(n=null==o?void 0:o.activeCell)||void 0===n?void 0:n.model.id)||""})();f("",a,c,n,r,o,x,0,"",m),E(""),h(!0),g(!1)};return""!==a?i().createElement(i().Fragment,null,i().createElement("div",{className:"jp-comments-add-comment-form-header-container"},i().createElement("div",{className:"jp-comments-add-comment-form-file-name-container"},(()=>{switch(c.split(".").splice(-1)[0]){case"ipynb":return i().createElement(l.notebookIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"md":return i().createElement(l.markdownIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"py":return i().createElement(l.pythonIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"json":return i().createElement(l.jsonIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"csv":case"xlsx":case"xls":return i().createElement(l.spreadsheetIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"yaml":case"yml":return i().createElement(l.yamlIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"txt":return i().createElement(l.textEditorIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"html":return i().createElement(l.html5Icon.react,{className:"jp-comments-add-comment-form-file-icon"});case"png":case"jpg":case"jpeg":case"git":return i().createElement(l.imageIcon.react,{className:"jp-comments-add-comment-form-file-icon"});case"pdf":return i().createElement(l.pdfIcon.react,{className:"jp-comments-add-comment-form-file-icon"});default:return i().createElement(l.fileIcon.react,{className:"jp-comments-add-comment-form-file-icon"})}})(),c),i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",checked:d,onChange:()=>{u(!d)}}),i().createElement("span",null,n.__("Hide resolved"))))),v?i().createElement("div",{className:"jp-comments-add-comment-form-container"},i().createElement("div",{className:"jp-comments-add-comment-form-username"},r||o),i().createElement(L,{text:x,placeholder:n.__("Comment"),setText:E,disabled:p,setDisabled:h,handleSaveClick:j,handleCancelClick:k}),i().createElement("div",{className:"jp-comments-jp-comments-add-comment-form-button-container"},i().createElement(b,{text:n.__("Cancel"),onClick:k}),i().createElement(b,{text:n.__("Add"),disabled:p,onClick:j}))):i().createElement("div",{className:"jp-comments-show-comment-form-button-container"},i().createElement(b,{text:n.__("Add comment"),onClick:()=>{g(!0)}}))):i().createElement("div",{className:"jp-comments-cannot-add-comment-block"},n.__("Comments are added to selected notebooks / files"))},q=({notebookTracker:e,editorTracker:t,trans:n,username:o,fullUsername:r,filePath:a,fileName:c,comments:m,updateComments:l})=>{const[d,u]=(0,s.useState)(!0);return i().createElement("div",{className:"jp-comments-comments-container"},i().createElement(H,{notebookTracker:e,editorTracker:t,trans:n,username:o,fullUsername:r,filePath:a,fileName:c,updateComments:l,hideResolved:d,setHideResolved:u}),i().createElement("div",{className:"comments-block-container"},(e=>{const t={};e.map((e=>{e.parent_id||(t[e.id]=[e,[]])})),e.map((e=>{if(e.parent_id)try{t[e.parent_id][1].push(e)}catch(n){t[e.id]=[e,[]]}}));let n=Object.values(t);n=n.sort(((e,t)=>e[0].timestamp-t[0].timestamp));const o=[];return n.map((e=>{o.push([e[0],e[1].sort(((e,t)=>e.timestamp-t.timestamp))])})),o})(m).map((a=>i().createElement(M,{key:a[0].id,notebookTracker:e,editorTracker:t,trans:n,parentComment:a[0],childrenComments:a[1],fullUsername:r,username:o,hideResolved:d,updateComments:l})))))},F=new l.LabIcon({name:"CommentIcon",svgstr:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 121.86 122.88">\n  <g class="jp-icon3 jp-icon-selectable" fill="#616161">\n    <title>comment</title>\n    <path d="M30.28,110.09,49.37,91.78A3.84,3.84,0,0,1,52,90.72h60a2.15,2.15,0,0,0,2.16-2.16V9.82a2.16,2.16,0,0,0-.64-1.52A2.19,2.19,0,0,0,112,7.66H9.82A2.24,2.24,0,0,0,7.65,9.82V88.55a2.19,2.19,0,0,0,2.17,2.16H26.46a3.83,3.83,0,0,1,3.82,3.83v15.55ZM28.45,63.56a3.83,3.83,0,1,1,0-7.66h53a3.83,3.83,0,0,1,0,7.66Zm0-24.86a3.83,3.83,0,1,1,0-7.65h65a3.83,3.83,0,0,1,0,7.65ZM53.54,98.36,29.27,121.64a3.82,3.82,0,0,1-6.64-2.59V98.36H9.82A9.87,9.87,0,0,1,0,88.55V9.82A9.9,9.9,0,0,1,9.82,0H112a9.87,9.87,0,0,1,9.82,9.82V88.55A9.85,9.85,0,0,1,112,98.36Z"/>\n  </g>\n</svg>'});class V extends m.ReactWidget{constructor(e,t,n,o,r){super(),this.state={comments:[],rootPath:"",filePath:"",fileName:"",username:"guest",fullUsername:"",commentTimeouts:{}},this.id="comment-widget",this.title.icon=F,this.labShell=e,this.docmanager=t,this.notebookTracker=n,this.editorTracker=o,this.trans=r,this.updateComments=this.updateComments.bind(this),this.subscribeToCellExecution(),this.initializeWidget()}initializeWidget(){this.setUsername(),this.setRootPath();const e=setInterval((()=>{this.state.filePath?(clearInterval(e),this.subscribeToShellChanges(),this.updateComments(),setTimeout((()=>{this.processCommentLink()}),500)):this.trySettingLocalPath()}),250)}processCommentLink(){const e=new URLSearchParams(window.location.search).get("comment-id"),t=window.location.pathname.split("lab/tree/")[1];e&&t&&(this.docmanager.openOrReveal(t),this.focusComment(e))}trySettingLocalPath(){var e;const t=this.labShell.currentWidget;if(t){const n=null===(e=this.docmanager.contextForWidget(t))||void 0===e?void 0:e.localPath;n&&(this.state.filePath=this.state.rootPath+"/"+n,this.state.fileName=n.split("/").slice(-1)[0])}}subscribeToShellChanges(){this.labShell.currentChanged.connect(((e,t)=>{var n;const o=t.newValue;if(!o)return;const r=null===(n=this.docmanager.contextForWidget(o))||void 0===n?void 0:n.localPath;r?(this.state.filePath=this.state.rootPath+"/"+r,this.state.fileName=r.split("/").slice(-1)[0],this.updateComments()):(this.state.filePath="",this.updateComments())}))}focusComment(e){const t=document.querySelector(".jp-comments-comments-container"),n=null==t?void 0:t.querySelector('[data-comment-id="'+e+'"]');if(n){n.scrollIntoView({behavior:"smooth",block:"start"}),n.classList.add("jp-comments-glowing-border"),this.labShell.activateById("comment-widget"),this.labShell.expandRight(),e in this.state.commentTimeouts&&clearTimeout(this.state.commentTimeouts[e]);const t=setTimeout((()=>{n.classList.remove("jp-comments-glowing-border")}),3e3);this.state.commentTimeouts[e]=t}}getIconContainer(e,t,n){const o=document.createElement(t);return o.className=n,o.dataset.commentId=e,o.onclick=e=>{const t=e.target.closest("[data-comment-id]"),n=null==t?void 0:t.dataset.commentId;n&&this.focusComment(n)},F.element({container:o}),o}subscribeToCellExecution(){const e=(e,t)=>{"executionCount"===t.name&&t.newValue&&this.addCommentIconsToCells()};this.notebookTracker.activeCellChanged.connect(((t,n)=>{null==n||n.model.stateChanged.connect(e)}))}addCommentIconsToCells(){var e;const t="jp-comments-cell-icon",n=null===(e=this.notebookTracker.currentWidget)||void 0===e?void 0:e.content;if(!n)return;const o={};this.state.comments.map((e=>{const t=e.cell_id,n=e.id;!t||e.parent_id||e.resolved||(o[t]=n)})),null==n||n.widgets.map((e=>{var n;null===(n=e.node.querySelector("."+t))||void 0===n||n.remove();const r=e.model.id;if(r in o){const n=o[r],a=e.node.querySelector(".jp-InputArea-prompt"),c=this.getIconContainer(n,"div",t);null==a||a.appendChild(c)}}))}addCommentIconsToEditorLines(){var e;const t="jp-comments-editor-line-icon",n=null===(e=this.editorTracker.currentWidget)||void 0===e?void 0:e.content,o=null==n?void 0:n.editor;if(!o)return;const r=null==n?void 0:n.node.querySelectorAll("."+t);if(r)for(let e=0;e<(null==r?void 0:r.length);e++)r[e].remove();const a={};this.state.comments.map((e=>{const t=e.editor_line,n=e.editor_line_text,o=e.id;e.parent_id||e.resolved||(a[t]=[o,n])})),Object.keys(a).map((e=>{const r=Number(e),c=a[r][0],s=a[r][1];try{const e=o.getOffsetAt({line:r,column:0});if(s===o.getTokenAt(e).value){const e=n.node.querySelectorAll(".cm-lineNumbers .cm-gutterElement")[r+1],o=this.getIconContainer(c,"span",t);null==e||e.prepend(o)}}catch(e){if(!(e instanceof RangeError))throw e}}))}setUsername(){h("username",{method:"GET"}).then((e=>{e.error?console.error(`Error on GET /username: ${e.error}`):(this.state.username=e.username,this.state.fullUsername=e.full_username)})).catch((e=>{console.log(e.response),console.error(`Error on GET /jupyterhub-comments-server/username.\n${e.message.error}`)}))}setRootPath(){h("resolve-path",{method:"POST",body:JSON.stringify({root_path:d.PageConfig.getOption("serverRoot")})}).then((e=>{e.error?console.error(`Error on POST /resolve-path: ${e.error}`):this.state.rootPath=e.resolved_path})).catch((e=>{console.log(e.response),console.error(`Error on POST /jupyterhub-comments-server/resolve-path.\n${e.message.error}`)}))}updateComments(){this.state.filePath||this.trySettingLocalPath();const e={file_path:this.state.filePath};h("comments",{body:JSON.stringify(e),method:"POST"}).then((e=>{if(e.error)return console.error(`Error on POST /comments: ${e.error}`),[];this.state.comments=e.comments||[],this.update(),setTimeout((()=>{this.addCommentIconsToCells(),this.addCommentIconsToEditorLines()}),50)})).catch((t=>{console.log(t.response),console.error(`Error on POST /jupyterhub-comments-server/comments ${e}.\n${t.message.error}`)}))}render(){return i().createElement(q,{notebookTracker:this.notebookTracker,editorTracker:this.editorTracker,trans:this.trans,username:this.state.username,fullUsername:this.state.fullUsername,filePath:this.state.filePath,fileName:this.state.fileName,comments:this.state.comments,updateComments:this.updateComments})}}var B=n(678);const J={id:"jupyterhub-comments:plugin",description:"A JupyterLab extension.",autoStart:!0,requires:[o.ILabShell,c.IDocumentManager,r.INotebookTracker,a.IEditorTracker,B.ITranslator],activate:(e,t,n,o,r,a)=>{const{shell:c}=e,s=a.load("jupyterhub_comments"),i=new V(t,n,o,r,s);c.add(i,"right")}}},667:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(601),r=n.n(o),a=n(314),c=n.n(a)()(r());c.push([e.id,".jp-comments-comments-container {\n  height: 100%;\n  overflow: hidden auto;\n}\n\n.jp-comments-add-comment-form-container {\n  max-width: 600px;\n  margin: 20px 5px;\n  padding: 10px;\n  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\n  background-color: var(--jp-cell-editor-background);\n}\n\n.jp-comments-add-comment-form-header-container {\n  font-size: 16px;\n  padding: 10px 10px 0;\n}\n\n.jp-comments-add-comment-form-file-name-container {\n  display: inline-flex;\n  margin-bottom: 5px;\n}\n\n.jp-comments-add-comment-form-file-icon {\n  margin-right: 5px;\n}\n\n.jp-comments-add-comment-form-username {\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.jp-comments-jp-comments-add-comment-form-button-container {\n  text-align: right;\n}\n\n.jp-comments-add-comment-form-button {\n  padding: 7px 10px;\n  font-size: 14px;\n  color: var(--jp-layout-color1);\n  background-color: var(--jp-brand-color1);\n  border: none;\n  cursor: pointer;\n  margin-right: 5px;\n  transition: background-color 0.3s ease;\n}\n\n.jp-comments-add-comment-form-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.jp-comments-add-comment-form-button:hover:not(:disabled) {\n  background-color: #0056b3;\n}\n\n.jp-comments-show-comment-form-button {\n  max-width: 300px;\n  width: 100%;\n}\n\n.jp-comments-show-comment-form-button-container {\n  padding: 10px;\n  width: 90%;\n}\n\n.jp-comments-cannot-add-comment-block {\n  padding: 15px;\n  margin-top: 10px;\n  border-radius: 5px;\n  font-size: 16px;\n}\n",""]);const s=c},837:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(601),r=n.n(o),a=n(314),c=n.n(a)()(r());c.push([e.id,".jp-comments-thread-container {\n  width: auto;\n  max-width: 600px;\n  margin: 10px 5px;\n  padding: 0 15px 10px;\n  box-shadow: 0 1px 3px rgb(0 0 0 / 10%);\n  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);\n  background-color: var(--jp-cell-editor-background);\n}\n\n.jp-comments-comment-container {\n  margin-top: 15px;\n}\n\n.jp-comments-comment-header {\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n}\n\n.jp-comments-comment-username {\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.jp-comments-comment-timestamp {\n  margin-top: 2px;\n  font-size: 12px;\n}\n\n.jp-comments-comment-context-menu-element-container {\n  display: inline;\n}\n\n.jp-comments-comment-context-menu-element-container .jp-ToolbarButtonComponent {\n  margin: 0;\n}\n\n.jp-comments-comment-context-menu-container {\n  position: absolute;\n  right: 0;\n  margin-top: 30px;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgb(0 0 0 / 10%);\n  z-index: 10;\n  padding: 5px;\n}\n\n.jp-comments-comment-context-menu-item {\n  display: block;\n  width: 100%;\n  padding: 10px 20px;\n  font-size: 14px;\n  color: #333;\n  text-align: left;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n}\n\n.jp-comments-comment-context-menu-item:hover {\n  background-color: #f0f0f0;\n}\n\n.jp-comments-comment-text {\n  margin-top: 5px;\n  font-size: 16px;\n  padding: 3px 21px 3px 5px;\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n\n.jp-comments-jp-comments-comment-buttons {\n  text-align: right;\n}\n\n.jp-comments-comment-button {\n  padding: 10px;\n  font-size: 14px;\n  color: #fff;\n  background-color: #007bff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  transition: background-color 0.3s ease;\n}\n\n.jp-comments-comment-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.jp-comments-comment-button:hover:not(:disabled) {\n  background-color: #0056b3;\n}\n",""]);const s=c},48:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(601),r=n.n(o),a=n(314),c=n.n(a)()(r());c.push([e.id,".jp-comments-comments-textarea {\n  width: 100%;\n  overflow-y: hidden;\n  resize: none;\n  box-sizing: border-box;\n  font-size: 16px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: none;\n  tab-size: 4;\n  color: var(--jp-ui-font-color0);\n  border-color: var(--jp-input-border-color);\n  border-style: solid;\n  border-radius: var(--jp-border-radius);\n  border-width: 1px;\n  padding: 6px 8px;\n}\n\n.jp-comments-comments-textarea:hover {\n  background-color: var(--jp-border-color2);\n}\n\n.jp-comments-comments-textarea:focus {\n  background-color: var(--jp-border-color2);\n  outline: var(--jp-border-width) solid var(--md-blue-500);\n  outline-offset: -1px;\n  box-shadow: inset 0 0 4px var(--md-blue-300);\n}\n\n.jp-comments-glowing-border {\n  outline-offset: -1px;\n  animation: glow-animation 3s infinite ease-in-out;\n}\n\n@keyframes glow-animation {\n  0%,\n  100% {\n    box-shadow: inset 0 0 0 var(--md-blue-300);\n    outline: var(--jp-border-width) solid rgb(30 150 253 / 0%);\n  }\n\n  50% {\n    box-shadow: inset 0 0 10px var(--md-blue-300);\n    outline: var(--jp-border-width) solid rgb(30 150 253 / 100%);\n  }\n}\n",""]);const s=c},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(o)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(c[i]=!0)}for(var m=0;m<e.length;m++){var l=[].concat(e[m]);o&&c[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},c=[],s=0;s<e.length;s++){var i=e[s],m=o.base?i[0]+o.base:i[0],l=a[m]||0,d="".concat(m," ").concat(l);a[m]=l+1;var u=n(d),p={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var h=r(p,o);o.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}c.push(d)}return c}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var c=0;c<a.length;c++){var s=n(a[c]);t[s].references--}for(var i=o(e,r),m=0;m<a.length;m++){var l=n(a[m]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=i}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}}]);